var MA=Object.defineProperty;var OA=(r,e,t)=>e in r?MA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ge=(r,e,t)=>OA(r,typeof e!="symbol"?e+"":e,t);function PA(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in r)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(r,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=t(a);fetch(a.href,o)}})();function FT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Hm={exports:{}},ku={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function LA(){if(_b)return ku;_b=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var f in a)f!=="key"&&(o[f]=a[f])}else o=a;return a=o.ref,{$$typeof:r,type:n,key:c,ref:a!==void 0?a:null,props:o}}return ku.Fragment=e,ku.jsx=t,ku.jsxs=t,ku}var bb;function VA(){return bb||(bb=1,Hm.exports=LA()),Hm.exports}var I=VA(),Fm={exports:{}},Ve={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb;function UA(){if(wb)return Ve;wb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=_&&L[_]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,V={};function x(L,ee,pe){this.props=L,this.context=ee,this.refs=V,this.updater=pe||A}x.prototype.isReactComponent={},x.prototype.setState=function(L,ee){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ee,"setState")},x.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function z(){}z.prototype=x.prototype;function $(L,ee,pe){this.props=L,this.context=ee,this.refs=V,this.updater=pe||A}var Y=$.prototype=new z;Y.constructor=$,C(Y,x.prototype),Y.isPureReactComponent=!0;var oe=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function N(L,ee,pe,ce,De,Le){return pe=Le.ref,{$$typeof:r,type:L,key:ee,ref:pe!==void 0?pe:null,props:Le}}function D(L,ee){return N(L.type,ee,void 0,void 0,void 0,L.props)}function R(L){return typeof L=="object"&&L!==null&&L.$$typeof===r}function M(L){var ee={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(pe){return ee[pe]})}var P=/\/+/g;function U(L,ee){return typeof L=="object"&&L!==null&&L.key!=null?M(""+L.key):ee.toString(36)}function k(){}function Me(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(k,k):(L.status="pending",L.then(function(ee){L.status==="pending"&&(L.status="fulfilled",L.value=ee)},function(ee){L.status==="pending"&&(L.status="rejected",L.reason=ee)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function Te(L,ee,pe,ce,De){var Le=typeof L;(Le==="undefined"||Le==="boolean")&&(L=null);var ke=!1;if(L===null)ke=!0;else switch(Le){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(L.$$typeof){case r:case e:ke=!0;break;case y:return ke=L._init,Te(ke(L._payload),ee,pe,ce,De)}}if(ke)return De=De(L),ke=ce===""?"."+U(L,0):ce,oe(De)?(pe="",ke!=null&&(pe=ke.replace(P,"$&/")+"/"),Te(De,ee,pe,"",function(_e){return _e})):De!=null&&(R(De)&&(De=D(De,pe+(De.key==null||L&&L.key===De.key?"":(""+De.key).replace(P,"$&/")+"/")+ke)),ee.push(De)),1;ke=0;var re=ce===""?".":ce+":";if(oe(L))for(var de=0;de<L.length;de++)ce=L[de],Le=re+U(ce,de),ke+=Te(ce,ee,pe,Le,De);else if(de=T(L),typeof de=="function")for(L=de.call(L),de=0;!(ce=L.next()).done;)ce=ce.value,Le=re+U(ce,de++),ke+=Te(ce,ee,pe,Le,De);else if(Le==="object"){if(typeof L.then=="function")return Te(Me(L),ee,pe,ce,De);throw ee=String(L),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ke}function H(L,ee,pe){if(L==null)return L;var ce=[],De=0;return Te(L,ce,"","",function(Le){return ee.call(pe,Le,De++)}),ce}function ne(L){if(L._status===-1){var ee=L._result;ee=ee(),ee.then(function(pe){(L._status===0||L._status===-1)&&(L._status=1,L._result=pe)},function(pe){(L._status===0||L._status===-1)&&(L._status=2,L._result=pe)}),L._status===-1&&(L._status=0,L._result=ee)}if(L._status===1)return L._result.default;throw L._result}var ue=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Se(){}return Ve.Children={map:H,forEach:function(L,ee,pe){H(L,function(){ee.apply(this,arguments)},pe)},count:function(L){var ee=0;return H(L,function(){ee++}),ee},toArray:function(L){return H(L,function(ee){return ee})||[]},only:function(L){if(!R(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ve.Component=x,Ve.Fragment=t,Ve.Profiler=a,Ve.PureComponent=$,Ve.StrictMode=n,Ve.Suspense=p,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(L){return le.H.useMemoCache(L)}},Ve.cache=function(L){return function(){return L.apply(null,arguments)}},Ve.cloneElement=function(L,ee,pe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ce=C({},L.props),De=L.key,Le=void 0;if(ee!=null)for(ke in ee.ref!==void 0&&(Le=void 0),ee.key!==void 0&&(De=""+ee.key),ee)!he.call(ee,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&ee.ref===void 0||(ce[ke]=ee[ke]);var ke=arguments.length-2;if(ke===1)ce.children=pe;else if(1<ke){for(var re=Array(ke),de=0;de<ke;de++)re[de]=arguments[de+2];ce.children=re}return N(L.type,De,void 0,void 0,Le,ce)},Ve.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Ve.createElement=function(L,ee,pe){var ce,De={},Le=null;if(ee!=null)for(ce in ee.key!==void 0&&(Le=""+ee.key),ee)he.call(ee,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(De[ce]=ee[ce]);var ke=arguments.length-2;if(ke===1)De.children=pe;else if(1<ke){for(var re=Array(ke),de=0;de<ke;de++)re[de]=arguments[de+2];De.children=re}if(L&&L.defaultProps)for(ce in ke=L.defaultProps,ke)De[ce]===void 0&&(De[ce]=ke[ce]);return N(L,Le,void 0,void 0,null,De)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(L){return{$$typeof:f,render:L}},Ve.isValidElement=R,Ve.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ne}},Ve.memo=function(L,ee){return{$$typeof:g,type:L,compare:ee===void 0?null:ee}},Ve.startTransition=function(L){var ee=le.T,pe={};le.T=pe;try{var ce=L(),De=le.S;De!==null&&De(pe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(Se,ue)}catch(Le){ue(Le)}finally{le.T=ee}},Ve.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ve.use=function(L){return le.H.use(L)},Ve.useActionState=function(L,ee,pe){return le.H.useActionState(L,ee,pe)},Ve.useCallback=function(L,ee){return le.H.useCallback(L,ee)},Ve.useContext=function(L){return le.H.useContext(L)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(L,ee){return le.H.useDeferredValue(L,ee)},Ve.useEffect=function(L,ee,pe){var ce=le.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(L,ee)},Ve.useId=function(){return le.H.useId()},Ve.useImperativeHandle=function(L,ee,pe){return le.H.useImperativeHandle(L,ee,pe)},Ve.useInsertionEffect=function(L,ee){return le.H.useInsertionEffect(L,ee)},Ve.useLayoutEffect=function(L,ee){return le.H.useLayoutEffect(L,ee)},Ve.useMemo=function(L,ee){return le.H.useMemo(L,ee)},Ve.useOptimistic=function(L,ee){return le.H.useOptimistic(L,ee)},Ve.useReducer=function(L,ee,pe){return le.H.useReducer(L,ee,pe)},Ve.useRef=function(L){return le.H.useRef(L)},Ve.useState=function(L){return le.H.useState(L)},Ve.useSyncExternalStore=function(L,ee,pe){return le.H.useSyncExternalStore(L,ee,pe)},Ve.useTransition=function(){return le.H.useTransition()},Ve.version="19.1.0",Ve}var Tb;function ey(){return Tb||(Tb=1,Fm.exports=UA()),Fm.exports}var Q=ey();const Z=FT(Q),YT=PA({__proto__:null,default:Z},[Q]);var Ym={exports:{}},Iu={},qm={exports:{}},Gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function jA(){return Eb||(Eb=1,function(r){function e(H,ne){var ue=H.length;H.push(ne);e:for(;0<ue;){var Se=ue-1>>>1,L=H[Se];if(0<a(L,ne))H[Se]=ne,H[ue]=L,ue=Se;else break e}}function t(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var ne=H[0],ue=H.pop();if(ue!==ne){H[0]=ue;e:for(var Se=0,L=H.length,ee=L>>>1;Se<ee;){var pe=2*(Se+1)-1,ce=H[pe],De=pe+1,Le=H[De];if(0>a(ce,ue))De<L&&0>a(Le,ce)?(H[Se]=Le,H[De]=ue,Se=De):(H[Se]=ce,H[pe]=ue,Se=pe);else if(De<L&&0>a(Le,ue))H[Se]=Le,H[De]=ue,Se=De;else break e}}return ne}function a(H,ne){var ue=H.sortIndex-ne.sortIndex;return ue!==0?ue:H.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();r.unstable_now=function(){return c.now()-f}}var p=[],g=[],y=1,_=null,T=3,A=!1,C=!1,V=!1,x=!1,z=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function oe(H){for(var ne=t(g);ne!==null;){if(ne.callback===null)n(g);else if(ne.startTime<=H)n(g),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=t(g)}}function le(H){if(V=!1,oe(H),!C)if(t(p)!==null)C=!0,he||(he=!0,U());else{var ne=t(g);ne!==null&&Te(le,ne.startTime-H)}}var he=!1,N=-1,D=5,R=-1;function M(){return x?!0:!(r.unstable_now()-R<D)}function P(){if(x=!1,he){var H=r.unstable_now();R=H;var ne=!0;try{e:{C=!1,V&&(V=!1,$(N),N=-1),A=!0;var ue=T;try{t:{for(oe(H),_=t(p);_!==null&&!(_.expirationTime>H&&M());){var Se=_.callback;if(typeof Se=="function"){_.callback=null,T=_.priorityLevel;var L=Se(_.expirationTime<=H);if(H=r.unstable_now(),typeof L=="function"){_.callback=L,oe(H),ne=!0;break t}_===t(p)&&n(p),oe(H)}else n(p);_=t(p)}if(_!==null)ne=!0;else{var ee=t(g);ee!==null&&Te(le,ee.startTime-H),ne=!1}}break e}finally{_=null,T=ue,A=!1}ne=void 0}}finally{ne?U():he=!1}}}var U;if(typeof Y=="function")U=function(){Y(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Me=k.port2;k.port1.onmessage=P,U=function(){Me.postMessage(null)}}else U=function(){z(P,0)};function Te(H,ne){N=z(function(){H(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(H){switch(T){case 1:case 2:case 3:var ne=3;break;default:ne=T}var ue=T;T=ne;try{return H()}finally{T=ue}},r.unstable_requestPaint=function(){x=!0},r.unstable_runWithPriority=function(H,ne){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ue=T;T=H;try{return ne()}finally{T=ue}},r.unstable_scheduleCallback=function(H,ne,ue){var Se=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Se+ue:Se):ue=Se,H){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ue+L,H={id:y++,callback:ne,priorityLevel:H,startTime:ue,expirationTime:L,sortIndex:-1},ue>Se?(H.sortIndex=ue,e(g,H),t(p)===null&&H===t(g)&&(V?($(N),N=-1):V=!0,Te(le,ue-Se))):(H.sortIndex=L,e(p,H),C||A||(C=!0,he||(he=!0,U()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var ne=T;return function(){var ue=T;T=ne;try{return H.apply(this,arguments)}finally{T=ue}}}}(Gm)),Gm}var Sb;function BA(){return Sb||(Sb=1,qm.exports=jA()),qm.exports}var Qm={exports:{}},mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function zA(){if(Db)return mn;Db=1;var r=ey();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(p,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:p,containerInfo:g,implementation:y}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,mn.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(p,g,null,y)},mn.flushSync=function(p){var g=c.T,y=n.p;try{if(c.T=null,n.p=2,p)return p()}finally{c.T=g,n.p=y,n.d.f()}},mn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,n.d.C(p,g))},mn.prefetchDNS=function(p){typeof p=="string"&&n.d.D(p)},mn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?n.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:A}):y==="script"&&n.d.X(p,{crossOrigin:_,integrity:T,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);n.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&n.d.M(p)},mn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=f(y,g.crossOrigin);n.d.L(p,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=f(g.as,g.crossOrigin);n.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else n.d.m(p)},mn.requestFormReset=function(p){n.d.r(p)},mn.unstable_batchedUpdates=function(p,g){return p(g)},mn.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.1.0",mn}var Ab;function qT(){if(Ab)return Qm.exports;Ab=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qm.exports=zA(),Qm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function HA(){if(Cb)return Iu;Cb=1;var r=BA(),e=ey(),t=qT();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(n(188))}function p(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(n(188));return s!==i?null:i}for(var l=i,u=s;;){var h=l.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){l=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===l)return f(h),i;if(m===u)return f(h),s;m=m.sibling}throw Error(n(188))}if(l.return!==u.return)l=h,u=m;else{for(var w=!1,E=h.child;E;){if(E===l){w=!0,l=h,u=m;break}if(E===u){w=!0,u=h,l=m;break}E=E.sibling}if(!w){for(E=m.child;E;){if(E===l){w=!0,l=m,u=h;break}if(E===u){w=!0,u=m,l=h;break}E=E.sibling}if(!w)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:s}function g(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=g(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function Me(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case x:return"Profiler";case V:return"StrictMode";case le:return"Suspense";case he:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case A:return"Portal";case Y:return(i.displayName||"Context")+".Provider";case $:return(i._context.displayName||"Context")+".Consumer";case oe:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:Me(i.type)||"Memo";case D:s=i._payload,i=i._init;try{return Me(i(s))}catch{}}return null}var Te=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Se=[],L=-1;function ee(i){return{current:i}}function pe(i){0>L||(i.current=Se[L],Se[L]=null,L--)}function ce(i,s){L++,Se[L]=i.current,i.current=s}var De=ee(null),Le=ee(null),ke=ee(null),re=ee(null);function de(i,s){switch(ce(ke,s),ce(Le,i),ce(De,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Q0(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Q0(s),i=K0(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}pe(De),ce(De,i)}function _e(){pe(De),pe(Le),pe(ke)}function it(i){i.memoizedState!==null&&ce(re,i);var s=De.current,l=K0(s,i.type);s!==l&&(ce(Le,i),ce(De,l))}function ct(i){Le.current===i&&(pe(De),pe(Le)),re.current===i&&(pe(re),Du._currentValue=ue)}var wr=Object.prototype.hasOwnProperty,Fa=r.unstable_scheduleCallback,Ya=r.unstable_cancelCallback,Tl=r.unstable_shouldYield,Cc=r.unstable_requestPaint,Qn=r.unstable_now,Hh=r.unstable_getCurrentPriorityLevel,El=r.unstable_ImmediatePriority,qs=r.unstable_UserBlockingPriority,qa=r.unstable_NormalPriority,Fh=r.unstable_LowPriority,Gs=r.unstable_IdlePriority,Sl=r.log,Rc=r.unstable_setDisableYieldValue,St=null,at=null;function On(i){if(typeof Sl=="function"&&Rc(i),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(St,i)}catch{}}var hn=Math.clz32?Math.clz32:Ga,xc=Math.log,Yh=Math.LN2;function Ga(i){return i>>>=0,i===0?32:31-(xc(i)/Yh|0)|0}var Qa=256,Ka=4194304;function cr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Qs(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var h=0,m=i.suspendedLanes,w=i.pingedLanes;i=i.warmLanes;var E=u&134217727;return E!==0?(u=E&~m,u!==0?h=cr(u):(w&=E,w!==0?h=cr(w):l||(l=E&~i,l!==0&&(h=cr(l))))):(E=u&~m,E!==0?h=cr(E):w!==0?h=cr(w):l||(l=u&~i,l!==0&&(h=cr(l)))),h===0?0:s!==0&&s!==h&&(s&m)===0&&(m=h&-h,l=s&-s,m>=l||m===32&&(l&4194048)!==0)?s:h}function Wa(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Dl(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Al(){var i=Qa;return Qa<<=1,(Qa&4194048)===0&&(Qa=256),i}function Cl(){var i=Ka;return Ka<<=1,(Ka&62914560)===0&&(Ka=4194304),i}function Jr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ei(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Rl(i,s,l,u,h,m){var w=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var E=i.entanglements,O=i.expirationTimes,G=i.hiddenUpdates;for(l=w&~l;0<l;){var J=31-hn(l),ie=1<<J;E[J]=0,O[J]=-1;var K=G[J];if(K!==null)for(G[J]=null,J=0;J<K.length;J++){var W=K[J];W!==null&&(W.lane&=-536870913)}l&=~ie}u!==0&&Tr(i,u,0),m!==0&&h===0&&i.tag!==0&&(i.suspendedLanes|=m&~(w&~s))}function Tr(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-hn(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&4194090}function xl(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-hn(l),h=1<<u;h&s|i[u]&s&&(i[u]|=s),l&=~h}}function Bi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ks(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function zi(){var i=ne.p;return i!==0?i:(i=window.event,i===void 0?32:hb(i.type))}function kc(i,s){var l=ne.p;try{return ne.p=i,s()}finally{ne.p=l}}var vt=Math.random().toString(36).slice(2),Ht="__reactFiber$"+vt,Lt="__reactProps$"+vt,Kn="__reactContainer$"+vt,kl="__reactEvents$"+vt,qh="__reactListeners$"+vt,Hi="__reactHandles$"+vt,Ic="__reactResources$"+vt,Xa="__reactMarker$"+vt;function Fi(i){delete i[Ht],delete i[Lt],delete i[kl],delete i[qh],delete i[Hi]}function ti(i){var s=i[Ht];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Kn]||l[Ht]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Z0(i);i!==null;){if(l=i[Ht])return l;i=Z0(i)}return s}i=l,l=i.parentNode}return null}function Er(i){if(i=i[Ht]||i[Kn]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Sr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function wn(i){var s=i[Ic];return s||(s=i[Ic]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xt(i){i[Xa]=!0}var Il=new Set,Ws={};function dr(i,s){ni(i,s),ni(i+"Capture",s)}function ni(i,s){for(Ws[i]=s,i=0;i<s.length;i++)Il.add(s[i])}var Nc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mc={},$a={};function Oc(i){return wr.call($a,i)?!0:wr.call(Mc,i)?!1:Nc.test(i)?$a[i]=!0:(Mc[i]=!0,!1)}function Yi(i,s,l){if(Oc(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function Dr(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function rn(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}var Za,Pc;function ri(i){if(Za===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Za=s&&s[1]||"",Pc=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Za+i+Pc}var Xs=!1;function $s(i,s){if(!i||Xs)return"";Xs=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(W){var K=W}Reflect.construct(i,[],ie)}else{try{ie.call()}catch(W){K=W}i.call(ie.prototype)}}else{try{throw Error()}catch(W){K=W}(ie=i())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),w=m[0],E=m[1];if(w&&E){var O=w.split(`
`),G=E.split(`
`);for(h=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(u===O.length||h===G.length)for(u=O.length-1,h=G.length-1;1<=u&&0<=h&&O[u]!==G[h];)h--;for(;1<=u&&0<=h;u--,h--)if(O[u]!==G[h]){if(u!==1||h!==1)do if(u--,h--,0>h||O[u]!==G[h]){var J=`
`+O[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=h);break}}}finally{Xs=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ri(l):""}function Nl(i){switch(i.tag){case 26:case 27:case 5:return ri(i.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return $s(i.type,!1);case 11:return $s(i.type.render,!1);case 1:return $s(i.type,!0);case 31:return ri("Activity");default:return""}}function Zs(i){try{var s="";do s+=Nl(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ml(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Gh(i){var s=Ml(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),u=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return h.call(this)},set:function(w){u=""+w,m.call(this,w)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Js(i){i._valueTracker||(i._valueTracker=Gh(i))}function Ol(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=Ml(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function Ja(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Qh=/[\n"\\]/g;function Vt(i){return i.replace(Qh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Pn(i,s,l,u,h,m,w,E){i.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?i.type=w:i.removeAttribute("type"),s!=null?w==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Tn(s)):i.value!==""+Tn(s)&&(i.value=""+Tn(s)):w!=="submit"&&w!=="reset"||i.removeAttribute("value"),s!=null?qi(i,w,Tn(s)):l!=null?qi(i,w,Tn(l)):u!=null&&i.removeAttribute("value"),h==null&&m!=null&&(i.defaultChecked=!!m),h!=null&&(i.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.name=""+Tn(E):i.removeAttribute("name")}function es(i,s,l,u,h,m,w,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),s!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;l=l!=null?""+Tn(l):"",s=s!=null?""+Tn(s):l,E||s===i.value||(i.value=s),i.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=E?i.checked:!!u,i.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(i.name=w)}function qi(i,s,l){s==="number"&&Ja(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ii(i,s,l,u){if(i=i.options,s){s={};for(var h=0;h<l.length;h++)s["$"+l[h]]=!0;for(l=0;l<i.length;l++)h=s.hasOwnProperty("$"+i[l].value),i[l].selected!==h&&(i[l].selected=h),h&&u&&(i[l].defaultSelected=!0)}else{for(l=""+Tn(l),s=null,h=0;h<i.length;h++){if(i[h].value===l){i[h].selected=!0,u&&(i[h].defaultSelected=!0);return}s!==null||i[h].disabled||(s=i[h])}s!==null&&(s.selected=!0)}}function dt(i,s,l){if(s!=null&&(s=""+Tn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Tn(l):""}function ts(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(n(92));if(Te(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=Tn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u)}function Wn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var ns=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lc(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||ns.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function Pl(i,s,l){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&l[h]!==u&&Lc(i,h,u)}else for(var m in s)s.hasOwnProperty(m)&&Lc(i,m,s[m])}function Ll(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(i){return Wh.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ai=null;function Xn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var si=null,oi=null;function Vl(i){var s=Er(i);if(s&&(i=s.stateNode)){var l=i[Lt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Pn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Vt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var h=u[Lt]||null;if(!h)throw Error(n(90));Pn(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&Ol(u)}break e;case"textarea":dt(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ii(i,!!l.multiple,s,!1)}}}var Ar=!1;function Vc(i,s,l){if(Ar)return i(s,l);Ar=!0;try{var u=i(s);return u}finally{if(Ar=!1,(si!==null||oi!==null)&&(kd(),si&&(s=si,i=oi,oi=si=null,Vl(s),i)))for(s=0;s<i.length;s++)Vl(i[s])}}function rs(i,s){var l=i.stateNode;if(l===null)return null;var u=l[Lt]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$n=!1;if(fr)try{var is={};Object.defineProperty(is,"passive",{get:function(){$n=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{$n=!1}var Cr=null,Gi=null,li=null;function Ul(){if(li)return li;var i,s=Gi,l=s.length,u,h="value"in Cr?Cr.value:Cr.textContent,m=h.length;for(i=0;i<l&&s[i]===h[i];i++);var w=l-i;for(u=1;u<=w&&s[l-u]===h[m-u];u++);return li=h.slice(i,1<u?1-u:void 0)}function Rr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function xr(){return!0}function jl(){return!1}function Wt(i){function s(l,u,h,m,w){this._reactName=l,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(l=i[E],this[E]=l?l(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?xr:jl,this.isPropagationStopped=jl,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xr)},persist:function(){},isPersistent:xr}),s}var tt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},to=Wt(tt),as=y({},tt,{view:0,detail:0}),Uc=Wt(as),no,ro,kr,ss=y({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:us,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==kr&&(kr&&i.type==="mousemove"?(no=i.screenX-kr.screenX,ro=i.screenY-kr.screenY):ro=no=0,kr=i),no)},movementY:function(i){return"movementY"in i?i.movementY:ro}}),Zn=Wt(ss),jc=y({},ss,{dataTransfer:0}),Xh=Wt(jc),os=y({},as,{relatedTarget:0}),io=Wt(os),Bl=y({},tt,{animationName:0,elapsedTime:0,pseudoElement:0}),ao=Wt(Bl),Bc=y({},tt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),so=Wt(Bc),$h=y({},tt,{data:0}),zl=Wt($h),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Hc[i])?!!s[i]:!1}function us(){return Hl}var Fc=y({},as,{key:function(i){if(i.key){var s=ls[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Rr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?zc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:us,charCode:function(i){return i.type==="keypress"?Rr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Rr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),oo=Wt(Fc),Yc=y({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fl=Wt(Yc),ui=y({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:us}),qc=Wt(ui),Gc=y({},tt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qc=Wt(Gc),Kc=y({},ss,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),lo=Wt(Kc),En=y({},tt,{newState:0,oldState:0}),Wc=Wt(En),Xc=[9,13,27,32],Ir=fr&&"CompositionEvent"in window,d=null;fr&&"documentMode"in document&&(d=document.documentMode);var v=fr&&"TextEvent"in window&&!d,b=fr&&(!Ir||d&&8<d&&11>=d),S=" ",F=!1;function X(i,s){switch(i){case"keyup":return Xc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ge=!1;function Ft(i,s){switch(i){case"compositionend":return fe(s);case"keypress":return s.which!==32?null:(F=!0,S);case"textInput":return i=s.data,i===S&&F?null:i;default:return null}}function Qe(i,s){if(Ge)return i==="compositionend"||!Ir&&X(i,s)?(i=Ul(),li=Gi=Cr=null,Ge=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var Xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Xt[i.type]:s==="textarea"}function ci(i,s,l,u){si?oi?oi.push(u):oi=[u]:si=u,s=Ld(s,"onChange"),0<s.length&&(l=new to("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var an=null,Nr=null;function Yl(i){H0(i,0)}function $c(i){var s=Sr(i);if(Ol(s))return i}function uv(i,s){if(i==="change")return s}var cv=!1;if(fr){var Zh;if(fr){var Jh="oninput"in document;if(!Jh){var dv=document.createElement("div");dv.setAttribute("oninput","return;"),Jh=typeof dv.oninput=="function"}Zh=Jh}else Zh=!1;cv=Zh&&(!document.documentMode||9<document.documentMode)}function fv(){an&&(an.detachEvent("onpropertychange",hv),Nr=an=null)}function hv(i){if(i.propertyName==="value"&&$c(Nr)){var s=[];ci(s,Nr,i,Xn(i)),Vc(Yl,s)}}function uD(i,s,l){i==="focusin"?(fv(),an=s,Nr=l,an.attachEvent("onpropertychange",hv)):i==="focusout"&&fv()}function cD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return $c(Nr)}function dD(i,s){if(i==="click")return $c(s)}function fD(i,s){if(i==="input"||i==="change")return $c(s)}function hD(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ln=typeof Object.is=="function"?Object.is:hD;function ql(i,s){if(Ln(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var h=l[u];if(!wr.call(s,h)||!Ln(i[h],s[h]))return!1}return!0}function pv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function mv(i,s){var l=pv(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=pv(l)}}function gv(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?gv(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function yv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ja(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=Ja(i.document)}return s}function ep(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var pD=fr&&"documentMode"in document&&11>=document.documentMode,uo=null,tp=null,Gl=null,np=!1;function vv(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;np||uo==null||uo!==Ja(u)||(u=uo,"selectionStart"in u&&ep(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Gl&&ql(Gl,u)||(Gl=u,u=Ld(tp,"onSelect"),0<u.length&&(s=new to("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=uo)))}function cs(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var co={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},rp={},_v={};fr&&(_v=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ds(i){if(rp[i])return rp[i];if(!co[i])return i;var s=co[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in _v)return rp[i]=s[l];return i}var bv=ds("animationend"),wv=ds("animationiteration"),Tv=ds("animationstart"),mD=ds("transitionrun"),gD=ds("transitionstart"),yD=ds("transitioncancel"),Ev=ds("transitionend"),Sv=new Map,ip="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ip.push("scrollEnd");function hr(i,s){Sv.set(i,s),dr(s,[i])}var Dv=new WeakMap;function Jn(i,s){if(typeof i=="object"&&i!==null){var l=Dv.get(i);return l!==void 0?l:(s={value:i,source:s,stack:Zs(s)},Dv.set(i,s),s)}return{value:i,source:s,stack:Zs(s)}}var er=[],fo=0,ap=0;function Zc(){for(var i=fo,s=ap=fo=0;s<i;){var l=er[s];er[s++]=null;var u=er[s];er[s++]=null;var h=er[s];er[s++]=null;var m=er[s];if(er[s++]=null,u!==null&&h!==null){var w=u.pending;w===null?h.next=h:(h.next=w.next,w.next=h),u.pending=h}m!==0&&Av(l,h,m)}}function Jc(i,s,l,u){er[fo++]=i,er[fo++]=s,er[fo++]=l,er[fo++]=u,ap|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function sp(i,s,l,u){return Jc(i,s,l,u),ed(i)}function ho(i,s){return Jc(i,null,null,s),ed(i)}function Av(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var h=!1,m=i.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(h=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,h&&s!==null&&(h=31-hn(l),i=m.hiddenUpdates,u=i[h],u===null?i[h]=[s]:u.push(s),s.lane=l|536870912),m):null}function ed(i){if(50<yu)throw yu=0,fm=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var po={};function vD(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,s,l,u){return new vD(i,s,l,u)}function op(i){return i=i.prototype,!(!i||!i.isReactComponent)}function di(i,s){var l=i.alternate;return l===null?(l=Vn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Cv(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function td(i,s,l,u,h,m){var w=0;if(u=i,typeof i=="function")op(i)&&(w=1);else if(typeof i=="string")w=bA(i,l,De.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Vn(31,l,s,h),i.elementType=R,i.lanes=m,i;case C:return fs(l.children,h,m,s);case V:w=8,h|=24;break;case x:return i=Vn(12,l,s,h|2),i.elementType=x,i.lanes=m,i;case le:return i=Vn(13,l,s,h),i.elementType=le,i.lanes=m,i;case he:return i=Vn(19,l,s,h),i.elementType=he,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:case Y:w=10;break e;case $:w=9;break e;case oe:w=11;break e;case N:w=14;break e;case D:w=16,u=null;break e}w=29,l=Error(n(130,i===null?"null":typeof i,"")),u=null}return s=Vn(w,l,s,h),s.elementType=i,s.type=u,s.lanes=m,s}function fs(i,s,l,u){return i=Vn(7,i,u,s),i.lanes=l,i}function lp(i,s,l){return i=Vn(6,i,null,s),i.lanes=l,i}function up(i,s,l){return s=Vn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var mo=[],go=0,nd=null,rd=0,tr=[],nr=0,hs=null,fi=1,hi="";function ps(i,s){mo[go++]=rd,mo[go++]=nd,nd=i,rd=s}function Rv(i,s,l){tr[nr++]=fi,tr[nr++]=hi,tr[nr++]=hs,hs=i;var u=fi;i=hi;var h=32-hn(u)-1;u&=~(1<<h),l+=1;var m=32-hn(s)+h;if(30<m){var w=h-h%5;m=(u&(1<<w)-1).toString(32),u>>=w,h-=w,fi=1<<32-hn(s)+h|l<<h|u,hi=m+i}else fi=1<<m|l<<h|u,hi=i}function cp(i){i.return!==null&&(ps(i,1),Rv(i,1,0))}function dp(i){for(;i===nd;)nd=mo[--go],mo[go]=null,rd=mo[--go],mo[go]=null;for(;i===hs;)hs=tr[--nr],tr[nr]=null,hi=tr[--nr],tr[nr]=null,fi=tr[--nr],tr[nr]=null}var Sn=null,Dt=null,Je=!1,ms=null,Mr=!1,fp=Error(n(519));function gs(i){var s=Error(n(418,""));throw Wl(Jn(s,i)),fp}function xv(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[Ht]=i,s[Lt]=u,l){case"dialog":Fe("cancel",s),Fe("close",s);break;case"iframe":case"object":case"embed":Fe("load",s);break;case"video":case"audio":for(l=0;l<_u.length;l++)Fe(_u[l],s);break;case"source":Fe("error",s);break;case"img":case"image":case"link":Fe("error",s),Fe("load",s);break;case"details":Fe("toggle",s);break;case"input":Fe("invalid",s),es(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Js(s);break;case"select":Fe("invalid",s);break;case"textarea":Fe("invalid",s),ts(s,u.value,u.defaultValue,u.children),Js(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||G0(s.textContent,l)?(u.popover!=null&&(Fe("beforetoggle",s),Fe("toggle",s)),u.onScroll!=null&&Fe("scroll",s),u.onScrollEnd!=null&&Fe("scrollend",s),u.onClick!=null&&(s.onclick=Vd),s=!0):s=!1,s||gs(i)}function kv(i){for(Sn=i.return;Sn;)switch(Sn.tag){case 5:case 13:Mr=!1;return;case 27:case 3:Mr=!0;return;default:Sn=Sn.return}}function Ql(i){if(i!==Sn)return!1;if(!Je)return kv(i),Je=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Rm(i.type,i.memoizedProps)),l=!l),l&&Dt&&gs(i),kv(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){Dt=mr(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}Dt=null}}else s===27?(s=Dt,la(i.type)?(i=Nm,Nm=null,Dt=i):Dt=s):Dt=Sn?mr(i.stateNode.nextSibling):null;return!0}function Kl(){Dt=Sn=null,Je=!1}function Iv(){var i=ms;return i!==null&&(xn===null?xn=i:xn.push.apply(xn,i),ms=null),i}function Wl(i){ms===null?ms=[i]:ms.push(i)}var hp=ee(null),ys=null,pi=null;function Qi(i,s,l){ce(hp,s._currentValue),s._currentValue=l}function mi(i){i._currentValue=hp.current,pe(hp)}function pp(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function mp(i,s,l,u){var h=i.child;for(h!==null&&(h.return=i);h!==null;){var m=h.dependencies;if(m!==null){var w=h.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=h;for(var O=0;O<s.length;O++)if(E.context===s[O]){m.lanes|=l,E=m.alternate,E!==null&&(E.lanes|=l),pp(m.return,l,i),u||(w=null);break e}m=E.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(n(341));w.lanes|=l,m=w.alternate,m!==null&&(m.lanes|=l),pp(w,l,i),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===i){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Xl(i,s,l,u){i=null;for(var h=s,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(n(387));if(w=w.memoizedProps,w!==null){var E=h.type;Ln(h.pendingProps.value,w.value)||(i!==null?i.push(E):i=[E])}}else if(h===re.current){if(w=h.alternate,w===null)throw Error(n(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(i!==null?i.push(Du):i=[Du])}h=h.return}i!==null&&mp(s,i,l,u),s.flags|=262144}function id(i){for(i=i.firstContext;i!==null;){if(!Ln(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function vs(i){ys=i,pi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function pn(i){return Nv(ys,i)}function ad(i,s){return ys===null&&vs(i),Nv(i,s)}function Nv(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},pi===null){if(i===null)throw Error(n(308));pi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else pi=pi.next=s;return l}var _D=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},bD=r.unstable_scheduleCallback,wD=r.unstable_NormalPriority,qt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gp(){return{controller:new _D,data:new Map,refCount:0}}function $l(i){i.refCount--,i.refCount===0&&bD(wD,function(){i.controller.abort()})}var Zl=null,yp=0,yo=0,vo=null;function TD(i,s){if(Zl===null){var l=Zl=[];yp=0,yo=_m(),vo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return yp++,s.then(Mv,Mv),s}function Mv(){if(--yp===0&&Zl!==null){vo!==null&&(vo.status="fulfilled");var i=Zl;Zl=null,yo=0,vo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function ED(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(h){l.push(h)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<l.length;h++)(0,l[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<l.length;h++)(0,l[h])(void 0)}),u}var Ov=H.S;H.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&TD(i,s),Ov!==null&&Ov(i,s)};var _s=ee(null);function vp(){var i=_s.current;return i!==null?i:gt.pooledCache}function sd(i,s){s===null?ce(_s,_s.current):ce(_s,s.pool)}function Pv(){var i=vp();return i===null?null:{parent:qt._currentValue,pool:i}}var Jl=Error(n(460)),Lv=Error(n(474)),od=Error(n(542)),_p={then:function(){}};function Vv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ld(){}function Uv(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(ld,ld),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Bv(i),i;default:if(typeof s.status=="string")s.then(ld,ld);else{if(i=gt,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Bv(i),i}throw eu=s,Jl}}var eu=null;function jv(){if(eu===null)throw Error(n(459));var i=eu;return eu=null,i}function Bv(i){if(i===Jl||i===od)throw Error(n(483))}var Ki=!1;function bp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Wi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xi(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(st&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=ed(i),Av(i,null,l),s}return Jc(i,u,s,l),ed(i)}function tu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,xl(i,l)}}function Tp(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var h=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?h=m=w:m=m.next=w,l=l.next}while(l!==null);m===null?h=m=s:m=m.next=s}else h=m=s;l={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var Ep=!1;function nu(){if(Ep){var i=vo;if(i!==null)throw i}}function ru(i,s,l,u){Ep=!1;var h=i.updateQueue;Ki=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var O=E,G=O.next;O.next=null,w===null?m=G:w.next=G,w=O;var J=i.alternate;J!==null&&(J=J.updateQueue,E=J.lastBaseUpdate,E!==w&&(E===null?J.firstBaseUpdate=G:E.next=G,J.lastBaseUpdate=O))}if(m!==null){var ie=h.baseState;w=0,J=G=O=null,E=m;do{var K=E.lane&-536870913,W=K!==E.lane;if(W?(Ke&K)===K:(u&K)===K){K!==0&&K===yo&&(Ep=!0),J!==null&&(J=J.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ie=i,Ce=E;K=s;var pt=l;switch(Ce.tag){case 1:if(Ie=Ce.payload,typeof Ie=="function"){ie=Ie.call(pt,ie,K);break e}ie=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ce.payload,K=typeof Ie=="function"?Ie.call(pt,ie,K):Ie,K==null)break e;ie=y({},ie,K);break e;case 2:Ki=!0}}K=E.callback,K!==null&&(i.flags|=64,W&&(i.flags|=8192),W=h.callbacks,W===null?h.callbacks=[K]:W.push(K))}else W={lane:K,tag:E.tag,payload:E.payload,callback:E.callback,next:null},J===null?(G=J=W,O=ie):J=J.next=W,w|=K;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;W=E,E=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);J===null&&(O=ie),h.baseState=O,h.firstBaseUpdate=G,h.lastBaseUpdate=J,m===null&&(h.shared.lanes=0),ia|=w,i.lanes=w,i.memoizedState=ie}}function zv(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function Hv(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)zv(l[i],s)}var _o=ee(null),ud=ee(0);function Fv(i,s){i=Ti,ce(ud,i),ce(_o,s),Ti=i|s.baseLanes}function Sp(){ce(ud,Ti),ce(_o,_o.current)}function Dp(){Ti=ud.current,pe(_o),pe(ud)}var $i=0,Ue=null,ft=null,Ut=null,cd=!1,bo=!1,bs=!1,dd=0,iu=0,wo=null,SD=0;function kt(){throw Error(n(321))}function Ap(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Ln(i[l],s[l]))return!1;return!0}function Cp(i,s,l,u,h,m){return $i=m,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=i===null||i.memoizedState===null?A_:C_,bs=!1,m=l(u,h),bs=!1,bo&&(m=qv(s,l,u,h)),Yv(i),m}function Yv(i){H.H=yd;var s=ft!==null&&ft.next!==null;if($i=0,Ut=ft=Ue=null,cd=!1,iu=0,wo=null,s)throw Error(n(300));i===null||$t||(i=i.dependencies,i!==null&&id(i)&&($t=!0))}function qv(i,s,l,u){Ue=i;var h=0;do{if(bo&&(wo=null),iu=0,bo=!1,25<=h)throw Error(n(301));if(h+=1,Ut=ft=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=ID,m=s(l,u)}while(bo);return m}function DD(){var i=H.H,s=i.useState()[0];return s=typeof s.then=="function"?au(s):s,i=i.useState()[0],(ft!==null?ft.memoizedState:null)!==i&&(Ue.flags|=1024),s}function Rp(){var i=dd!==0;return dd=0,i}function xp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function kp(i){if(cd){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}cd=!1}$i=0,Ut=ft=Ue=null,bo=!1,iu=dd=0,wo=null}function Cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Ue.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function jt(){if(ft===null){var i=Ue.alternate;i=i!==null?i.memoizedState:null}else i=ft.next;var s=Ut===null?Ue.memoizedState:Ut.next;if(s!==null)Ut=s,ft=i;else{if(i===null)throw Ue.alternate===null?Error(n(467)):Error(n(310));ft=i,i={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Ut===null?Ue.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function Ip(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(i){var s=iu;return iu+=1,wo===null&&(wo=[]),i=Uv(wo,i,s),s=Ue,(Ut===null?s.memoizedState:Ut.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?A_:C_),i}function fd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return au(i);if(i.$$typeof===Y)return pn(i)}throw Error(n(438,String(i)))}function Np(i){var s=null,l=Ue.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Ip(),Ue.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=M;return s.index++,l}function gi(i,s){return typeof s=="function"?s(i):s}function hd(i){var s=jt();return Mp(s,ft,i)}function Mp(i,s,l){var u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=l;var h=i.baseQueue,m=u.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}s.baseQueue=h=m,u.pending=null}if(m=i.baseState,h===null)i.memoizedState=m;else{s=h.next;var E=w=null,O=null,G=s,J=!1;do{var ie=G.lane&-536870913;if(ie!==G.lane?(Ke&ie)===ie:($i&ie)===ie){var K=G.revertLane;if(K===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ie===yo&&(J=!0);else if(($i&K)===K){G=G.next,K===yo&&(J=!0);continue}else ie={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(E=O=ie,w=m):O=O.next=ie,Ue.lanes|=K,ia|=K;ie=G.action,bs&&l(m,ie),m=G.hasEagerState?G.eagerState:l(m,ie)}else K={lane:ie,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(E=O=K,w=m):O=O.next=K,Ue.lanes|=ie,ia|=ie;G=G.next}while(G!==null&&G!==s);if(O===null?w=m:O.next=E,!Ln(m,i.memoizedState)&&($t=!0,J&&(l=vo,l!==null)))throw l;i.memoizedState=m,i.baseState=w,i.baseQueue=O,u.lastRenderedState=m}return h===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Op(i){var s=jt(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var u=l.dispatch,h=l.pending,m=s.memoizedState;if(h!==null){l.pending=null;var w=h=h.next;do m=i(m,w.action),w=w.next;while(w!==h);Ln(m,s.memoizedState)||($t=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),l.lastRenderedState=m}return[m,u]}function Gv(i,s,l){var u=Ue,h=jt(),m=Je;if(m){if(l===void 0)throw Error(n(407));l=l()}else l=s();var w=!Ln((ft||h).memoizedState,l);w&&(h.memoizedState=l,$t=!0),h=h.queue;var E=Wv.bind(null,u,h,i);if(su(2048,8,E,[i]),h.getSnapshot!==s||w||Ut!==null&&Ut.memoizedState.tag&1){if(u.flags|=2048,To(9,pd(),Kv.bind(null,u,h,l,s),null),gt===null)throw Error(n(349));m||($i&124)!==0||Qv(u,s,l)}return l}function Qv(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ue.updateQueue,s===null?(s=Ip(),Ue.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function Kv(i,s,l,u){s.value=l,s.getSnapshot=u,Xv(s)&&$v(i)}function Wv(i,s,l){return l(function(){Xv(s)&&$v(i)})}function Xv(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Ln(i,l)}catch{return!0}}function $v(i){var s=ho(i,2);s!==null&&Hn(s,i,2)}function Pp(i){var s=Cn();if(typeof i=="function"){var l=i;if(i=l(),bs){On(!0);try{l()}finally{On(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:i},s}function Zv(i,s,l,u){return i.baseState=l,Mp(i,ft,typeof u=="function"?u:gi)}function AD(i,s,l,u,h){if(gd(i))throw Error(n(485));if(i=s.action,i!==null){var m={payload:h,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};H.T!==null?l(!0):m.isTransition=!1,u(m),l=s.pending,l===null?(m.next=s.pending=m,Jv(s,m)):(m.next=l.next,s.pending=l.next=m)}}function Jv(i,s){var l=s.action,u=s.payload,h=i.state;if(s.isTransition){var m=H.T,w={};H.T=w;try{var E=l(h,u),O=H.S;O!==null&&O(w,E),e_(i,s,E)}catch(G){Lp(i,s,G)}finally{H.T=m}}else try{m=l(h,u),e_(i,s,m)}catch(G){Lp(i,s,G)}}function e_(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){t_(i,s,u)},function(u){return Lp(i,s,u)}):t_(i,s,l)}function t_(i,s,l){s.status="fulfilled",s.value=l,n_(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Jv(i,l)))}function Lp(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,n_(s),s=s.next;while(s!==u)}i.action=null}function n_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function r_(i,s){return s}function i_(i,s){if(Je){var l=gt.formState;if(l!==null){e:{var u=Ue;if(Je){if(Dt){t:{for(var h=Dt,m=Mr;h.nodeType!==8;){if(!m){h=null;break t}if(h=mr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Dt=mr(h.nextSibling),u=h.data==="F!";break e}}gs(u)}u=!1}u&&(s=l[0])}}return l=Cn(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:s},l.queue=u,l=E_.bind(null,Ue,u),u.dispatch=l,u=Pp(!1),m=zp.bind(null,Ue,!1,u.queue),u=Cn(),h={state:s,dispatch:null,action:i,pending:null},u.queue=h,l=AD.bind(null,Ue,h,m,l),h.dispatch=l,u.memoizedState=i,[s,l,!1]}function a_(i){var s=jt();return s_(s,ft,i)}function s_(i,s,l){if(s=Mp(i,s,r_)[0],i=hd(gi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=au(s)}catch(w){throw w===Jl?od:w}else u=s;s=jt();var h=s.queue,m=h.dispatch;return l!==s.memoizedState&&(Ue.flags|=2048,To(9,pd(),CD.bind(null,h,l),null)),[u,m,i]}function CD(i,s){i.action=s}function o_(i){var s=jt(),l=ft;if(l!==null)return s_(s,l,i);jt(),s=s.memoizedState,l=jt();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function To(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=Ip(),Ue.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function pd(){return{destroy:void 0,resource:void 0}}function l_(){return jt().memoizedState}function md(i,s,l,u){var h=Cn();u=u===void 0?null:u,Ue.flags|=i,h.memoizedState=To(1|s,pd(),l,u)}function su(i,s,l,u){var h=jt();u=u===void 0?null:u;var m=h.memoizedState.inst;ft!==null&&u!==null&&Ap(u,ft.memoizedState.deps)?h.memoizedState=To(s,m,l,u):(Ue.flags|=i,h.memoizedState=To(1|s,m,l,u))}function u_(i,s){md(8390656,8,i,s)}function c_(i,s){su(2048,8,i,s)}function d_(i,s){return su(4,2,i,s)}function f_(i,s){return su(4,4,i,s)}function h_(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function p_(i,s,l){l=l!=null?l.concat([i]):null,su(4,4,h_.bind(null,s,i),l)}function Vp(){}function m_(i,s){var l=jt();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Ap(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function g_(i,s){var l=jt();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Ap(s,u[1]))return u[0];if(u=i(),bs){On(!0);try{i()}finally{On(!1)}}return l.memoizedState=[u,s],u}function Up(i,s,l){return l===void 0||($i&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=_0(),Ue.lanes|=i,ia|=i,l)}function y_(i,s,l,u){return Ln(l,s)?l:_o.current!==null?(i=Up(i,l,u),Ln(i,s)||($t=!0),i):($i&42)===0?($t=!0,i.memoizedState=l):(i=_0(),Ue.lanes|=i,ia|=i,s)}function v_(i,s,l,u,h){var m=ne.p;ne.p=m!==0&&8>m?m:8;var w=H.T,E={};H.T=E,zp(i,!1,s,l);try{var O=h(),G=H.S;if(G!==null&&G(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=ED(O,u);ou(i,s,J,zn(i))}else ou(i,s,u,zn(i))}catch(ie){ou(i,s,{then:function(){},status:"rejected",reason:ie},zn())}finally{ne.p=m,H.T=w}}function RD(){}function jp(i,s,l,u){if(i.tag!==5)throw Error(n(476));var h=__(i).queue;v_(i,h,s,ue,l===null?RD:function(){return b_(i),l(u)})}function __(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:ue},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function b_(i){var s=__(i).next.queue;ou(i,s,{},zn())}function Bp(){return pn(Du)}function w_(){return jt().memoizedState}function T_(){return jt().memoizedState}function xD(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=zn();i=Wi(l);var u=Xi(s,i,l);u!==null&&(Hn(u,s,l),tu(u,s,l)),s={cache:gp()},i.payload=s;return}s=s.return}}function kD(i,s,l){var u=zn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},gd(i)?S_(s,l):(l=sp(i,s,l,u),l!==null&&(Hn(l,i,u),D_(l,s,u)))}function E_(i,s,l){var u=zn();ou(i,s,l,u)}function ou(i,s,l,u){var h={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(gd(i))S_(s,h);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var w=s.lastRenderedState,E=m(w,l);if(h.hasEagerState=!0,h.eagerState=E,Ln(E,w))return Jc(i,s,h,0),gt===null&&Zc(),!1}catch{}finally{}if(l=sp(i,s,h,u),l!==null)return Hn(l,i,u),D_(l,s,u),!0}return!1}function zp(i,s,l,u){if(u={lane:2,revertLane:_m(),action:u,hasEagerState:!1,eagerState:null,next:null},gd(i)){if(s)throw Error(n(479))}else s=sp(i,l,u,2),s!==null&&Hn(s,i,2)}function gd(i){var s=i.alternate;return i===Ue||s!==null&&s===Ue}function S_(i,s){bo=cd=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function D_(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,xl(i,l)}}var yd={readContext:pn,use:fd,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt},A_={readContext:pn,use:fd,useCallback:function(i,s){return Cn().memoizedState=[i,s===void 0?null:s],i},useContext:pn,useEffect:u_,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,md(4194308,4,h_.bind(null,s,i),l)},useLayoutEffect:function(i,s){return md(4194308,4,i,s)},useInsertionEffect:function(i,s){md(4,2,i,s)},useMemo:function(i,s){var l=Cn();s=s===void 0?null:s;var u=i();if(bs){On(!0);try{i()}finally{On(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=Cn();if(l!==void 0){var h=l(s);if(bs){On(!0);try{l(s)}finally{On(!1)}}}else h=s;return u.memoizedState=u.baseState=h,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:h},u.queue=i,i=i.dispatch=kD.bind(null,Ue,i),[u.memoizedState,i]},useRef:function(i){var s=Cn();return i={current:i},s.memoizedState=i},useState:function(i){i=Pp(i);var s=i.queue,l=E_.bind(null,Ue,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Vp,useDeferredValue:function(i,s){var l=Cn();return Up(l,i,s)},useTransition:function(){var i=Pp(!1);return i=v_.bind(null,Ue,i.queue,!0,!1),Cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=Ue,h=Cn();if(Je){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),gt===null)throw Error(n(349));(Ke&124)!==0||Qv(u,s,l)}h.memoizedState=l;var m={value:l,getSnapshot:s};return h.queue=m,u_(Wv.bind(null,u,m,i),[i]),u.flags|=2048,To(9,pd(),Kv.bind(null,u,m,l,s),null),l},useId:function(){var i=Cn(),s=gt.identifierPrefix;if(Je){var l=hi,u=fi;l=(u&~(1<<32-hn(u)-1)).toString(32)+l,s=""+s+"R"+l,l=dd++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=SD++,s=""+s+"r"+l.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:Bp,useFormState:i_,useActionState:i_,useOptimistic:function(i){var s=Cn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=zp.bind(null,Ue,!0,l),l.dispatch=s,[i,s]},useMemoCache:Np,useCacheRefresh:function(){return Cn().memoizedState=xD.bind(null,Ue)}},C_={readContext:pn,use:fd,useCallback:m_,useContext:pn,useEffect:c_,useImperativeHandle:p_,useInsertionEffect:d_,useLayoutEffect:f_,useMemo:g_,useReducer:hd,useRef:l_,useState:function(){return hd(gi)},useDebugValue:Vp,useDeferredValue:function(i,s){var l=jt();return y_(l,ft.memoizedState,i,s)},useTransition:function(){var i=hd(gi)[0],s=jt().memoizedState;return[typeof i=="boolean"?i:au(i),s]},useSyncExternalStore:Gv,useId:w_,useHostTransitionStatus:Bp,useFormState:a_,useActionState:a_,useOptimistic:function(i,s){var l=jt();return Zv(l,ft,i,s)},useMemoCache:Np,useCacheRefresh:T_},ID={readContext:pn,use:fd,useCallback:m_,useContext:pn,useEffect:c_,useImperativeHandle:p_,useInsertionEffect:d_,useLayoutEffect:f_,useMemo:g_,useReducer:Op,useRef:l_,useState:function(){return Op(gi)},useDebugValue:Vp,useDeferredValue:function(i,s){var l=jt();return ft===null?Up(l,i,s):y_(l,ft.memoizedState,i,s)},useTransition:function(){var i=Op(gi)[0],s=jt().memoizedState;return[typeof i=="boolean"?i:au(i),s]},useSyncExternalStore:Gv,useId:w_,useHostTransitionStatus:Bp,useFormState:o_,useActionState:o_,useOptimistic:function(i,s){var l=jt();return ft!==null?Zv(l,ft,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Np,useCacheRefresh:T_},Eo=null,lu=0;function vd(i){var s=lu;return lu+=1,Eo===null&&(Eo=[]),Uv(Eo,i,s)}function uu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function _d(i,s){throw s.$$typeof===_?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function R_(i){var s=i._init;return s(i._payload)}function x_(i){function s(B,j){if(i){var q=B.deletions;q===null?(B.deletions=[j],B.flags|=16):q.push(j)}}function l(B,j){if(!i)return null;for(;j!==null;)s(B,j),j=j.sibling;return null}function u(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function h(B,j){return B=di(B,j),B.index=0,B.sibling=null,B}function m(B,j,q){return B.index=q,i?(q=B.alternate,q!==null?(q=q.index,q<j?(B.flags|=67108866,j):q):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function w(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function E(B,j,q,te){return j===null||j.tag!==6?(j=lp(q,B.mode,te),j.return=B,j):(j=h(j,q),j.return=B,j)}function O(B,j,q,te){var be=q.type;return be===C?J(B,j,q.props.children,te,q.key):j!==null&&(j.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===D&&R_(be)===j.type)?(j=h(j,q.props),uu(j,q),j.return=B,j):(j=td(q.type,q.key,q.props,null,B.mode,te),uu(j,q),j.return=B,j)}function G(B,j,q,te){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=up(q,B.mode,te),j.return=B,j):(j=h(j,q.children||[]),j.return=B,j)}function J(B,j,q,te,be){return j===null||j.tag!==7?(j=fs(q,B.mode,te,be),j.return=B,j):(j=h(j,q),j.return=B,j)}function ie(B,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=lp(""+j,B.mode,q),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case T:return q=td(j.type,j.key,j.props,null,B.mode,q),uu(q,j),q.return=B,q;case A:return j=up(j,B.mode,q),j.return=B,j;case D:var te=j._init;return j=te(j._payload),ie(B,j,q)}if(Te(j)||U(j))return j=fs(j,B.mode,q,null),j.return=B,j;if(typeof j.then=="function")return ie(B,vd(j),q);if(j.$$typeof===Y)return ie(B,ad(B,j),q);_d(B,j)}return null}function K(B,j,q,te){var be=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return be!==null?null:E(B,j,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case T:return q.key===be?O(B,j,q,te):null;case A:return q.key===be?G(B,j,q,te):null;case D:return be=q._init,q=be(q._payload),K(B,j,q,te)}if(Te(q)||U(q))return be!==null?null:J(B,j,q,te,null);if(typeof q.then=="function")return K(B,j,vd(q),te);if(q.$$typeof===Y)return K(B,j,ad(B,q),te);_d(B,q)}return null}function W(B,j,q,te,be){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(q)||null,E(j,B,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case T:return B=B.get(te.key===null?q:te.key)||null,O(j,B,te,be);case A:return B=B.get(te.key===null?q:te.key)||null,G(j,B,te,be);case D:var ze=te._init;return te=ze(te._payload),W(B,j,q,te,be)}if(Te(te)||U(te))return B=B.get(q)||null,J(j,B,te,be,null);if(typeof te.then=="function")return W(B,j,q,vd(te),be);if(te.$$typeof===Y)return W(B,j,q,ad(j,te),be);_d(j,te)}return null}function Ie(B,j,q,te){for(var be=null,ze=null,Ee=j,Re=j=0,Jt=null;Ee!==null&&Re<q.length;Re++){Ee.index>Re?(Jt=Ee,Ee=null):Jt=Ee.sibling;var Ze=K(B,Ee,q[Re],te);if(Ze===null){Ee===null&&(Ee=Jt);break}i&&Ee&&Ze.alternate===null&&s(B,Ee),j=m(Ze,j,Re),ze===null?be=Ze:ze.sibling=Ze,ze=Ze,Ee=Jt}if(Re===q.length)return l(B,Ee),Je&&ps(B,Re),be;if(Ee===null){for(;Re<q.length;Re++)Ee=ie(B,q[Re],te),Ee!==null&&(j=m(Ee,j,Re),ze===null?be=Ee:ze.sibling=Ee,ze=Ee);return Je&&ps(B,Re),be}for(Ee=u(Ee);Re<q.length;Re++)Jt=W(Ee,B,Re,q[Re],te),Jt!==null&&(i&&Jt.alternate!==null&&Ee.delete(Jt.key===null?Re:Jt.key),j=m(Jt,j,Re),ze===null?be=Jt:ze.sibling=Jt,ze=Jt);return i&&Ee.forEach(function(ha){return s(B,ha)}),Je&&ps(B,Re),be}function Ce(B,j,q,te){if(q==null)throw Error(n(151));for(var be=null,ze=null,Ee=j,Re=j=0,Jt=null,Ze=q.next();Ee!==null&&!Ze.done;Re++,Ze=q.next()){Ee.index>Re?(Jt=Ee,Ee=null):Jt=Ee.sibling;var ha=K(B,Ee,Ze.value,te);if(ha===null){Ee===null&&(Ee=Jt);break}i&&Ee&&ha.alternate===null&&s(B,Ee),j=m(ha,j,Re),ze===null?be=ha:ze.sibling=ha,ze=ha,Ee=Jt}if(Ze.done)return l(B,Ee),Je&&ps(B,Re),be;if(Ee===null){for(;!Ze.done;Re++,Ze=q.next())Ze=ie(B,Ze.value,te),Ze!==null&&(j=m(Ze,j,Re),ze===null?be=Ze:ze.sibling=Ze,ze=Ze);return Je&&ps(B,Re),be}for(Ee=u(Ee);!Ze.done;Re++,Ze=q.next())Ze=W(Ee,B,Re,Ze.value,te),Ze!==null&&(i&&Ze.alternate!==null&&Ee.delete(Ze.key===null?Re:Ze.key),j=m(Ze,j,Re),ze===null?be=Ze:ze.sibling=Ze,ze=Ze);return i&&Ee.forEach(function(NA){return s(B,NA)}),Je&&ps(B,Re),be}function pt(B,j,q,te){if(typeof q=="object"&&q!==null&&q.type===C&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case T:e:{for(var be=q.key;j!==null;){if(j.key===be){if(be=q.type,be===C){if(j.tag===7){l(B,j.sibling),te=h(j,q.props.children),te.return=B,B=te;break e}}else if(j.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===D&&R_(be)===j.type){l(B,j.sibling),te=h(j,q.props),uu(te,q),te.return=B,B=te;break e}l(B,j);break}else s(B,j);j=j.sibling}q.type===C?(te=fs(q.props.children,B.mode,te,q.key),te.return=B,B=te):(te=td(q.type,q.key,q.props,null,B.mode,te),uu(te,q),te.return=B,B=te)}return w(B);case A:e:{for(be=q.key;j!==null;){if(j.key===be)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){l(B,j.sibling),te=h(j,q.children||[]),te.return=B,B=te;break e}else{l(B,j);break}else s(B,j);j=j.sibling}te=up(q,B.mode,te),te.return=B,B=te}return w(B);case D:return be=q._init,q=be(q._payload),pt(B,j,q,te)}if(Te(q))return Ie(B,j,q,te);if(U(q)){if(be=U(q),typeof be!="function")throw Error(n(150));return q=be.call(q),Ce(B,j,q,te)}if(typeof q.then=="function")return pt(B,j,vd(q),te);if(q.$$typeof===Y)return pt(B,j,ad(B,q),te);_d(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(l(B,j.sibling),te=h(j,q),te.return=B,B=te):(l(B,j),te=lp(q,B.mode,te),te.return=B,B=te),w(B)):l(B,j)}return function(B,j,q,te){try{lu=0;var be=pt(B,j,q,te);return Eo=null,be}catch(Ee){if(Ee===Jl||Ee===od)throw Ee;var ze=Vn(29,Ee,null,B.mode);return ze.lanes=te,ze.return=B,ze}finally{}}}var So=x_(!0),k_=x_(!1),rr=ee(null),Or=null;function Zi(i){var s=i.alternate;ce(Gt,Gt.current&1),ce(rr,i),Or===null&&(s===null||_o.current!==null||s.memoizedState!==null)&&(Or=i)}function I_(i){if(i.tag===22){if(ce(Gt,Gt.current),ce(rr,i),Or===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Or=i)}}else Ji()}function Ji(){ce(Gt,Gt.current),ce(rr,rr.current)}function yi(i){pe(rr),Or===i&&(Or=null),pe(Gt)}var Gt=ee(0);function bd(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Im(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Hp(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:y({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Fp={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=zn(),h=Wi(u);h.payload=s,l!=null&&(h.callback=l),s=Xi(i,h,u),s!==null&&(Hn(s,i,u),tu(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=zn(),h=Wi(u);h.tag=1,h.payload=s,l!=null&&(h.callback=l),s=Xi(i,h,u),s!==null&&(Hn(s,i,u),tu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=zn(),u=Wi(l);u.tag=2,s!=null&&(u.callback=s),s=Xi(i,u,l),s!==null&&(Hn(s,i,l),tu(s,i,l))}};function N_(i,s,l,u,h,m,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,m,w):s.prototype&&s.prototype.isPureReactComponent?!ql(l,u)||!ql(h,m):!0}function M_(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&Fp.enqueueReplaceState(s,s.state,null)}function ws(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=y({},l));for(var h in i)l[h]===void 0&&(l[h]=i[h])}return l}var wd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function O_(i){wd(i)}function P_(i){console.error(i)}function L_(i){wd(i)}function Td(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function V_(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yp(i,s,l){return l=Wi(l),l.tag=3,l.payload={element:null},l.callback=function(){Td(i,s)},l}function U_(i){return i=Wi(i),i.tag=3,i}function j_(i,s,l,u){var h=l.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;i.payload=function(){return h(m)},i.callback=function(){V_(s,l,u)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(i.callback=function(){V_(s,l,u),typeof h!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function ND(i,s,l,u,h){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Xl(s,l,h,!0),l=rr.current,l!==null){switch(l.tag){case 13:return Or===null?pm():l.alternate===null&&At===0&&(At=3),l.flags&=-257,l.flags|=65536,l.lanes=h,u===_p?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),gm(i,u,h)),!1;case 22:return l.flags|=65536,u===_p?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),gm(i,u,h)),!1}throw Error(n(435,l.tag))}return gm(i,u,h),pm(),!1}if(Je)return s=rr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==fp&&(i=Error(n(422),{cause:u}),Wl(Jn(i,l)))):(u!==fp&&(s=Error(n(423),{cause:u}),Wl(Jn(s,l))),i=i.current.alternate,i.flags|=65536,h&=-h,i.lanes|=h,u=Jn(u,l),h=Yp(i.stateNode,u,h),Tp(i,h),At!==4&&(At=2)),!1;var m=Error(n(520),{cause:u});if(m=Jn(m,l),gu===null?gu=[m]:gu.push(m),At!==4&&(At=2),s===null)return!0;u=Jn(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=h&-h,l.lanes|=i,i=Yp(l.stateNode,u,i),Tp(l,i),!1;case 1:if(s=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(aa===null||!aa.has(m))))return l.flags|=65536,h&=-h,l.lanes|=h,h=U_(h),j_(h,i,l,u),Tp(l,h),!1}l=l.return}while(l!==null);return!1}var B_=Error(n(461)),$t=!1;function sn(i,s,l,u){s.child=i===null?k_(s,null,l,u):So(s,i.child,l,u)}function z_(i,s,l,u,h){l=l.render;var m=s.ref;if("ref"in u){var w={};for(var E in u)E!=="ref"&&(w[E]=u[E])}else w=u;return vs(s),u=Cp(i,s,l,w,m,h),E=Rp(),i!==null&&!$t?(xp(i,s,h),vi(i,s,h)):(Je&&E&&cp(s),s.flags|=1,sn(i,s,u,h),s.child)}function H_(i,s,l,u,h){if(i===null){var m=l.type;return typeof m=="function"&&!op(m)&&m.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=m,F_(i,s,m,u,h)):(i=td(l.type,null,u,s,s.mode,h),i.ref=s.ref,i.return=s,s.child=i)}if(m=i.child,!Zp(i,h)){var w=m.memoizedProps;if(l=l.compare,l=l!==null?l:ql,l(w,u)&&i.ref===s.ref)return vi(i,s,h)}return s.flags|=1,i=di(m,u),i.ref=s.ref,i.return=s,s.child=i}function F_(i,s,l,u,h){if(i!==null){var m=i.memoizedProps;if(ql(m,u)&&i.ref===s.ref)if($t=!1,s.pendingProps=u=m,Zp(i,h))(i.flags&131072)!==0&&($t=!0);else return s.lanes=i.lanes,vi(i,s,h)}return qp(i,s,l,u,h)}function Y_(i,s,l){var u=s.pendingProps,h=u.children,m=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=m!==null?m.baseLanes|l:l,i!==null){for(h=s.child=i.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;s.childLanes=m&~u}else s.childLanes=0,s.child=null;return q_(i,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&sd(s,m!==null?m.cachePool:null),m!==null?Fv(s,m):Sp(),I_(s);else return s.lanes=s.childLanes=536870912,q_(i,s,m!==null?m.baseLanes|l:l,l)}else m!==null?(sd(s,m.cachePool),Fv(s,m),Ji(),s.memoizedState=null):(i!==null&&sd(s,null),Sp(),Ji());return sn(i,s,h,l),s.child}function q_(i,s,l,u){var h=vp();return h=h===null?null:{parent:qt._currentValue,pool:h},s.memoizedState={baseLanes:l,cachePool:h},i!==null&&sd(s,null),Sp(),I_(s),i!==null&&Xl(i,s,u,!0),null}function Ed(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function qp(i,s,l,u,h){return vs(s),l=Cp(i,s,l,u,void 0,h),u=Rp(),i!==null&&!$t?(xp(i,s,h),vi(i,s,h)):(Je&&u&&cp(s),s.flags|=1,sn(i,s,l,h),s.child)}function G_(i,s,l,u,h,m){return vs(s),s.updateQueue=null,l=qv(s,u,l,h),Yv(i),u=Rp(),i!==null&&!$t?(xp(i,s,m),vi(i,s,m)):(Je&&u&&cp(s),s.flags|=1,sn(i,s,l,m),s.child)}function Q_(i,s,l,u,h){if(vs(s),s.stateNode===null){var m=po,w=l.contextType;typeof w=="object"&&w!==null&&(m=pn(w)),m=new l(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Fp,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},bp(s),w=l.contextType,m.context=typeof w=="object"&&w!==null?pn(w):po,m.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(Hp(s,l,w,u),m.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&Fp.enqueueReplaceState(m,m.state,null),ru(s,u,m,h),nu(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){m=s.stateNode;var E=s.memoizedProps,O=ws(l,E);m.props=O;var G=m.context,J=l.contextType;w=po,typeof J=="object"&&J!==null&&(w=pn(J));var ie=l.getDerivedStateFromProps;J=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||G!==w)&&M_(s,m,u,w),Ki=!1;var K=s.memoizedState;m.state=K,ru(s,u,m,h),nu(),G=s.memoizedState,E||K!==G||Ki?(typeof ie=="function"&&(Hp(s,l,ie,u),G=s.memoizedState),(O=Ki||N_(s,l,O,u,K,G,w))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=G),m.props=u,m.state=G,m.context=w,u=O):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,wp(i,s),w=s.memoizedProps,J=ws(l,w),m.props=J,ie=s.pendingProps,K=m.context,G=l.contextType,O=po,typeof G=="object"&&G!==null&&(O=pn(G)),E=l.getDerivedStateFromProps,(G=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==ie||K!==O)&&M_(s,m,u,O),Ki=!1,K=s.memoizedState,m.state=K,ru(s,u,m,h),nu();var W=s.memoizedState;w!==ie||K!==W||Ki||i!==null&&i.dependencies!==null&&id(i.dependencies)?(typeof E=="function"&&(Hp(s,l,E,u),W=s.memoizedState),(J=Ki||N_(s,l,J,u,K,W,O)||i!==null&&i.dependencies!==null&&id(i.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,W,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,W,O)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),m.props=u,m.state=W,m.context=O,u=J):(typeof m.componentDidUpdate!="function"||w===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),u=!1)}return m=u,Ed(i,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,i!==null&&u?(s.child=So(s,i.child,null,h),s.child=So(s,null,l,h)):sn(i,s,l,h),s.memoizedState=m.state,i=s.child):i=vi(i,s,h),i}function K_(i,s,l,u){return Kl(),s.flags|=256,sn(i,s,l,u),s.child}var Gp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qp(i){return{baseLanes:i,cachePool:Pv()}}function Kp(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=ir),i}function W_(i,s,l){var u=s.pendingProps,h=!1,m=(s.flags&128)!==0,w;if((w=m)||(w=i!==null&&i.memoizedState===null?!1:(Gt.current&2)!==0),w&&(h=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,i===null){if(Je){if(h?Zi(s):Ji(),Je){var E=Dt,O;if(O=E){e:{for(O=E,E=Mr;O.nodeType!==8;){if(!E){E=null;break e}if(O=mr(O.nextSibling),O===null){E=null;break e}}E=O}E!==null?(s.memoizedState={dehydrated:E,treeContext:hs!==null?{id:fi,overflow:hi}:null,retryLane:536870912,hydrationErrors:null},O=Vn(18,null,null,0),O.stateNode=E,O.return=s,s.child=O,Sn=s,Dt=null,O=!0):O=!1}O||gs(s)}if(E=s.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Im(E)?s.lanes=32:s.lanes=536870912,null;yi(s)}return E=u.children,u=u.fallback,h?(Ji(),h=s.mode,E=Sd({mode:"hidden",children:E},h),u=fs(u,h,l,null),E.return=s,u.return=s,E.sibling=u,s.child=E,h=s.child,h.memoizedState=Qp(l),h.childLanes=Kp(i,w,l),s.memoizedState=Gp,u):(Zi(s),Wp(s,E))}if(O=i.memoizedState,O!==null&&(E=O.dehydrated,E!==null)){if(m)s.flags&256?(Zi(s),s.flags&=-257,s=Xp(i,s,l)):s.memoizedState!==null?(Ji(),s.child=i.child,s.flags|=128,s=null):(Ji(),h=u.fallback,E=s.mode,u=Sd({mode:"visible",children:u.children},E),h=fs(h,E,l,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,So(s,i.child,null,l),u=s.child,u.memoizedState=Qp(l),u.childLanes=Kp(i,w,l),s.memoizedState=Gp,s=h);else if(Zi(s),Im(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var G=w.dgst;w=G,u=Error(n(419)),u.stack="",u.digest=w,Wl({value:u,source:null,stack:null}),s=Xp(i,s,l)}else if($t||Xl(i,s,l,!1),w=(l&i.childLanes)!==0,$t||w){if(w=gt,w!==null&&(u=l&-l,u=(u&42)!==0?1:Bi(u),u=(u&(w.suspendedLanes|l))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,ho(i,u),Hn(w,i,u),B_;E.data==="$?"||pm(),s=Xp(i,s,l)}else E.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=O.treeContext,Dt=mr(E.nextSibling),Sn=s,Je=!0,ms=null,Mr=!1,i!==null&&(tr[nr++]=fi,tr[nr++]=hi,tr[nr++]=hs,fi=i.id,hi=i.overflow,hs=s),s=Wp(s,u.children),s.flags|=4096);return s}return h?(Ji(),h=u.fallback,E=s.mode,O=i.child,G=O.sibling,u=di(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,G!==null?h=di(G,h):(h=fs(h,E,l,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,E=i.child.memoizedState,E===null?E=Qp(l):(O=E.cachePool,O!==null?(G=qt._currentValue,O=O.parent!==G?{parent:G,pool:G}:O):O=Pv(),E={baseLanes:E.baseLanes|l,cachePool:O}),h.memoizedState=E,h.childLanes=Kp(i,w,l),s.memoizedState=Gp,u):(Zi(s),l=i.child,i=l.sibling,l=di(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(w=s.deletions,w===null?(s.deletions=[i],s.flags|=16):w.push(i)),s.child=l,s.memoizedState=null,l)}function Wp(i,s){return s=Sd({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Sd(i,s){return i=Vn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Xp(i,s,l){return So(s,i.child,null,l),i=Wp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function X_(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),pp(i.return,s,l)}function $p(i,s,l,u,h){var m=i.memoizedState;m===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=h)}function $_(i,s,l){var u=s.pendingProps,h=u.revealOrder,m=u.tail;if(sn(i,s,u.children,l),u=Gt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&X_(i,l,s);else if(i.tag===19)X_(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(ce(Gt,u),h){case"forwards":for(l=s.child,h=null;l!==null;)i=l.alternate,i!==null&&bd(i)===null&&(h=l),l=l.sibling;l=h,l===null?(h=s.child,s.child=null):(h=l.sibling,l.sibling=null),$p(s,!1,h,l,m);break;case"backwards":for(l=null,h=s.child,s.child=null;h!==null;){if(i=h.alternate,i!==null&&bd(i)===null){s.child=h;break}i=h.sibling,h.sibling=l,l=h,h=i}$p(s,!0,l,null,m);break;case"together":$p(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function vi(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ia|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Xl(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,l=di(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=di(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Zp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&id(i)))}function MD(i,s,l){switch(s.tag){case 3:de(s,s.stateNode.containerInfo),Qi(s,qt,i.memoizedState.cache),Kl();break;case 27:case 5:it(s);break;case 4:de(s,s.stateNode.containerInfo);break;case 10:Qi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Zi(s),s.flags|=128,null):(l&s.child.childLanes)!==0?W_(i,s,l):(Zi(s),i=vi(i,s,l),i!==null?i.sibling:null);Zi(s);break;case 19:var h=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Xl(i,s,l,!1),u=(l&s.childLanes)!==0),h){if(u)return $_(i,s,l);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ce(Gt,Gt.current),u)break;return null;case 22:case 23:return s.lanes=0,Y_(i,s,l);case 24:Qi(s,qt,i.memoizedState.cache)}return vi(i,s,l)}function Z_(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)$t=!0;else{if(!Zp(i,l)&&(s.flags&128)===0)return $t=!1,MD(i,s,l);$t=(i.flags&131072)!==0}else $t=!1,Je&&(s.flags&1048576)!==0&&Rv(s,rd,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")op(u)?(i=ws(u,i),s.tag=1,s=Q_(null,s,u,i,l)):(s.tag=0,s=qp(null,s,u,i,l));else{if(u!=null){if(h=u.$$typeof,h===oe){s.tag=11,s=z_(null,s,u,i,l);break e}else if(h===N){s.tag=14,s=H_(null,s,u,i,l);break e}}throw s=Me(u)||u,Error(n(306,s,""))}}return s;case 0:return qp(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,h=ws(u,s.pendingProps),Q_(i,s,u,h,l);case 3:e:{if(de(s,s.stateNode.containerInfo),i===null)throw Error(n(387));u=s.pendingProps;var m=s.memoizedState;h=m.element,wp(i,s),ru(s,u,null,l);var w=s.memoizedState;if(u=w.cache,Qi(s,qt,u),u!==m.cache&&mp(s,[qt],l,!0),nu(),u=w.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=K_(i,s,u,l);break e}else if(u!==h){h=Jn(Error(n(424)),s),Wl(h),s=K_(i,s,u,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Dt=mr(i.firstChild),Sn=s,Je=!0,ms=null,Mr=!0,l=k_(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Kl(),u===h){s=vi(i,s,l);break e}sn(i,s,u,l)}s=s.child}return s;case 26:return Ed(i,s),i===null?(l=nb(s.type,null,s.pendingProps,null))?s.memoizedState=l:Je||(l=s.type,i=s.pendingProps,u=Ud(ke.current).createElement(l),u[Ht]=s,u[Lt]=i,ln(u,l,i),xt(u),s.stateNode=u):s.memoizedState=nb(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return it(s),i===null&&Je&&(u=s.stateNode=J0(s.type,s.pendingProps,ke.current),Sn=s,Mr=!0,h=Dt,la(s.type)?(Nm=h,Dt=mr(u.firstChild)):Dt=h),sn(i,s,s.pendingProps.children,l),Ed(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Je&&((h=u=Dt)&&(u=oA(u,s.type,s.pendingProps,Mr),u!==null?(s.stateNode=u,Sn=s,Dt=mr(u.firstChild),Mr=!1,h=!0):h=!1),h||gs(s)),it(s),h=s.type,m=s.pendingProps,w=i!==null?i.memoizedProps:null,u=m.children,Rm(h,m)?u=null:w!==null&&Rm(h,w)&&(s.flags|=32),s.memoizedState!==null&&(h=Cp(i,s,DD,null,null,l),Du._currentValue=h),Ed(i,s),sn(i,s,u,l),s.child;case 6:return i===null&&Je&&((i=l=Dt)&&(l=lA(l,s.pendingProps,Mr),l!==null?(s.stateNode=l,Sn=s,Dt=null,i=!0):i=!1),i||gs(s)),null;case 13:return W_(i,s,l);case 4:return de(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=So(s,null,u,l):sn(i,s,u,l),s.child;case 11:return z_(i,s,s.type,s.pendingProps,l);case 7:return sn(i,s,s.pendingProps,l),s.child;case 8:return sn(i,s,s.pendingProps.children,l),s.child;case 12:return sn(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Qi(s,s.type,u.value),sn(i,s,u.children,l),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,vs(s),h=pn(h),u=u(h),s.flags|=1,sn(i,s,u,l),s.child;case 14:return H_(i,s,s.type,s.pendingProps,l);case 15:return F_(i,s,s.type,s.pendingProps,l);case 19:return $_(i,s,l);case 31:return u=s.pendingProps,l=s.mode,u={mode:u.mode,children:u.children},i===null?(l=Sd(u,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=di(i.child,u),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return Y_(i,s,l);case 24:return vs(s),u=pn(qt),i===null?(h=vp(),h===null&&(h=gt,m=gp(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=l),h=m),s.memoizedState={parent:u,cache:h},bp(s),Qi(s,qt,h)):((i.lanes&l)!==0&&(wp(i,s),ru(s,null,null,l),nu()),h=i.memoizedState,m=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Qi(s,qt,u)):(u=m.cache,Qi(s,qt,u),u!==h.cache&&mp(s,[qt],l,!0))),sn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function _i(i){i.flags|=4}function J_(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!ob(s)){if(s=rr.current,s!==null&&((Ke&4194048)===Ke?Or!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||s!==Or))throw eu=_p,Lv;i.flags|=8192}}function Dd(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Cl():536870912,i.lanes|=s,Ro|=s)}function cu(i,s){if(!Je)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function wt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var h=i.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=i,h=h.sibling;else for(h=i.child;h!==null;)l|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=i,h=h.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function OD(i,s,l){var u=s.pendingProps;switch(dp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),mi(qt),_e(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Ql(s)?_i(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Iv())),wt(s),null;case 26:return l=s.memoizedState,i===null?(_i(s),l!==null?(wt(s),J_(s,l)):(wt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(_i(s),wt(s),J_(s,l)):(wt(s),s.flags&=-16777217):(i.memoizedProps!==u&&_i(s),wt(s),s.flags&=-16777217),null;case 27:ct(s),l=ke.current;var h=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==u&&_i(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return wt(s),null}i=De.current,Ql(s)?xv(s):(i=J0(h,u,l),s.stateNode=i,_i(s))}return wt(s),null;case 5:if(ct(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&_i(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return wt(s),null}if(i=De.current,Ql(s))xv(s);else{switch(h=Ud(ke.current),i){case 1:i=h.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=h.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=h.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=h.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?h.createElement(l,{is:u.is}):h.createElement(l)}}i[Ht]=s,i[Lt]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=i;e:switch(ln(i,l,u),l){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&_i(s)}}return wt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&_i(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(i=ke.current,Ql(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,h=Sn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}i[Ht]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||G0(i.nodeValue,l)),i||gs(s)}else i=Ud(i).createTextNode(u),i[Ht]=s,s.stateNode=i}return wt(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(h=Ql(s),u!==null&&u.dehydrated!==null){if(i===null){if(!h)throw Error(n(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[Ht]=s}else Kl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),h=!1}else h=Iv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(yi(s),s):(yi(s),null)}if(yi(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,i=i!==null&&i.memoizedState!==null,l){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),Dd(s,s.updateQueue),wt(s),null;case 4:return _e(),i===null&&Em(s.stateNode.containerInfo),wt(s),null;case 10:return mi(s.type),wt(s),null;case 19:if(pe(Gt),h=s.memoizedState,h===null)return wt(s),null;if(u=(s.flags&128)!==0,m=h.rendering,m===null)if(u)cu(h,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(m=bd(i),m!==null){for(s.flags|=128,cu(h,!1),i=m.updateQueue,s.updateQueue=i,Dd(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Cv(l,i),l=l.sibling;return ce(Gt,Gt.current&1|2),s.child}i=i.sibling}h.tail!==null&&Qn()>Rd&&(s.flags|=128,u=!0,cu(h,!1),s.lanes=4194304)}else{if(!u)if(i=bd(m),i!==null){if(s.flags|=128,u=!0,i=i.updateQueue,s.updateQueue=i,Dd(s,i),cu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Je)return wt(s),null}else 2*Qn()-h.renderingStartTime>Rd&&l!==536870912&&(s.flags|=128,u=!0,cu(h,!1),s.lanes=4194304);h.isBackwards?(m.sibling=s.child,s.child=m):(i=h.last,i!==null?i.sibling=m:s.child=m,h.last=m)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Qn(),s.sibling=null,i=Gt.current,ce(Gt,u?i&1|2:i&1),s):(wt(s),null);case 22:case 23:return yi(s),Dp(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),l=s.updateQueue,l!==null&&Dd(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&pe(_s),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),mi(qt),wt(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function PD(i,s){switch(dp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return mi(qt),_e(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return ct(s),null;case 13:if(yi(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Kl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return pe(Gt),null;case 4:return _e(),null;case 10:return mi(s.type),null;case 22:case 23:return yi(s),Dp(),i!==null&&pe(_s),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return mi(qt),null;case 25:return null;default:return null}}function e0(i,s){switch(dp(s),s.tag){case 3:mi(qt),_e();break;case 26:case 27:case 5:ct(s);break;case 4:_e();break;case 13:yi(s);break;case 19:pe(Gt);break;case 10:mi(s.type);break;case 22:case 23:yi(s),Dp(),i!==null&&pe(_s);break;case 24:mi(qt)}}function du(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&i)===i){u=void 0;var m=l.create,w=l.inst;u=m(),w.destroy=u}l=l.next}while(l!==h)}}catch(E){mt(s,s.return,E)}}function ea(i,s,l){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&i)===i){var w=u.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,h=s;var O=l,G=E;try{G()}catch(J){mt(h,O,J)}}}u=u.next}while(u!==m)}}catch(J){mt(s,s.return,J)}}function t0(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{Hv(s,l)}catch(u){mt(i,i.return,u)}}}function n0(i,s,l){l.props=ws(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){mt(i,s,u)}}function fu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(h){mt(i,s,h)}}function Pr(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(h){mt(i,s,h)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(h){mt(i,s,h)}else l.current=null}function r0(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(h){mt(i,i.return,h)}}function Jp(i,s,l){try{var u=i.stateNode;nA(u,i.type,l,s),u[Lt]=s}catch(h){mt(i,i.return,h)}}function i0(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&la(i.type)||i.tag===4}function em(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||i0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&la(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function tm(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Vd));else if(u!==4&&(u===27&&la(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(tm(i,s,l),i=i.sibling;i!==null;)tm(i,s,l),i=i.sibling}function Ad(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&la(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Ad(i,s,l),i=i.sibling;i!==null;)Ad(i,s,l),i=i.sibling}function a0(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);ln(s,u,l),s[Ht]=i,s[Lt]=l}catch(m){mt(i,i.return,m)}}var bi=!1,It=!1,nm=!1,s0=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function LD(i,s){if(i=i.containerInfo,Am=Yd,i=yv(i),ep(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var w=0,E=-1,O=-1,G=0,J=0,ie=i,K=null;t:for(;;){for(var W;ie!==l||h!==0&&ie.nodeType!==3||(E=w+h),ie!==m||u!==0&&ie.nodeType!==3||(O=w+u),ie.nodeType===3&&(w+=ie.nodeValue.length),(W=ie.firstChild)!==null;)K=ie,ie=W;for(;;){if(ie===i)break t;if(K===l&&++G===h&&(E=w),K===m&&++J===u&&(O=w),(W=ie.nextSibling)!==null)break;ie=K,K=ie.parentNode}ie=W}l=E===-1||O===-1?null:{start:E,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Cm={focusedElem:i,selectionRange:l},Yd=!1,Zt=s;Zt!==null;)if(s=Zt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Zt=i;else for(;Zt!==null;){switch(s=Zt,m=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,l=s,h=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var Ie=ws(l.type,h,l.elementType===l.type);i=u.getSnapshotBeforeUpdate(Ie,m),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ce){mt(l,l.return,Ce)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)km(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":km(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Zt=i;break}Zt=s.return}}function o0(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ta(i,l),u&4&&du(5,l);break;case 1:if(ta(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(w){mt(l,l.return,w)}else{var h=ws(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(h,s,i.__reactInternalSnapshotBeforeUpdate)}catch(w){mt(l,l.return,w)}}u&64&&t0(l),u&512&&fu(l,l.return);break;case 3:if(ta(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Hv(i,s)}catch(w){mt(l,l.return,w)}}break;case 27:s===null&&u&4&&a0(l);case 26:case 5:ta(i,l),s===null&&u&4&&r0(l),u&512&&fu(l,l.return);break;case 12:ta(i,l);break;case 13:ta(i,l),u&4&&c0(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=qD.bind(null,l),uA(i,l))));break;case 22:if(u=l.memoizedState!==null||bi,!u){s=s!==null&&s.memoizedState!==null||It,h=bi;var m=It;bi=u,(It=s)&&!m?na(i,l,(l.subtreeFlags&8772)!==0):ta(i,l),bi=h,It=m}break;case 30:break;default:ta(i,l)}}function l0(i){var s=i.alternate;s!==null&&(i.alternate=null,l0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Fi(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _t=null,Rn=!1;function wi(i,s,l){for(l=l.child;l!==null;)u0(i,s,l),l=l.sibling}function u0(i,s,l){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(St,l)}catch{}switch(l.tag){case 26:It||Pr(l,s),wi(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:It||Pr(l,s);var u=_t,h=Rn;la(l.type)&&(_t=l.stateNode,Rn=!1),wi(i,s,l),wu(l.stateNode),_t=u,Rn=h;break;case 5:It||Pr(l,s);case 6:if(u=_t,h=Rn,_t=null,wi(i,s,l),_t=u,Rn=h,_t!==null)if(Rn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(l.stateNode)}catch(m){mt(l,s,m)}else try{_t.removeChild(l.stateNode)}catch(m){mt(l,s,m)}break;case 18:_t!==null&&(Rn?(i=_t,$0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),xu(i)):$0(_t,l.stateNode));break;case 4:u=_t,h=Rn,_t=l.stateNode.containerInfo,Rn=!0,wi(i,s,l),_t=u,Rn=h;break;case 0:case 11:case 14:case 15:It||ea(2,l,s),It||ea(4,l,s),wi(i,s,l);break;case 1:It||(Pr(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&n0(l,s,u)),wi(i,s,l);break;case 21:wi(i,s,l);break;case 22:It=(u=It)||l.memoizedState!==null,wi(i,s,l),It=u;break;default:wi(i,s,l)}}function c0(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{xu(i)}catch(l){mt(s,s.return,l)}}function VD(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new s0),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new s0),s;default:throw Error(n(435,i.tag))}}function rm(i,s){var l=VD(i);s.forEach(function(u){var h=GD.bind(null,i,u);l.has(u)||(l.add(u),u.then(h,h))})}function Un(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var h=l[u],m=i,w=s,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(la(E.type)){_t=E.stateNode,Rn=!1;break e}break;case 5:_t=E.stateNode,Rn=!1;break e;case 3:case 4:_t=E.stateNode.containerInfo,Rn=!0;break e}E=E.return}if(_t===null)throw Error(n(160));u0(m,w,h),_t=null,Rn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)d0(s,i),s=s.sibling}var pr=null;function d0(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Un(s,i),jn(i),u&4&&(ea(3,i,i.return),du(3,i),ea(5,i,i.return));break;case 1:Un(s,i),jn(i),u&512&&(It||l===null||Pr(l,l.return)),u&64&&bi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var h=pr;if(Un(s,i),jn(i),u&512&&(It||l===null||Pr(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Xa]||m[Ht]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),ln(m,u,l),m[Ht]=i,xt(m),u=m;break e;case"link":var w=ab("link","href",h).get(u+(l.href||""));if(w){for(var E=0;E<w.length;E++)if(m=w[E],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(E,1);break t}}m=h.createElement(u),ln(m,u,l),h.head.appendChild(m);break;case"meta":if(w=ab("meta","content",h).get(u+(l.content||""))){for(E=0;E<w.length;E++)if(m=w[E],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(E,1);break t}}m=h.createElement(u),ln(m,u,l),h.head.appendChild(m);break;default:throw Error(n(468,u))}m[Ht]=i,xt(m),u=m}i.stateNode=u}else sb(h,i.type,i.stateNode);else i.stateNode=ib(h,u,i.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?sb(h,i.type,i.stateNode):ib(h,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Jp(i,i.memoizedProps,l.memoizedProps)}break;case 27:Un(s,i),jn(i),u&512&&(It||l===null||Pr(l,l.return)),l!==null&&u&4&&Jp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Un(s,i),jn(i),u&512&&(It||l===null||Pr(l,l.return)),i.flags&32){h=i.stateNode;try{Wn(h,"")}catch(W){mt(i,i.return,W)}}u&4&&i.stateNode!=null&&(h=i.memoizedProps,Jp(i,h,l!==null?l.memoizedProps:h)),u&1024&&(nm=!0);break;case 6:if(Un(s,i),jn(i),u&4){if(i.stateNode===null)throw Error(n(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(W){mt(i,i.return,W)}}break;case 3:if(zd=null,h=pr,pr=jd(s.containerInfo),Un(s,i),pr=h,jn(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{xu(s.containerInfo)}catch(W){mt(i,i.return,W)}nm&&(nm=!1,f0(i));break;case 4:u=pr,pr=jd(i.stateNode.containerInfo),Un(s,i),jn(i),pr=u;break;case 12:Un(s,i),jn(i);break;case 13:Un(s,i),jn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(um=Qn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,rm(i,u)));break;case 22:h=i.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,G=bi,J=It;if(bi=G||h,It=J||O,Un(s,i),It=J,bi=G,jn(i),u&8192)e:for(s=i.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(l===null||O||bi||It||Ts(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){O=l=s;try{if(m=O.stateNode,h)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=O.stateNode;var ie=O.memoizedProps.style,K=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;E.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(W){mt(O,O.return,W)}}}else if(s.tag===6){if(l===null){O=s;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(W){mt(O,O.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,rm(i,l))));break;case 19:Un(s,i),jn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,rm(i,u)));break;case 30:break;case 21:break;default:Un(s,i),jn(i)}}function jn(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(i0(u)){l=u;break}u=u.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var h=l.stateNode,m=em(i);Ad(i,m,h);break;case 5:var w=l.stateNode;l.flags&32&&(Wn(w,""),l.flags&=-33);var E=em(i);Ad(i,E,w);break;case 3:case 4:var O=l.stateNode.containerInfo,G=em(i);tm(i,G,O);break;default:throw Error(n(161))}}catch(J){mt(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function f0(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;f0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ta(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)o0(i,s.alternate,s),s=s.sibling}function Ts(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ea(4,s,s.return),Ts(s);break;case 1:Pr(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&n0(s,s.return,l),Ts(s);break;case 27:wu(s.stateNode);case 26:case 5:Pr(s,s.return),Ts(s);break;case 22:s.memoizedState===null&&Ts(s);break;case 30:Ts(s);break;default:Ts(s)}i=i.sibling}}function na(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=i,m=s,w=m.flags;switch(m.tag){case 0:case 11:case 15:na(h,m,l),du(4,m);break;case 1:if(na(h,m,l),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){mt(u,u.return,G)}if(u=m,h=u.updateQueue,h!==null){var E=u.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)zv(O[h],E)}catch(G){mt(u,u.return,G)}}l&&w&64&&t0(m),fu(m,m.return);break;case 27:a0(m);case 26:case 5:na(h,m,l),l&&u===null&&w&4&&r0(m),fu(m,m.return);break;case 12:na(h,m,l);break;case 13:na(h,m,l),l&&w&4&&c0(h,m);break;case 22:m.memoizedState===null&&na(h,m,l),fu(m,m.return);break;case 30:break;default:na(h,m,l)}s=s.sibling}}function im(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&$l(l))}function am(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$l(i))}function Lr(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)h0(i,s,l,u),s=s.sibling}function h0(i,s,l,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:Lr(i,s,l,u),h&2048&&du(9,s);break;case 1:Lr(i,s,l,u);break;case 3:Lr(i,s,l,u),h&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&$l(i)));break;case 12:if(h&2048){Lr(i,s,l,u),i=s.stateNode;try{var m=s.memoizedProps,w=m.id,E=m.onPostCommit;typeof E=="function"&&E(w,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){mt(s,s.return,O)}}else Lr(i,s,l,u);break;case 13:Lr(i,s,l,u);break;case 23:break;case 22:m=s.stateNode,w=s.alternate,s.memoizedState!==null?m._visibility&2?Lr(i,s,l,u):hu(i,s):m._visibility&2?Lr(i,s,l,u):(m._visibility|=2,Do(i,s,l,u,(s.subtreeFlags&10256)!==0)),h&2048&&im(w,s);break;case 24:Lr(i,s,l,u),h&2048&&am(s.alternate,s);break;default:Lr(i,s,l,u)}}function Do(i,s,l,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=i,w=s,E=l,O=u,G=w.flags;switch(w.tag){case 0:case 11:case 15:Do(m,w,E,O,h),du(8,w);break;case 23:break;case 22:var J=w.stateNode;w.memoizedState!==null?J._visibility&2?Do(m,w,E,O,h):hu(m,w):(J._visibility|=2,Do(m,w,E,O,h)),h&&G&2048&&im(w.alternate,w);break;case 24:Do(m,w,E,O,h),h&&G&2048&&am(w.alternate,w);break;default:Do(m,w,E,O,h)}s=s.sibling}}function hu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,h=u.flags;switch(u.tag){case 22:hu(l,u),h&2048&&im(u.alternate,u);break;case 24:hu(l,u),h&2048&&am(u.alternate,u);break;default:hu(l,u)}s=s.sibling}}var pu=8192;function Ao(i){if(i.subtreeFlags&pu)for(i=i.child;i!==null;)p0(i),i=i.sibling}function p0(i){switch(i.tag){case 26:Ao(i),i.flags&pu&&i.memoizedState!==null&&TA(pr,i.memoizedState,i.memoizedProps);break;case 5:Ao(i);break;case 3:case 4:var s=pr;pr=jd(i.stateNode.containerInfo),Ao(i),pr=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=pu,pu=16777216,Ao(i),pu=s):Ao(i));break;default:Ao(i)}}function m0(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function mu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Zt=u,y0(u,i)}m0(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)g0(i),i=i.sibling}function g0(i){switch(i.tag){case 0:case 11:case 15:mu(i),i.flags&2048&&ea(9,i,i.return);break;case 3:mu(i);break;case 12:mu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Cd(i)):mu(i);break;default:mu(i)}}function Cd(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Zt=u,y0(u,i)}m0(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ea(8,s,s.return),Cd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,Cd(s));break;default:Cd(s)}i=i.sibling}}function y0(i,s){for(;Zt!==null;){var l=Zt;switch(l.tag){case 0:case 11:case 15:ea(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:$l(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Zt=u;else e:for(l=i;Zt!==null;){u=Zt;var h=u.sibling,m=u.return;if(l0(u),u===l){Zt=null;break e}if(h!==null){h.return=m,Zt=h;break e}Zt=m}}}var UD={getCacheForType:function(i){var s=pn(qt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},jD=typeof WeakMap=="function"?WeakMap:Map,st=0,gt=null,He=null,Ke=0,ot=0,Bn=null,ra=!1,Co=!1,sm=!1,Ti=0,At=0,ia=0,Es=0,om=0,ir=0,Ro=0,gu=null,xn=null,lm=!1,um=0,Rd=1/0,xd=null,aa=null,on=0,sa=null,xo=null,ko=0,cm=0,dm=null,v0=null,yu=0,fm=null;function zn(){if((st&2)!==0&&Ke!==0)return Ke&-Ke;if(H.T!==null){var i=yo;return i!==0?i:_m()}return zi()}function _0(){ir===0&&(ir=(Ke&536870912)===0||Je?Al():536870912);var i=rr.current;return i!==null&&(i.flags|=32),ir}function Hn(i,s,l){(i===gt&&(ot===2||ot===9)||i.cancelPendingCommit!==null)&&(Io(i,0),oa(i,Ke,ir,!1)),ei(i,l),((st&2)===0||i!==gt)&&(i===gt&&((st&2)===0&&(Es|=l),At===4&&oa(i,Ke,ir,!1)),Vr(i))}function b0(i,s,l){if((st&6)!==0)throw Error(n(327));var u=!l&&(s&124)===0&&(s&i.expiredLanes)===0||Wa(i,s),h=u?HD(i,s):mm(i,s,!0),m=u;do{if(h===0){Co&&!u&&oa(i,s,0,!1);break}else{if(l=i.current.alternate,m&&!BD(l)){h=mm(i,s,!1),m=!1;continue}if(h===2){if(m=s,i.errorRecoveryDisabledLanes&m)var w=0;else w=i.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var E=i;h=gu;var O=E.current.memoizedState.isDehydrated;if(O&&(Io(E,w).flags|=256),w=mm(E,w,!1),w!==2){if(sm&&!O){E.errorRecoveryDisabledLanes|=m,Es|=m,h=4;break e}m=xn,xn=h,m!==null&&(xn===null?xn=m:xn.push.apply(xn,m))}h=w}if(m=!1,h!==2)continue}}if(h===1){Io(i,0),oa(i,s,0,!0);break}e:{switch(u=i,m=h,m){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:oa(u,s,ir,!ra);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(h=um+300-Qn(),10<h)){if(oa(u,s,ir,!ra),Qs(u,0,!0)!==0)break e;u.timeoutHandle=W0(w0.bind(null,u,l,xn,xd,lm,s,ir,Es,Ro,ra,m,2,-0,0),h);break e}w0(u,l,xn,xd,lm,s,ir,Es,Ro,ra,m,0,-0,0)}}break}while(!0);Vr(i)}function w0(i,s,l,u,h,m,w,E,O,G,J,ie,K,W){if(i.timeoutHandle=-1,ie=s.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Su={stylesheets:null,count:0,unsuspend:wA},p0(s),ie=EA(),ie!==null)){i.cancelPendingCommit=ie(R0.bind(null,i,s,m,l,u,h,w,E,O,J,1,K,W)),oa(i,m,w,!G);return}R0(i,s,m,l,u,h,w,E,O)}function BD(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var h=l[u],m=h.getSnapshot;h=h.value;try{if(!Ln(m(),h))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function oa(i,s,l,u){s&=~om,s&=~Es,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var h=s;0<h;){var m=31-hn(h),w=1<<m;u[m]=-1,h&=~w}l!==0&&Tr(i,l,s)}function kd(){return(st&6)===0?(vu(0),!1):!0}function hm(){if(He!==null){if(ot===0)var i=He.return;else i=He,pi=ys=null,kp(i),Eo=null,lu=0,i=He;for(;i!==null;)e0(i.alternate,i),i=i.return;He=null}}function Io(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,iA(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),hm(),gt=i,He=l=di(i.current,null),Ke=s,ot=0,Bn=null,ra=!1,Co=Wa(i,s),sm=!1,Ro=ir=om=Es=ia=At=0,xn=gu=null,lm=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var h=31-hn(u),m=1<<h;s|=i[h],u&=~m}return Ti=s,Zc(),l}function T0(i,s){Ue=null,H.H=yd,s===Jl||s===od?(s=jv(),ot=3):s===Lv?(s=jv(),ot=4):ot=s===B_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Bn=s,He===null&&(At=1,Td(i,Jn(s,i.current)))}function E0(){var i=H.H;return H.H=yd,i===null?yd:i}function S0(){var i=H.A;return H.A=UD,i}function pm(){At=4,ra||(Ke&4194048)!==Ke&&rr.current!==null||(Co=!0),(ia&134217727)===0&&(Es&134217727)===0||gt===null||oa(gt,Ke,ir,!1)}function mm(i,s,l){var u=st;st|=2;var h=E0(),m=S0();(gt!==i||Ke!==s)&&(xd=null,Io(i,s)),s=!1;var w=At;e:do try{if(ot!==0&&He!==null){var E=He,O=Bn;switch(ot){case 8:hm(),w=6;break e;case 3:case 2:case 9:case 6:rr.current===null&&(s=!0);var G=ot;if(ot=0,Bn=null,No(i,E,O,G),l&&Co){w=0;break e}break;default:G=ot,ot=0,Bn=null,No(i,E,O,G)}}zD(),w=At;break}catch(J){T0(i,J)}while(!0);return s&&i.shellSuspendCounter++,pi=ys=null,st=u,H.H=h,H.A=m,He===null&&(gt=null,Ke=0,Zc()),w}function zD(){for(;He!==null;)D0(He)}function HD(i,s){var l=st;st|=2;var u=E0(),h=S0();gt!==i||Ke!==s?(xd=null,Rd=Qn()+500,Io(i,s)):Co=Wa(i,s);e:do try{if(ot!==0&&He!==null){s=He;var m=Bn;t:switch(ot){case 1:ot=0,Bn=null,No(i,s,m,1);break;case 2:case 9:if(Vv(m)){ot=0,Bn=null,A0(s);break}s=function(){ot!==2&&ot!==9||gt!==i||(ot=7),Vr(i)},m.then(s,s);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Vv(m)?(ot=0,Bn=null,A0(s)):(ot=0,Bn=null,No(i,s,m,7));break;case 5:var w=null;switch(He.tag){case 26:w=He.memoizedState;case 5:case 27:var E=He;if(!w||ob(w)){ot=0,Bn=null;var O=E.sibling;if(O!==null)He=O;else{var G=E.return;G!==null?(He=G,Id(G)):He=null}break t}}ot=0,Bn=null,No(i,s,m,5);break;case 6:ot=0,Bn=null,No(i,s,m,6);break;case 8:hm(),At=6;break e;default:throw Error(n(462))}}FD();break}catch(J){T0(i,J)}while(!0);return pi=ys=null,H.H=u,H.A=h,st=l,He!==null?0:(gt=null,Ke=0,Zc(),At)}function FD(){for(;He!==null&&!Tl();)D0(He)}function D0(i){var s=Z_(i.alternate,i,Ti);i.memoizedProps=i.pendingProps,s===null?Id(i):He=s}function A0(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=G_(l,s,s.pendingProps,s.type,void 0,Ke);break;case 11:s=G_(l,s,s.pendingProps,s.type.render,s.ref,Ke);break;case 5:kp(s);default:e0(l,s),s=He=Cv(s,Ti),s=Z_(l,s,Ti)}i.memoizedProps=i.pendingProps,s===null?Id(i):He=s}function No(i,s,l,u){pi=ys=null,kp(s),Eo=null,lu=0;var h=s.return;try{if(ND(i,h,s,l,Ke)){At=1,Td(i,Jn(l,i.current)),He=null;return}}catch(m){if(h!==null)throw He=h,m;At=1,Td(i,Jn(l,i.current)),He=null;return}s.flags&32768?(Je||u===1?i=!0:Co||(Ke&536870912)!==0?i=!1:(ra=i=!0,(u===2||u===9||u===3||u===6)&&(u=rr.current,u!==null&&u.tag===13&&(u.flags|=16384))),C0(s,i)):Id(s)}function Id(i){var s=i;do{if((s.flags&32768)!==0){C0(s,ra);return}i=s.return;var l=OD(s.alternate,s,Ti);if(l!==null){He=l;return}if(s=s.sibling,s!==null){He=s;return}He=s=i}while(s!==null);At===0&&(At=5)}function C0(i,s){do{var l=PD(i.alternate,i);if(l!==null){l.flags&=32767,He=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){He=i;return}He=i=l}while(i!==null);At=6,He=null}function R0(i,s,l,u,h,m,w,E,O){i.cancelPendingCommit=null;do Nd();while(on!==0);if((st&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(m=s.lanes|s.childLanes,m|=ap,Rl(i,l,m,w,E,O),i===gt&&(He=gt=null,Ke=0),xo=s,sa=i,ko=l,cm=m,dm=h,v0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,QD(qa,function(){return M0(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,h=ne.p,ne.p=2,w=st,st|=4;try{LD(i,s,l)}finally{st=w,ne.p=h,H.T=u}}on=1,x0(),k0(),I0()}}function x0(){if(on===1){on=0;var i=sa,s=xo,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var u=ne.p;ne.p=2;var h=st;st|=4;try{d0(s,i);var m=Cm,w=yv(i.containerInfo),E=m.focusedElem,O=m.selectionRange;if(w!==E&&E&&E.ownerDocument&&gv(E.ownerDocument.documentElement,E)){if(O!==null&&ep(E)){var G=O.start,J=O.end;if(J===void 0&&(J=G),"selectionStart"in E)E.selectionStart=G,E.selectionEnd=Math.min(J,E.value.length);else{var ie=E.ownerDocument||document,K=ie&&ie.defaultView||window;if(K.getSelection){var W=K.getSelection(),Ie=E.textContent.length,Ce=Math.min(O.start,Ie),pt=O.end===void 0?Ce:Math.min(O.end,Ie);!W.extend&&Ce>pt&&(w=pt,pt=Ce,Ce=w);var B=mv(E,Ce),j=mv(E,pt);if(B&&j&&(W.rangeCount!==1||W.anchorNode!==B.node||W.anchorOffset!==B.offset||W.focusNode!==j.node||W.focusOffset!==j.offset)){var q=ie.createRange();q.setStart(B.node,B.offset),W.removeAllRanges(),Ce>pt?(W.addRange(q),W.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),W.addRange(q))}}}}for(ie=[],W=E;W=W.parentNode;)W.nodeType===1&&ie.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ie.length;E++){var te=ie[E];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Yd=!!Am,Cm=Am=null}finally{st=h,ne.p=u,H.T=l}}i.current=s,on=2}}function k0(){if(on===2){on=0;var i=sa,s=xo,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var u=ne.p;ne.p=2;var h=st;st|=4;try{o0(i,s.alternate,s)}finally{st=h,ne.p=u,H.T=l}}on=3}}function I0(){if(on===4||on===3){on=0,Cc();var i=sa,s=xo,l=ko,u=v0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?on=5:(on=0,xo=sa=null,N0(i,i.pendingLanes));var h=i.pendingLanes;if(h===0&&(aa=null),Ks(l),s=s.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(St,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=H.T,h=ne.p,ne.p=2,H.T=null;try{for(var m=i.onRecoverableError,w=0;w<u.length;w++){var E=u[w];m(E.value,{componentStack:E.stack})}}finally{H.T=s,ne.p=h}}(ko&3)!==0&&Nd(),Vr(i),h=i.pendingLanes,(l&4194090)!==0&&(h&42)!==0?i===fm?yu++:(yu=0,fm=i):yu=0,vu(0)}}function N0(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,$l(s)))}function Nd(i){return x0(),k0(),I0(),M0()}function M0(){if(on!==5)return!1;var i=sa,s=cm;cm=0;var l=Ks(ko),u=H.T,h=ne.p;try{ne.p=32>l?32:l,H.T=null,l=dm,dm=null;var m=sa,w=ko;if(on=0,xo=sa=null,ko=0,(st&6)!==0)throw Error(n(331));var E=st;if(st|=4,g0(m.current),h0(m,m.current,w,l),st=E,vu(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(St,m)}catch{}return!0}finally{ne.p=h,H.T=u,N0(i,s)}}function O0(i,s,l){s=Jn(l,s),s=Yp(i.stateNode,s,2),i=Xi(i,s,2),i!==null&&(ei(i,2),Vr(i))}function mt(i,s,l){if(i.tag===3)O0(i,i,l);else for(;s!==null;){if(s.tag===3){O0(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(aa===null||!aa.has(u))){i=Jn(l,i),l=U_(2),u=Xi(s,l,2),u!==null&&(j_(l,u,s,i),ei(u,2),Vr(u));break}}s=s.return}}function gm(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new jD;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(l)||(sm=!0,h.add(l),i=YD.bind(null,i,s,l),s.then(i,i))}function YD(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,gt===i&&(Ke&l)===l&&(At===4||At===3&&(Ke&62914560)===Ke&&300>Qn()-um?(st&2)===0&&Io(i,0):om|=l,Ro===Ke&&(Ro=0)),Vr(i)}function P0(i,s){s===0&&(s=Cl()),i=ho(i,s),i!==null&&(ei(i,s),Vr(i))}function qD(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),P0(i,l)}function GD(i,s){var l=0;switch(i.tag){case 13:var u=i.stateNode,h=i.memoizedState;h!==null&&(l=h.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),P0(i,l)}function QD(i,s){return Fa(i,s)}var Md=null,Mo=null,ym=!1,Od=!1,vm=!1,Ss=0;function Vr(i){i!==Mo&&i.next===null&&(Mo===null?Md=Mo=i:Mo=Mo.next=i),Od=!0,ym||(ym=!0,WD())}function vu(i,s){if(!vm&&Od){vm=!0;do for(var l=!1,u=Md;u!==null;){if(i!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var w=u.suspendedLanes,E=u.pingedLanes;m=(1<<31-hn(42|i)+1)-1,m&=h&~(w&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,j0(u,m))}else m=Ke,m=Qs(u,u===gt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Wa(u,m)||(l=!0,j0(u,m));u=u.next}while(l);vm=!1}}function KD(){L0()}function L0(){Od=ym=!1;var i=0;Ss!==0&&(rA()&&(i=Ss),Ss=0);for(var s=Qn(),l=null,u=Md;u!==null;){var h=u.next,m=V0(u,s);m===0?(u.next=null,l===null?Md=h:l.next=h,h===null&&(Mo=l)):(l=u,(i!==0||(m&3)!==0)&&(Od=!0)),u=h}vu(i)}function V0(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,h=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var w=31-hn(m),E=1<<w,O=h[w];O===-1?((E&l)===0||(E&u)!==0)&&(h[w]=Dl(E,s)):O<=s&&(i.expiredLanes|=E),m&=~E}if(s=gt,l=Ke,l=Qs(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(ot===2||ot===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Ya(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Wa(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&Ya(u),Ks(l)){case 2:case 8:l=qs;break;case 32:l=qa;break;case 268435456:l=Gs;break;default:l=qa}return u=U0.bind(null,i),l=Fa(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&Ya(u),i.callbackPriority=2,i.callbackNode=null,2}function U0(i,s){if(on!==0&&on!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Nd()&&i.callbackNode!==l)return null;var u=Ke;return u=Qs(i,i===gt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(b0(i,u,s),V0(i,Qn()),i.callbackNode!=null&&i.callbackNode===l?U0.bind(null,i):null)}function j0(i,s){if(Nd())return null;b0(i,s,!0)}function WD(){aA(function(){(st&6)!==0?Fa(El,KD):L0()})}function _m(){return Ss===0&&(Ss=Al()),Ss}function B0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:eo(""+i)}function z0(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function XD(i,s,l,u,h){if(s==="submit"&&l&&l.stateNode===h){var m=B0((h[Lt]||null).action),w=u.submitter;w&&(s=(s=w[Lt]||null)?B0(s.formAction):w.getAttribute("formAction"),s!==null&&(m=s,w=null));var E=new to("action","action",null,u,h);i.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ss!==0){var O=w?z0(h,w):new FormData(h);jp(l,{pending:!0,data:O,method:h.method,action:m},null,O)}}else typeof m=="function"&&(E.preventDefault(),O=w?z0(h,w):new FormData(h),jp(l,{pending:!0,data:O,method:h.method,action:m},m,O))},currentTarget:h}]})}}for(var bm=0;bm<ip.length;bm++){var wm=ip[bm],$D=wm.toLowerCase(),ZD=wm[0].toUpperCase()+wm.slice(1);hr($D,"on"+ZD)}hr(bv,"onAnimationEnd"),hr(wv,"onAnimationIteration"),hr(Tv,"onAnimationStart"),hr("dblclick","onDoubleClick"),hr("focusin","onFocus"),hr("focusout","onBlur"),hr(mD,"onTransitionRun"),hr(gD,"onTransitionStart"),hr(yD,"onTransitionCancel"),hr(Ev,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function H0(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],h=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var w=u.length-1;0<=w;w--){var E=u[w],O=E.instance,G=E.currentTarget;if(E=E.listener,O!==m&&h.isPropagationStopped())break e;m=E,h.currentTarget=G;try{m(h)}catch(J){wd(J)}h.currentTarget=null,m=O}else for(w=0;w<u.length;w++){if(E=u[w],O=E.instance,G=E.currentTarget,E=E.listener,O!==m&&h.isPropagationStopped())break e;m=E,h.currentTarget=G;try{m(h)}catch(J){wd(J)}h.currentTarget=null,m=O}}}}function Fe(i,s){var l=s[kl];l===void 0&&(l=s[kl]=new Set);var u=i+"__bubble";l.has(u)||(F0(s,i,2,!1),l.add(u))}function Tm(i,s,l){var u=0;s&&(u|=4),F0(l,i,u,s)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function Em(i){if(!i[Pd]){i[Pd]=!0,Il.forEach(function(l){l!=="selectionchange"&&(JD.has(l)||Tm(l,!1,i),Tm(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Pd]||(s[Pd]=!0,Tm("selectionchange",!1,s))}}function F0(i,s,l,u){switch(hb(s)){case 2:var h=AA;break;case 8:h=CA;break;default:h=Vm}l=h.bind(null,s,l,i),h=void 0,!$n||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?i.addEventListener(s,l,{capture:!0,passive:h}):i.addEventListener(s,l,!0):h!==void 0?i.addEventListener(s,l,{passive:h}):i.addEventListener(s,l,!1)}function Sm(i,s,l,u,h){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var E=u.stateNode.containerInfo;if(E===h)break;if(w===4)for(w=u.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;E!==null;){if(w=ti(E),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){u=m=w;continue e}E=E.parentNode}}u=u.return}Vc(function(){var G=m,J=Xn(l),ie=[];e:{var K=Sv.get(i);if(K!==void 0){var W=to,Ie=i;switch(i){case"keypress":if(Rr(l)===0)break e;case"keydown":case"keyup":W=oo;break;case"focusin":Ie="focus",W=io;break;case"focusout":Ie="blur",W=io;break;case"beforeblur":case"afterblur":W=io;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=qc;break;case bv:case wv:case Tv:W=ao;break;case Ev:W=Qc;break;case"scroll":case"scrollend":W=Uc;break;case"wheel":W=lo;break;case"copy":case"cut":case"paste":W=so;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Fl;break;case"toggle":case"beforetoggle":W=Wc}var Ce=(s&4)!==0,pt=!Ce&&(i==="scroll"||i==="scrollend"),B=Ce?K!==null?K+"Capture":null:K;Ce=[];for(var j=G,q;j!==null;){var te=j;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||B===null||(te=rs(j,B),te!=null&&Ce.push(bu(j,te,q))),pt)break;j=j.return}0<Ce.length&&(K=new W(K,Ie,null,l,J),ie.push({event:K,listeners:Ce}))}}if((s&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",W=i==="mouseout"||i==="pointerout",K&&l!==ai&&(Ie=l.relatedTarget||l.fromElement)&&(ti(Ie)||Ie[Kn]))break e;if((W||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,W?(Ie=l.relatedTarget||l.toElement,W=G,Ie=Ie?ti(Ie):null,Ie!==null&&(pt=o(Ie),Ce=Ie.tag,Ie!==pt||Ce!==5&&Ce!==27&&Ce!==6)&&(Ie=null)):(W=null,Ie=G),W!==Ie)){if(Ce=Zn,te="onMouseLeave",B="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=Fl,te="onPointerLeave",B="onPointerEnter",j="pointer"),pt=W==null?K:Sr(W),q=Ie==null?K:Sr(Ie),K=new Ce(te,j+"leave",W,l,J),K.target=pt,K.relatedTarget=q,te=null,ti(J)===G&&(Ce=new Ce(B,j+"enter",Ie,l,J),Ce.target=q,Ce.relatedTarget=pt,te=Ce),pt=te,W&&Ie)t:{for(Ce=W,B=Ie,j=0,q=Ce;q;q=Oo(q))j++;for(q=0,te=B;te;te=Oo(te))q++;for(;0<j-q;)Ce=Oo(Ce),j--;for(;0<q-j;)B=Oo(B),q--;for(;j--;){if(Ce===B||B!==null&&Ce===B.alternate)break t;Ce=Oo(Ce),B=Oo(B)}Ce=null}else Ce=null;W!==null&&Y0(ie,K,W,Ce,!1),Ie!==null&&pt!==null&&Y0(ie,pt,Ie,Ce,!0)}}e:{if(K=G?Sr(G):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var be=uv;else if(Yt(K))if(cv)be=fD;else{be=cD;var ze=uD}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Ll(G.elementType)&&(be=uv):be=dD;if(be&&(be=be(i,G))){ci(ie,be,l,J);break e}ze&&ze(i,K,G),i==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&qi(K,"number",K.value)}switch(ze=G?Sr(G):window,i){case"focusin":(Yt(ze)||ze.contentEditable==="true")&&(uo=ze,tp=G,Gl=null);break;case"focusout":Gl=tp=uo=null;break;case"mousedown":np=!0;break;case"contextmenu":case"mouseup":case"dragend":np=!1,vv(ie,l,J);break;case"selectionchange":if(pD)break;case"keydown":case"keyup":vv(ie,l,J)}var Ee;if(Ir)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ge?X(i,l)&&(Re="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(b&&l.locale!=="ko"&&(Ge||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ge&&(Ee=Ul()):(Cr=J,Gi="value"in Cr?Cr.value:Cr.textContent,Ge=!0)),ze=Ld(G,Re),0<ze.length&&(Re=new zl(Re,i,null,l,J),ie.push({event:Re,listeners:ze}),Ee?Re.data=Ee:(Ee=fe(l),Ee!==null&&(Re.data=Ee)))),(Ee=v?Ft(i,l):Qe(i,l))&&(Re=Ld(G,"onBeforeInput"),0<Re.length&&(ze=new zl("onBeforeInput","beforeinput",null,l,J),ie.push({event:ze,listeners:Re}),ze.data=Ee)),XD(ie,i,G,l,J)}H0(ie,s)})}function bu(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Ld(i,s){for(var l=s+"Capture",u=[];i!==null;){var h=i,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=rs(i,l),h!=null&&u.unshift(bu(i,h,m)),h=rs(i,s),h!=null&&u.push(bu(i,h,m))),i.tag===3)return u;i=i.return}return[]}function Oo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Y0(i,s,l,u,h){for(var m=s._reactName,w=[];l!==null&&l!==u;){var E=l,O=E.alternate,G=E.stateNode;if(E=E.tag,O!==null&&O===u)break;E!==5&&E!==26&&E!==27||G===null||(O=G,h?(G=rs(l,m),G!=null&&w.unshift(bu(l,G,O))):h||(G=rs(l,m),G!=null&&w.push(bu(l,G,O)))),l=l.return}w.length!==0&&i.push({event:s,listeners:w})}var eA=/\r\n?/g,tA=/\u0000|\uFFFD/g;function q0(i){return(typeof i=="string"?i:""+i).replace(eA,`
`).replace(tA,"")}function G0(i,s){return s=q0(s),q0(i)===s}function Vd(){}function ht(i,s,l,u,h,m){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Wn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Wn(i,""+u);break;case"className":Dr(i,"class",u);break;case"tabIndex":Dr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dr(i,l,u);break;case"style":Pl(i,u,m);break;case"data":if(s!=="object"){Dr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=eo(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(s!=="input"&&ht(i,s,"name",h.name,h,null),ht(i,s,"formEncType",h.formEncType,h,null),ht(i,s,"formMethod",h.formMethod,h,null),ht(i,s,"formTarget",h.formTarget,h,null)):(ht(i,s,"encType",h.encType,h,null),ht(i,s,"method",h.method,h,null),ht(i,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=eo(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=Vd);break;case"onScroll":u!=null&&Fe("scroll",i);break;case"onScrollEnd":u!=null&&Fe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=eo(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":Fe("beforetoggle",i),Fe("toggle",i),Yi(i,"popover",u);break;case"xlinkActuate":rn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":rn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":rn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":rn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":rn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":rn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":rn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":rn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":rn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Yi(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Kh.get(l)||l,Yi(i,l,u))}}function Dm(i,s,l,u,h,m){switch(l){case"style":Pl(i,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(h.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Wn(i,u):(typeof u=="number"||typeof u=="bigint")&&Wn(i,""+u);break;case"onScroll":u!=null&&Fe("scroll",i);break;case"onScrollEnd":u!=null&&Fe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Vd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(h=l.endsWith("Capture"),s=l.slice(2,h?l.length-7:void 0),m=i[Lt]||null,m=m!=null?m[l]:null,typeof m=="function"&&i.removeEventListener(s,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,h);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):Yi(i,l,u)}}}function ln(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",i),Fe("load",i);var u=!1,h=!1,m;for(m in l)if(l.hasOwnProperty(m)){var w=l[m];if(w!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:ht(i,s,m,w,l,null)}}h&&ht(i,s,"srcSet",l.srcSet,l,null),u&&ht(i,s,"src",l.src,l,null);return;case"input":Fe("invalid",i);var E=m=w=h=null,O=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":h=J;break;case"type":w=J;break;case"checked":O=J;break;case"defaultChecked":G=J;break;case"value":m=J;break;case"defaultValue":E=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,s));break;default:ht(i,s,u,J,l,null)}}es(i,m,E,O,G,w,h,!1),Js(i);return;case"select":Fe("invalid",i),u=w=m=null;for(h in l)if(l.hasOwnProperty(h)&&(E=l[h],E!=null))switch(h){case"value":m=E;break;case"defaultValue":w=E;break;case"multiple":u=E;default:ht(i,s,h,E,l,null)}s=m,l=w,i.multiple=!!u,s!=null?ii(i,!!u,s,!1):l!=null&&ii(i,!!u,l,!0);return;case"textarea":Fe("invalid",i),m=h=u=null;for(w in l)if(l.hasOwnProperty(w)&&(E=l[w],E!=null))switch(w){case"value":u=E;break;case"defaultValue":h=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(n(91));break;default:ht(i,s,w,E,l,null)}ts(i,u,h,m),Js(i);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(u=l[O],u!=null))switch(O){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ht(i,s,O,u,l,null)}return;case"dialog":Fe("beforetoggle",i),Fe("toggle",i),Fe("cancel",i),Fe("close",i);break;case"iframe":case"object":Fe("load",i);break;case"video":case"audio":for(u=0;u<_u.length;u++)Fe(_u[u],i);break;case"image":Fe("error",i),Fe("load",i);break;case"details":Fe("toggle",i);break;case"embed":case"source":case"link":Fe("error",i),Fe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:ht(i,s,G,u,l,null)}return;default:if(Ll(s)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&Dm(i,s,J,u,l,void 0));return}}for(E in l)l.hasOwnProperty(E)&&(u=l[E],u!=null&&ht(i,s,E,u,l,null))}function nA(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,w=null,E=null,O=null,G=null,J=null;for(W in l){var ie=l[W];if(l.hasOwnProperty(W)&&ie!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=ie;default:u.hasOwnProperty(W)||ht(i,s,W,null,u,ie)}}for(var K in u){var W=u[K];if(ie=l[K],u.hasOwnProperty(K)&&(W!=null||ie!=null))switch(K){case"type":m=W;break;case"name":h=W;break;case"checked":G=W;break;case"defaultChecked":J=W;break;case"value":w=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(n(137,s));break;default:W!==ie&&ht(i,s,K,W,u,ie)}}Pn(i,w,E,O,G,J,m,h);return;case"select":W=w=E=K=null;for(m in l)if(O=l[m],l.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":W=O;default:u.hasOwnProperty(m)||ht(i,s,m,null,u,O)}for(h in u)if(m=u[h],O=l[h],u.hasOwnProperty(h)&&(m!=null||O!=null))switch(h){case"value":K=m;break;case"defaultValue":E=m;break;case"multiple":w=m;default:m!==O&&ht(i,s,h,m,u,O)}s=E,l=w,u=W,K!=null?ii(i,!!l,K,!1):!!u!=!!l&&(s!=null?ii(i,!!l,s,!0):ii(i,!!l,l?[]:"",!1));return;case"textarea":W=K=null;for(E in l)if(h=l[E],l.hasOwnProperty(E)&&h!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ht(i,s,E,null,u,h)}for(w in u)if(h=u[w],m=l[w],u.hasOwnProperty(w)&&(h!=null||m!=null))switch(w){case"value":K=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(n(91));break;default:h!==m&&ht(i,s,w,h,u,m)}dt(i,K,W);return;case"option":for(var Ie in l)if(K=l[Ie],l.hasOwnProperty(Ie)&&K!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":i.selected=!1;break;default:ht(i,s,Ie,null,u,K)}for(O in u)if(K=u[O],W=l[O],u.hasOwnProperty(O)&&K!==W&&(K!=null||W!=null))switch(O){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ht(i,s,O,K,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in l)K=l[Ce],l.hasOwnProperty(Ce)&&K!=null&&!u.hasOwnProperty(Ce)&&ht(i,s,Ce,null,u,K);for(G in u)if(K=u[G],W=l[G],u.hasOwnProperty(G)&&K!==W&&(K!=null||W!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,s));break;default:ht(i,s,G,K,u,W)}return;default:if(Ll(s)){for(var pt in l)K=l[pt],l.hasOwnProperty(pt)&&K!==void 0&&!u.hasOwnProperty(pt)&&Dm(i,s,pt,void 0,u,K);for(J in u)K=u[J],W=l[J],!u.hasOwnProperty(J)||K===W||K===void 0&&W===void 0||Dm(i,s,J,K,u,W);return}}for(var B in l)K=l[B],l.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&ht(i,s,B,null,u,K);for(ie in u)K=u[ie],W=l[ie],!u.hasOwnProperty(ie)||K===W||K==null&&W==null||ht(i,s,ie,K,u,W)}var Am=null,Cm=null;function Ud(i){return i.nodeType===9?i:i.ownerDocument}function Q0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K0(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Rm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xm=null;function rA(){var i=window.event;return i&&i.type==="popstate"?i===xm?!1:(xm=i,!0):(xm=null,!1)}var W0=typeof setTimeout=="function"?setTimeout:void 0,iA=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(i){return X0.resolve(null).then(i).catch(sA)}:W0;function sA(i){setTimeout(function(){throw i})}function la(i){return i==="head"}function $0(i,s){var l=s,u=0,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(0<u&&8>u){l=u;var w=i.ownerDocument;if(l&1&&wu(w.documentElement),l&2&&wu(w.body),l&4)for(l=w.head,wu(l),w=l.firstChild;w;){var E=w.nextSibling,O=w.nodeName;w[Xa]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=E}}if(h===0){i.removeChild(m),xu(s);return}h--}else l==="$"||l==="$?"||l==="$!"?h++:u=l.charCodeAt(0)-48;else u=0;l=m}while(l);xu(s)}function km(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":km(l),Fi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function oA(i,s,l,u){for(;i.nodeType===1;){var h=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Xa])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==h.rel||i.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||i.getAttribute("title")!==(h.title==null?null:h.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(h.src==null?null:h.src)||i.getAttribute("type")!==(h.type==null?null:h.type)||i.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=mr(i.nextSibling),i===null)break}return null}function lA(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=mr(i.nextSibling),i===null))return null;return i}function Im(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function uA(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function mr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var Nm=null;function Z0(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function J0(i,s,l){switch(s=Ud(l),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function wu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Fi(i)}var ar=new Map,eb=new Set;function jd(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ei=ne.d;ne.d={f:cA,r:dA,D:fA,C:hA,L:pA,m:mA,X:yA,S:gA,M:vA};function cA(){var i=Ei.f(),s=kd();return i||s}function dA(i){var s=Er(i);s!==null&&s.tag===5&&s.type==="form"?b_(s):Ei.r(i)}var Po=typeof document>"u"?null:document;function tb(i,s,l){var u=Po;if(u&&typeof s=="string"&&s){var h=Vt(s);h='link[rel="'+i+'"][href="'+h+'"]',typeof l=="string"&&(h+='[crossorigin="'+l+'"]'),eb.has(h)||(eb.add(h),i={rel:i,crossOrigin:l,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),ln(s,"link",i),xt(s),u.head.appendChild(s)))}}function fA(i){Ei.D(i),tb("dns-prefetch",i,null)}function hA(i,s){Ei.C(i,s),tb("preconnect",i,s)}function pA(i,s,l){Ei.L(i,s,l);var u=Po;if(u&&i&&s){var h='link[rel="preload"][as="'+Vt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(h+='[imagesrcset="'+Vt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(h+='[imagesizes="'+Vt(l.imageSizes)+'"]')):h+='[href="'+Vt(i)+'"]';var m=h;switch(s){case"style":m=Lo(i);break;case"script":m=Vo(i)}ar.has(m)||(i=y({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),ar.set(m,i),u.querySelector(h)!==null||s==="style"&&u.querySelector(Tu(m))||s==="script"&&u.querySelector(Eu(m))||(s=u.createElement("link"),ln(s,"link",i),xt(s),u.head.appendChild(s)))}}function mA(i,s){Ei.m(i,s);var l=Po;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Vt(u)+'"][href="'+Vt(i)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Vo(i)}if(!ar.has(m)&&(i=y({rel:"modulepreload",href:i},s),ar.set(m,i),l.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Eu(m)))return}u=l.createElement("link"),ln(u,"link",i),xt(u),l.head.appendChild(u)}}}function gA(i,s,l){Ei.S(i,s,l);var u=Po;if(u&&i){var h=wn(u).hoistableStyles,m=Lo(i);s=s||"default";var w=h.get(m);if(!w){var E={loading:0,preload:null};if(w=u.querySelector(Tu(m)))E.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},l),(l=ar.get(m))&&Mm(i,l);var O=w=u.createElement("link");xt(O),ln(O,"link",i),O._p=new Promise(function(G,J){O.onload=G,O.onerror=J}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Bd(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:E},h.set(m,w)}}}function yA(i,s){Ei.X(i,s);var l=Po;if(l&&i){var u=wn(l).hoistableScripts,h=Vo(i),m=u.get(h);m||(m=l.querySelector(Eu(h)),m||(i=y({src:i,async:!0},s),(s=ar.get(h))&&Om(i,s),m=l.createElement("script"),xt(m),ln(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function vA(i,s){Ei.M(i,s);var l=Po;if(l&&i){var u=wn(l).hoistableScripts,h=Vo(i),m=u.get(h);m||(m=l.querySelector(Eu(h)),m||(i=y({src:i,async:!0,type:"module"},s),(s=ar.get(h))&&Om(i,s),m=l.createElement("script"),xt(m),ln(m,"link",i),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function nb(i,s,l,u){var h=(h=ke.current)?jd(h):null;if(!h)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Lo(l.href),l=wn(h).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Lo(l.href);var m=wn(h).hoistableStyles,w=m.get(i);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,w),(m=h.querySelector(Tu(i)))&&!m._p&&(w.instance=m,w.state.loading=5),ar.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ar.set(i,l),m||_A(h,i,l,w.state))),s&&u===null)throw Error(n(528,""));return w}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vo(l),l=wn(h).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Lo(i){return'href="'+Vt(i)+'"'}function Tu(i){return'link[rel="stylesheet"]['+i+"]"}function rb(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function _A(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),ln(s,"link",l),xt(s),i.head.appendChild(s))}function Vo(i){return'[src="'+Vt(i)+'"]'}function Eu(i){return"script[async]"+i}function ib(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Vt(l.href)+'"]');if(u)return s.instance=u,xt(u),u;var h=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),xt(u),ln(u,"style",h),Bd(u,l.precedence,i),s.instance=u;case"stylesheet":h=Lo(l.href);var m=i.querySelector(Tu(h));if(m)return s.state.loading|=4,s.instance=m,xt(m),m;u=rb(l),(h=ar.get(h))&&Mm(u,h),m=(i.ownerDocument||i).createElement("link"),xt(m);var w=m;return w._p=new Promise(function(E,O){w.onload=E,w.onerror=O}),ln(m,"link",u),s.state.loading|=4,Bd(m,l.precedence,i),s.instance=m;case"script":return m=Vo(l.src),(h=i.querySelector(Eu(m)))?(s.instance=h,xt(h),h):(u=l,(h=ar.get(m))&&(u=y({},l),Om(u,h)),i=i.ownerDocument||i,h=i.createElement("script"),xt(h),ln(h,"link",u),i.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Bd(u,l.precedence,i));return s.instance}function Bd(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,w=0;w<u.length;w++){var E=u[w];if(E.dataset.precedence===s)m=E;else if(m!==h)break}m?m.parentNode.insertBefore(i,m.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Mm(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Om(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var zd=null;function ab(i,s,l){if(zd===null){var u=new Map,h=zd=new Map;h.set(l,u)}else h=zd,u=h.get(l),u||(u=new Map,h.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),h=0;h<l.length;h++){var m=l[h];if(!(m[Xa]||m[Ht]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(s)||"";w=i+w;var E=u.get(w);E?E.push(m):u.set(w,[m])}}return u}function sb(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function bA(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ob(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Su=null;function wA(){}function TA(i,s,l){if(Su===null)throw Error(n(475));var u=Su;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Lo(l.href),m=i.querySelector(Tu(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=Hd.bind(u),i.then(u,u)),s.state.loading|=4,s.instance=m,xt(m);return}m=i.ownerDocument||i,l=rb(l),(h=ar.get(h))&&Mm(l,h),m=m.createElement("link"),xt(m);var w=m;w._p=new Promise(function(E,O){w.onload=E,w.onerror=O}),ln(m,"link",l),s.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Hd.bind(u),i.addEventListener("load",s),i.addEventListener("error",s))}}function EA(){if(Su===null)throw Error(n(475));var i=Su;return i.stylesheets&&i.count===0&&Pm(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&Pm(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Hd(){if(this.count--,this.count===0){if(this.stylesheets)Pm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Fd=null;function Pm(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Fd=new Map,s.forEach(SA,i),Fd=null,Hd.call(i))}function SA(i,s){if(!(s.state.loading&4)){var l=Fd.get(i);if(l)var u=l.get(null);else{l=new Map,Fd.set(i,l);for(var h=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var w=h[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),u=w)}u&&l.set(null,u)}h=s.instance,w=h.getAttribute("data-precedence"),m=l.get(w)||u,m===u&&l.set(null,h),l.set(w,h),this.count++,u=Hd.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(h,i.firstChild)),s.state.loading|=4}}var Du={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function DA(i,s,l,u,h,m,w,E){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function lb(i,s,l,u,h,m,w,E,O,G,J,ie){return i=new DA(i,s,l,w,E,O,G,ie),s=1,m===!0&&(s|=24),m=Vn(3,null,null,s),i.current=m,m.stateNode=i,s=gp(),s.refCount++,i.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:s},bp(m),i}function ub(i){return i?(i=po,i):po}function cb(i,s,l,u,h,m){h=ub(h),u.context===null?u.context=h:u.pendingContext=h,u=Wi(s),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=Xi(i,u,s),l!==null&&(Hn(l,i,s),tu(l,i,s))}function db(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Lm(i,s){db(i,s),(i=i.alternate)&&db(i,s)}function fb(i){if(i.tag===13){var s=ho(i,67108864);s!==null&&Hn(s,i,67108864),Lm(i,67108864)}}var Yd=!0;function AA(i,s,l,u){var h=H.T;H.T=null;var m=ne.p;try{ne.p=2,Vm(i,s,l,u)}finally{ne.p=m,H.T=h}}function CA(i,s,l,u){var h=H.T;H.T=null;var m=ne.p;try{ne.p=8,Vm(i,s,l,u)}finally{ne.p=m,H.T=h}}function Vm(i,s,l,u){if(Yd){var h=Um(u);if(h===null)Sm(i,s,u,qd,l),pb(i,u);else if(xA(h,i,s,l,u))u.stopPropagation();else if(pb(i,u),s&4&&-1<RA.indexOf(i)){for(;h!==null;){var m=Er(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=cr(m.pendingLanes);if(w!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var O=1<<31-hn(w);E.entanglements[1]|=O,w&=~O}Vr(m),(st&6)===0&&(Rd=Qn()+500,vu(0))}}break;case 13:E=ho(m,2),E!==null&&Hn(E,m,2),kd(),Lm(m,2)}if(m=Um(u),m===null&&Sm(i,s,u,qd,l),m===h)break;h=m}h!==null&&u.stopPropagation()}else Sm(i,s,u,null,l)}}function Um(i){return i=Xn(i),jm(i)}var qd=null;function jm(i){if(qd=null,i=ti(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return qd=i,null}function hb(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hh()){case El:return 2;case qs:return 8;case qa:case Fh:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var Bm=!1,ua=null,ca=null,da=null,Au=new Map,Cu=new Map,fa=[],RA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pb(i,s){switch(i){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Au.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(s.pointerId)}}function Ru(i,s,l,u,h,m){return i===null||i.nativeEvent!==m?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},s!==null&&(s=Er(s),s!==null&&fb(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),i)}function xA(i,s,l,u,h){switch(s){case"focusin":return ua=Ru(ua,i,s,l,u,h),!0;case"dragenter":return ca=Ru(ca,i,s,l,u,h),!0;case"mouseover":return da=Ru(da,i,s,l,u,h),!0;case"pointerover":var m=h.pointerId;return Au.set(m,Ru(Au.get(m)||null,i,s,l,u,h)),!0;case"gotpointercapture":return m=h.pointerId,Cu.set(m,Ru(Cu.get(m)||null,i,s,l,u,h)),!0}return!1}function mb(i){var s=ti(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,kc(i.priority,function(){if(l.tag===13){var u=zn();u=Bi(u);var h=ho(l,u);h!==null&&Hn(h,l,u),Lm(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Um(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);ai=u,l.target.dispatchEvent(u),ai=null}else return s=Er(l),s!==null&&fb(s),i.blockedOn=l,!1;s.shift()}return!0}function gb(i,s,l){Gd(i)&&l.delete(s)}function kA(){Bm=!1,ua!==null&&Gd(ua)&&(ua=null),ca!==null&&Gd(ca)&&(ca=null),da!==null&&Gd(da)&&(da=null),Au.forEach(gb),Cu.forEach(gb)}function Qd(i,s){i.blockedOn===s&&(i.blockedOn=null,Bm||(Bm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kA)))}var Kd=null;function yb(i){Kd!==i&&(Kd=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kd===i&&(Kd=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],h=i[s+2];if(typeof u!="function"){if(jm(u||l)===null)continue;break}var m=Er(l);m!==null&&(i.splice(s,3),s-=3,jp(m,{pending:!0,data:h,method:l.method,action:u},u,h))}}))}function xu(i){function s(O){return Qd(O,i)}ua!==null&&Qd(ua,i),ca!==null&&Qd(ca,i),da!==null&&Qd(da,i),Au.forEach(s),Cu.forEach(s);for(var l=0;l<fa.length;l++){var u=fa[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<fa.length&&(l=fa[0],l.blockedOn===null);)mb(l),l.blockedOn===null&&fa.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var h=l[u],m=l[u+1],w=h[Lt]||null;if(typeof m=="function")w||yb(l);else if(w){var E=null;if(m&&m.hasAttribute("formAction")){if(h=m,w=m[Lt]||null)E=w.formAction;else if(jm(h)!==null)continue}else E=w.action;typeof E=="function"?l[u+1]=E:(l.splice(u,3),u-=3),yb(l)}}}function zm(i){this._internalRoot=i}Wd.prototype.render=zm.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var l=s.current,u=zn();cb(l,u,i,s,null,null)},Wd.prototype.unmount=zm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;cb(i.current,2,null,i,null,null),kd(),s[Kn]=null}};function Wd(i){this._internalRoot=i}Wd.prototype.unstable_scheduleHydration=function(i){if(i){var s=zi();i={blockedOn:null,target:i,priority:s};for(var l=0;l<fa.length&&s!==0&&s<fa[l].priority;l++);fa.splice(l,0,i),l===0&&mb(i)}};var vb=e.version;if(vb!=="19.1.0")throw Error(n(527,vb,"19.1.0"));ne.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=p(s),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var IA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{St=Xd.inject(IA),at=Xd}catch{}}return Iu.createRoot=function(i,s){if(!a(i))throw Error(n(299));var l=!1,u="",h=O_,m=P_,w=L_,E=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(E=s.unstable_transitionCallbacks)),s=lb(i,1,!1,null,null,l,u,h,m,w,E,null),i[Kn]=s.current,Em(i),new zm(s)},Iu.hydrateRoot=function(i,s,l){if(!a(i))throw Error(n(299));var u=!1,h="",m=O_,w=P_,E=L_,O=null,G=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(O=l.unstable_transitionCallbacks),l.formState!==void 0&&(G=l.formState)),s=lb(i,1,!0,s,l??null,u,h,m,w,E,O,G),s.context=ub(null),l=s.current,u=zn(),u=Bi(u),h=Wi(u),h.callback=null,Xi(l,h,u),l=u,s.current.lanes=l,ei(s,l),Vr(s),i[Kn]=s.current,Em(i),new Wd(s)},Iu.version="19.1.0",Iu}var Rb;function FA(){if(Rb)return Ym.exports;Rb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ym.exports=HA(),Ym.exports}var YA=FA();const qA=({tasks:r})=>{const e=r.length;r.filter(g=>g.status==="Todo").length;const t=r.filter(g=>g.status==="In Progress").length,n=r.filter(g=>g.status==="Completed").length,a=r.filter(g=>g.status==="Archived").length,o=new Date().toISOString().split("T")[0],c=r.filter(g=>g.dueDate===o).length;r.filter(g=>g.dueDate?new Date(g.dueDate)<new Date&&g.status!=="Completed":!1).length;const f=[{title:"All Task",count:e,bgColor:"bg-gray-800",textColor:"text-white"},{title:"L",subtitle:"Low",count:r.filter(g=>g.priority==="Low").length,bgColor:"bg-red-500",textColor:"text-white"},{title:"D",subtitle:"Due Today",count:c,bgColor:"bg-blue-500",textColor:"text-white"},{title:"D",subtitle:"Due Tomorrow",count:0,bgColor:"bg-orange-500",textColor:"text-white"},{title:"T",subtitle:"This Week",count:0,bgColor:"bg-green-500",textColor:"text-white"},{title:"E",subtitle:"Est. Time",count:0,bgColor:"bg-purple-500",textColor:"text-white"},{title:"T",subtitle:"Time Taken",count:0,bgColor:"bg-pink-500",textColor:"text-white"},{title:"M",subtitle:"My Review",count:0,bgColor:"bg-teal-500",textColor:"text-white"},{title:"R",subtitle:"Review By Others",count:0,bgColor:"bg-yellow-600",textColor:"text-white"},{title:"I",subtitle:"In Process",count:t,bgColor:"bg-amber-600",textColor:"text-white"}],p=[{title:"Completed",count:n,bgColor:"bg-purple-600",textColor:"text-white"},{title:"Archived",count:a,bgColor:"bg-gray-500",textColor:"text-white"}];return I.jsxs("div",{className:"mb-6",children:[I.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-10 gap-3 mb-4",children:f.map((g,y)=>I.jsxs("div",{className:`${g.bgColor} ${g.textColor} rounded-lg p-3 text-center shadow-sm hover:shadow-md transition-shadow cursor-pointer`,children:[I.jsx("div",{className:"text-lg font-bold",children:g.count}),I.jsx("div",{className:"text-2xl font-bold mb-1",children:g.title}),I.jsx("div",{className:"text-xs opacity-90",children:g.subtitle})]},y))}),I.jsx("div",{className:"grid grid-cols-2 gap-3 max-w-xs",children:p.map((g,y)=>I.jsxs("div",{className:`${g.bgColor} ${g.textColor} rounded-lg p-3 text-center shadow-sm hover:shadow-md transition-shadow cursor-pointer`,children:[I.jsx("div",{className:"text-lg font-bold",children:g.count}),I.jsx("div",{className:"text-sm font-medium",children:g.title})]},y))})]})};function GT(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=GT(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function dn(){for(var r,e,t=0,n="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=GT(r))&&(n&&(n+=" "),n+=e);return n}const QT=6048e5,GA=864e5,lh=6e4,uh=36e5,QA=1e3,xb=Symbol.for("constructDateFrom");function ut(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&xb in r?r[xb](e):r instanceof Date?new r.constructor(e):new Date(e)}function we(r,e){return ut(e||r,r)}function yr(r,e,t){const n=we(r,t==null?void 0:t.in);return isNaN(e)?ut((t==null?void 0:t.in)||r,NaN):(e&&n.setDate(n.getDate()+e),n)}function _r(r,e,t){const n=we(r,t==null?void 0:t.in);if(isNaN(e))return ut(r,NaN);if(!e)return n;const a=n.getDate(),o=ut(r,n.getTime());o.setMonth(n.getMonth()+e+1,0);const c=o.getDate();return a>=c?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)}function KT(r,e,t){return ut(r,+we(r)+e)}function KA(r,e,t){return KT(r,e*uh)}let WA={};function Hs(){return WA}function Ni(r,e){var f,p,g,y;const t=Hs(),n=(e==null?void 0:e.weekStartsOn)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((y=(g=t.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,a=we(r,e==null?void 0:e.in),o=a.getDay(),c=(o<n?7:0)+o-n;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Zo(r,e){return Ni(r,{...e,weekStartsOn:1})}function WT(r,e){const t=we(r,e==null?void 0:e.in),n=t.getFullYear(),a=ut(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=Zo(a),c=ut(t,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const f=Zo(c);return t.getTime()>=o.getTime()?n+1:t.getTime()>=f.getTime()?n:n-1}function xf(r){const e=we(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function Ui(r,...e){const t=ut.bind(null,e.find(n=>typeof n=="object"));return e.map(t)}function Os(r,e){const t=we(r,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Jo(r,e,t){const[n,a]=Ui(t==null?void 0:t.in,r,e),o=Os(n),c=Os(a),f=+o-xf(o),p=+c-xf(c);return Math.round((f-p)/GA)}function XA(r,e){const t=WT(r,e),n=ut(r,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Zo(n)}function yg(r,e,t){const n=we(r,t==null?void 0:t.in);return n.setTime(n.getTime()+e*lh),n}function ty(r,e,t){return _r(r,e*3,t)}function $A(r,e,t){return KT(r,e*1e3)}function kf(r,e,t){return yr(r,e*7,t)}function Ai(r,e,t){return _r(r,e*12,t)}function kb(r,e){let t,n=e==null?void 0:e.in;return r.forEach(a=>{!n&&typeof a=="object"&&(n=ut.bind(null,a));const o=we(a,n);(!t||t<o||isNaN(+o))&&(t=o)}),ut(n,t||NaN)}function Ib(r,e){let t,n=e==null?void 0:e.in;return r.forEach(a=>{!n&&typeof a=="object"&&(n=ut.bind(null,a));const o=we(a,n);(!t||t>o||isNaN(+o))&&(t=o)}),ut(n,t||NaN)}function ZA(r,e,t){const[n,a]=Ui(t==null?void 0:t.in,r,e);return+Os(n)==+Os(a)}function Ci(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function If(r){return!(!Ci(r)&&typeof r!="number"||isNaN(+we(r)))}function Nf(r,e,t){const[n,a]=Ui(t==null?void 0:t.in,r,e),o=n.getFullYear()-a.getFullYear(),c=n.getMonth()-a.getMonth();return o*12+c}function xs(r,e){const t=we(r,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function Mf(r,e,t){const[n,a]=Ui(t==null?void 0:t.in,r,e),o=n.getFullYear()-a.getFullYear(),c=xs(n)-xs(a);return o*4+c}function Of(r,e,t){const[n,a]=Ui(t==null?void 0:t.in,r,e);return n.getFullYear()-a.getFullYear()}function JA(r,e,t){const[n,a]=Ui(t==null?void 0:t.in,r,e),o=Nb(n,a),c=Math.abs(Jo(n,a));n.setDate(n.getDate()-o*c);const f=+(Nb(n,a)===-o),p=o*(c-f);return p===0?0:p}function Nb(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function XT(r,e){const t=we(r,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function $T(r,e){const t=we(r,e==null?void 0:e.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function vg(r,e){const t=we(r,e==null?void 0:e.in),n=t.getMonth(),a=n-n%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function ZT(r,e){const t=we(r,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function JT(r,e){const t=we(r,e==null?void 0:e.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function ch(r,e){const t=we(r,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function eC(r,e){var f,p;const t=Hs(),n=t.weekStartsOn??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=we(r,e==null?void 0:e.in),o=a.getDay(),c=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+c),a.setHours(23,59,59,999),a}const tC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nC=(r,e,t)=>{let n;const a=tC[r];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Km(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const rC={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iC={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aC={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sC={date:Km({formats:rC,defaultWidth:"full"}),time:Km({formats:iC,defaultWidth:"full"}),dateTime:Km({formats:aC,defaultWidth:"full"})},oC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lC=(r,e,t,n)=>oC[r];function Nu(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let a;if(n==="formatting"&&r.formattingValues){const c=r.defaultFormattingWidth||r.defaultWidth,f=t!=null&&t.width?String(t.width):c;a=r.formattingValues[f]||r.formattingValues[c]}else{const c=r.defaultWidth,f=t!=null&&t.width?String(t.width):r.defaultWidth;a=r.values[f]||r.values[c]}const o=r.argumentCallback?r.argumentCallback(e):e;return a[o]}}const uC={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cC={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},dC={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},fC={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mC=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},gC={ordinalNumber:mC,era:Nu({values:uC,defaultWidth:"wide"}),quarter:Nu({values:cC,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Nu({values:dC,defaultWidth:"wide"}),day:Nu({values:fC,defaultWidth:"wide"}),dayPeriod:Nu({values:hC,defaultWidth:"wide",formattingValues:pC,defaultFormattingWidth:"wide"})};function Mu(r){return(e,t={})=>{const n=t.width,a=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],o=e.match(a);if(!o)return null;const c=o[0],f=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(f)?vC(f,_=>_.test(c)):yC(f,_=>_.test(c));let g;g=r.valueCallback?r.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const y=e.slice(c.length);return{value:g,rest:y}}}function yC(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function vC(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function _C(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const a=n[0],o=e.match(r.parsePattern);if(!o)return null;let c=r.valueCallback?r.valueCallback(o[0]):o[0];c=t.valueCallback?t.valueCallback(c):c;const f=e.slice(a.length);return{value:c,rest:f}}}const bC=/^(\d+)(th|st|nd|rd)?/i,wC=/\d+/i,TC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},EC={any:[/^b/i,/^(a|c)/i]},SC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DC={any:[/1/i,/2/i,/3/i,/4/i]},AC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},RC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},NC={ordinalNumber:_C({matchPattern:bC,parsePattern:wC,valueCallback:r=>parseInt(r,10)}),era:Mu({matchPatterns:TC,defaultMatchWidth:"wide",parsePatterns:EC,defaultParseWidth:"any"}),quarter:Mu({matchPatterns:SC,defaultMatchWidth:"wide",parsePatterns:DC,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Mu({matchPatterns:AC,defaultMatchWidth:"wide",parsePatterns:CC,defaultParseWidth:"any"}),day:Mu({matchPatterns:RC,defaultMatchWidth:"wide",parsePatterns:xC,defaultParseWidth:"any"}),dayPeriod:Mu({matchPatterns:kC,defaultMatchWidth:"any",parsePatterns:IC,defaultParseWidth:"any"})},eE={code:"en-US",formatDistance:nC,formatLong:sC,formatRelative:lC,localize:gC,match:NC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function MC(r,e){const t=we(r,e==null?void 0:e.in);return Jo(t,ch(t))+1}function ny(r,e){const t=we(r,e==null?void 0:e.in),n=+Zo(t)-+XA(t);return Math.round(n/QT)+1}function ry(r,e){var y,_,T,A;const t=we(r,e==null?void 0:e.in),n=t.getFullYear(),a=Hs(),o=(e==null?void 0:e.firstWeekContainsDate)??((_=(y=e==null?void 0:e.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??a.firstWeekContainsDate??((A=(T=a.locale)==null?void 0:T.options)==null?void 0:A.firstWeekContainsDate)??1,c=ut((e==null?void 0:e.in)||r,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const f=Ni(c,e),p=ut((e==null?void 0:e.in)||r,0);p.setFullYear(n,0,o),p.setHours(0,0,0,0);const g=Ni(p,e);return+t>=+f?n+1:+t>=+g?n:n-1}function OC(r,e){var f,p,g,y;const t=Hs(),n=(e==null?void 0:e.firstWeekContainsDate)??((p=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((y=(g=t.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,a=ry(r,e),o=ut((e==null?void 0:e.in)||r,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),Ni(o,e)}function tE(r,e){const t=we(r,e==null?void 0:e.in),n=+Ni(t,e)-+OC(t,e);return Math.round(n/QT)+1}function lt(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const pa={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return lt(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):lt(t+1,2)},d(r,e){return lt(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return lt(r.getHours()%12||12,e.length)},H(r,e){return lt(r.getHours(),e.length)},m(r,e){return lt(r.getMinutes(),e.length)},s(r,e){return lt(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return lt(a,e.length)}},Uo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Mb={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return pa.y(r,e)},Y:function(r,e,t,n){const a=ry(r,n),o=a>0?a:1-a;if(e==="YY"){const c=o%100;return lt(c,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):lt(o,e.length)},R:function(r,e){const t=WT(r);return lt(t,e.length)},u:function(r,e){const t=r.getFullYear();return lt(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return lt(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return lt(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return pa.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return lt(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const a=tE(r,n);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):lt(a,e.length)},I:function(r,e,t){const n=ny(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):lt(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):pa.d(r,e)},D:function(r,e,t){const n=MC(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):lt(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const a=r.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return lt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const a=r.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return lt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return lt(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let a;switch(n===12?a=Uo.noon:n===0?a=Uo.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let a;switch(n>=17?a=Uo.evening:n>=12?a=Uo.afternoon:n>=4?a=Uo.morning:a=Uo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return pa.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):pa.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):lt(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):lt(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):pa.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):pa.s(r,e)},S:function(r,e){return pa.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Pb(n);case"XXXX":case"XX":return Ds(n);case"XXXXX":case"XXX":default:return Ds(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return Pb(n);case"xxxx":case"xx":return Ds(n);case"xxxxx":case"xxx":default:return Ds(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ob(n,":");case"OOOO":default:return"GMT"+Ds(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ob(n,":");case"zzzz":default:return"GMT"+Ds(n,":")}},t:function(r,e,t){const n=Math.trunc(+r/1e3);return lt(n,e.length)},T:function(r,e,t){return lt(+r,e.length)}};function Ob(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=Math.trunc(n/60),o=n%60;return o===0?t+String(a):t+String(a)+e+lt(o,2)}function Pb(r,e){return r%60===0?(r>0?"-":"+")+lt(Math.abs(r)/60,2):Ds(r,e)}function Ds(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),a=lt(Math.trunc(n/60),2),o=lt(n%60,2);return t+a+e+o}const Lb=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nE=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},PC=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return Lb(r,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Lb(n,e)).replace("{{time}}",nE(a,e))},_g={p:nE,P:PC},LC=/^D+$/,VC=/^Y+$/,UC=["D","DD","YY","YYYY"];function jC(r){return LC.test(r)}function BC(r){return VC.test(r)}function zC(r,e,t){const n=HC(r,e,t);if(console.warn(n),UC.includes(r))throw new RangeError(n)}function HC(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const FC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qC=/^'([^]*?)'?$/,GC=/''/g,QC=/[a-zA-Z]/;function Vb(r,e,t){var y,_,T,A,C,V,x,z;const n=Hs(),a=(t==null?void 0:t.locale)??n.locale??eE,o=(t==null?void 0:t.firstWeekContainsDate)??((_=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:_.firstWeekContainsDate)??n.firstWeekContainsDate??((A=(T=n.locale)==null?void 0:T.options)==null?void 0:A.firstWeekContainsDate)??1,c=(t==null?void 0:t.weekStartsOn)??((V=(C=t==null?void 0:t.locale)==null?void 0:C.options)==null?void 0:V.weekStartsOn)??n.weekStartsOn??((z=(x=n.locale)==null?void 0:x.options)==null?void 0:z.weekStartsOn)??0,f=we(r,t==null?void 0:t.in);if(!If(f))throw new RangeError("Invalid time value");let p=e.match(YC).map($=>{const Y=$[0];if(Y==="p"||Y==="P"){const oe=_g[Y];return oe($,a.formatLong)}return $}).join("").match(FC).map($=>{if($==="''")return{isToken:!1,value:"'"};const Y=$[0];if(Y==="'")return{isToken:!1,value:KC($)};if(Mb[Y])return{isToken:!0,value:$};if(Y.match(QC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");return{isToken:!1,value:$}});a.localize.preprocessor&&(p=a.localize.preprocessor(f,p));const g={firstWeekContainsDate:o,weekStartsOn:c,locale:a};return p.map($=>{if(!$.isToken)return $.value;const Y=$.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&BC(Y)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&jC(Y))&&zC(Y,e,String(r));const oe=Mb[Y[0]];return oe(f,Y,a.localize,g)}).join("")}function KC(r){const e=r.match(qC);return e?e[1].replace(GC,"'"):r}function Ub(r,e){return we(r,e==null?void 0:e.in).getDate()}function WC(r,e){return we(r,e==null?void 0:e.in).getDay()}function XC(r,e){const t=we(r,e==null?void 0:e.in),n=t.getFullYear(),a=t.getMonth(),o=ut(t,0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()}function $C(){return Object.assign({},Hs())}function Ri(r,e){return we(r,e==null?void 0:e.in).getHours()}function ZC(r,e){const t=we(r,e==null?void 0:e.in).getDay();return t===0?7:t}function xi(r,e){return we(r,e==null?void 0:e.in).getMinutes()}function _n(r,e){return we(r,e==null?void 0:e.in).getMonth()}function Ta(r){return we(r).getSeconds()}function bg(r){return+we(r)}function je(r,e){return we(r,e==null?void 0:e.in).getFullYear()}function Ia(r,e){return+we(r)>+we(e)}function Ps(r,e){return+we(r)<+we(e)}function JC(r,e){return+we(r)==+we(e)}function eR(r,e){const t=tR(e)?new e(0):ut(e,0);return t.setFullYear(r.getFullYear(),r.getMonth(),r.getDate()),t.setHours(r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),t}function tR(r){var e;return typeof r=="function"&&((e=r.prototype)==null?void 0:e.constructor)===r}const nR=10;class rE{constructor(){ge(this,"subPriority",0)}validate(e,t){return!0}}class rR extends rE{constructor(e,t,n,a,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=a,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class iR extends rE{constructor(t,n){super();ge(this,"priority",nR);ge(this,"subPriority",-1);this.context=t||(a=>ut(n,a))}set(t,n){return n.timestampIsSet?t:ut(t,eR(t,this.context))}}class et{run(e,t,n,a){const o=this.parse(e,t,n,a);return o?{setter:new rR(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}class aR extends et{constructor(){super(...arguments);ge(this,"priority",140);ge(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,n,a){return n.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}const Ot={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},zr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Pt(r,e){return r&&{value:e(r.value),rest:r.rest}}function Tt(r,e){const t=e.match(r);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Hr(r,e){const t=e.match(r);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const n=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,c=t[5]?parseInt(t[5],10):0;return{value:n*(a*uh+o*lh+c*QA),rest:e.slice(t[0].length)}}function iE(r){return Tt(Ot.anyDigitsSigned,r)}function Rt(r,e){switch(r){case 1:return Tt(Ot.singleDigit,e);case 2:return Tt(Ot.twoDigits,e);case 3:return Tt(Ot.threeDigits,e);case 4:return Tt(Ot.fourDigits,e);default:return Tt(new RegExp("^\\d{1,"+r+"}"),e)}}function Pf(r,e){switch(r){case 1:return Tt(Ot.singleDigitSigned,e);case 2:return Tt(Ot.twoDigitsSigned,e);case 3:return Tt(Ot.threeDigitsSigned,e);case 4:return Tt(Ot.fourDigitsSigned,e);default:return Tt(new RegExp("^-?\\d{1,"+r+"}"),e)}}function iy(r){switch(r){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function aE(r,e){const t=e>0,n=t?e:1-e;let a;if(n<=50)a=r||100;else{const o=n+50,c=Math.trunc(o/100)*100,f=r>=o%100;a=r+c-(f?100:0)}return t?a:1-a}function sE(r){return r%400===0||r%4===0&&r%100!==0}class sR extends et{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,a){const o=c=>({year:c,isTwoDigitYear:n==="yy"});switch(n){case"y":return Pt(Rt(4,t),o);case"yo":return Pt(a.ordinalNumber(t,{unit:"year"}),o);default:return Pt(Rt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a){const o=t.getFullYear();if(a.isTwoDigitYear){const f=aE(a.year,o);return t.setFullYear(f,0,1),t.setHours(0,0,0,0),t}const c=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}}class oR extends et{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,a){const o=c=>({year:c,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Pt(Rt(4,t),o);case"Yo":return Pt(a.ordinalNumber(t,{unit:"year"}),o);default:return Pt(Rt(n.length,t),o)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a,o){const c=ry(t,o);if(a.isTwoDigitYear){const p=aE(a.year,c);return t.setFullYear(p,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Ni(t,o)}const f=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(f,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),Ni(t,o)}}class lR extends et{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return Pf(n==="R"?4:n.length,t)}set(t,n,a){const o=ut(t,0);return o.setFullYear(a,0,4),o.setHours(0,0,0,0),Zo(o)}}class uR extends et{constructor(){super(...arguments);ge(this,"priority",130);ge(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return Pf(n==="u"?4:n.length,t)}set(t,n,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class cR extends et{constructor(){super(...arguments);ge(this,"priority",120);ge(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"Q":case"QQ":return Rt(n.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class dR extends et{constructor(){super(...arguments);ge(this,"priority",120);ge(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"q":case"qq":return Rt(n.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class fR extends et{constructor(){super(...arguments);ge(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ge(this,"priority",110)}parse(t,n,a){const o=c=>c-1;switch(n){case"M":return Pt(Tt(Ot.month,t),o);case"MM":return Pt(Rt(2,t),o);case"Mo":return Pt(a.ordinalNumber(t,{unit:"month"}),o);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class hR extends et{constructor(){super(...arguments);ge(this,"priority",110);ge(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,a){const o=c=>c-1;switch(n){case"L":return Pt(Tt(Ot.month,t),o);case"LL":return Pt(Rt(2,t),o);case"Lo":return Pt(a.ordinalNumber(t,{unit:"month"}),o);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}function pR(r,e,t){const n=we(r,t==null?void 0:t.in),a=tE(n,t)-e;return n.setDate(n.getDate()-a*7),we(n,t==null?void 0:t.in)}class mR extends et{constructor(){super(...arguments);ge(this,"priority",100);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,a){switch(n){case"w":return Tt(Ot.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return Rt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a,o){return Ni(pR(t,a,o),o)}}function gR(r,e,t){const n=we(r,t==null?void 0:t.in),a=ny(n,t)-e;return n.setDate(n.getDate()-a*7),n}class yR extends et{constructor(){super(...arguments);ge(this,"priority",100);ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,a){switch(n){case"I":return Tt(Ot.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return Rt(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a){return Zo(gR(t,a))}}const vR=[31,28,31,30,31,30,31,31,30,31,30,31],_R=[31,29,31,30,31,30,31,31,30,31,30,31];class bR extends et{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"subPriority",1);ge(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"d":return Tt(Ot.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return Rt(n.length,t)}}validate(t,n){const a=t.getFullYear(),o=sE(a),c=t.getMonth();return o?n>=1&&n<=_R[c]:n>=1&&n<=vR[c]}set(t,n,a){return t.setDate(a),t.setHours(0,0,0,0),t}}class wR extends et{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"subpriority",1);ge(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,a){switch(n){case"D":case"DD":return Tt(Ot.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return Rt(n.length,t)}}validate(t,n){const a=t.getFullYear();return sE(a)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}}function ay(r,e,t){var _,T,A,C;const n=Hs(),a=(t==null?void 0:t.weekStartsOn)??((T=(_=t==null?void 0:t.locale)==null?void 0:_.options)==null?void 0:T.weekStartsOn)??n.weekStartsOn??((C=(A=n.locale)==null?void 0:A.options)==null?void 0:C.weekStartsOn)??0,o=we(r,t==null?void 0:t.in),c=o.getDay(),p=(e%7+7)%7,g=7-a,y=e<0||e>6?e-(c+g)%7:(p+g)%7-(c+g)%7;return yr(o,y,t)}class TR extends et{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=ay(t,a,o),t.setHours(0,0,0,0),t}}class ER extends et{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,a,o){const c=f=>{const p=Math.floor((f-1)/7)*7;return(f+o.weekStartsOn+6)%7+p};switch(n){case"e":case"ee":return Pt(Rt(n.length,t),c);case"eo":return Pt(a.ordinalNumber(t,{unit:"day"}),c);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=ay(t,a,o),t.setHours(0,0,0,0),t}}class SR extends et{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,a,o){const c=f=>{const p=Math.floor((f-1)/7)*7;return(f+o.weekStartsOn+6)%7+p};switch(n){case"c":case"cc":return Pt(Rt(n.length,t),c);case"co":return Pt(a.ordinalNumber(t,{unit:"day"}),c);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,o){return t=ay(t,a,o),t.setHours(0,0,0,0),t}}function DR(r,e,t){const n=we(r,t==null?void 0:t.in),a=ZC(n,t),o=e-a;return yr(n,o,t)}class AR extends et{constructor(){super(...arguments);ge(this,"priority",90);ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,a){const o=c=>c===0?7:c;switch(n){case"i":case"ii":return Rt(n.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return Pt(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return Pt(a.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Pt(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Pt(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,n){return n>=1&&n<=7}set(t,n,a){return t=DR(t,a),t.setHours(0,0,0,0),t}}class CR extends et{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(iy(a),0,0,0),t}}class RR extends et{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(iy(a),0,0,0),t}}class xR extends et{constructor(){super(...arguments);ge(this,"priority",80);ge(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(iy(a),0,0,0),t}}class kR extends et{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,a){switch(n){case"h":return Tt(Ot.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return Rt(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,a){const o=t.getHours()>=12;return o&&a<12?t.setHours(a+12,0,0,0):!o&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}}class IR extends et{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,a){switch(n){case"H":return Tt(Ot.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return Rt(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,a){return t.setHours(a,0,0,0),t}}class NR extends et{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,a){switch(n){case"K":return Tt(Ot.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return Rt(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}}class MR extends et{constructor(){super(...arguments);ge(this,"priority",70);ge(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,a){switch(n){case"k":return Tt(Ot.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return Rt(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,a){const o=a<=24?a%24:a;return t.setHours(o,0,0,0),t}}class OR extends et{constructor(){super(...arguments);ge(this,"priority",60);ge(this,"incompatibleTokens",["t","T"])}parse(t,n,a){switch(n){case"m":return Tt(Ot.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return Rt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setMinutes(a,0,0),t}}class PR extends et{constructor(){super(...arguments);ge(this,"priority",50);ge(this,"incompatibleTokens",["t","T"])}parse(t,n,a){switch(n){case"s":return Tt(Ot.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return Rt(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setSeconds(a,0),t}}class LR extends et{constructor(){super(...arguments);ge(this,"priority",30);ge(this,"incompatibleTokens",["t","T"])}parse(t,n){const a=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Pt(Rt(n.length,t),a)}set(t,n,a){return t.setMilliseconds(a),t}}class VR extends et{constructor(){super(...arguments);ge(this,"priority",10);ge(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return Hr(zr.basicOptionalMinutes,t);case"XX":return Hr(zr.basic,t);case"XXXX":return Hr(zr.basicOptionalSeconds,t);case"XXXXX":return Hr(zr.extendedOptionalSeconds,t);case"XXX":default:return Hr(zr.extended,t)}}set(t,n,a){return n.timestampIsSet?t:ut(t,t.getTime()-xf(t)-a)}}class UR extends et{constructor(){super(...arguments);ge(this,"priority",10);ge(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return Hr(zr.basicOptionalMinutes,t);case"xx":return Hr(zr.basic,t);case"xxxx":return Hr(zr.basicOptionalSeconds,t);case"xxxxx":return Hr(zr.extendedOptionalSeconds,t);case"xxx":default:return Hr(zr.extended,t)}}set(t,n,a){return n.timestampIsSet?t:ut(t,t.getTime()-xf(t)-a)}}class jR extends et{constructor(){super(...arguments);ge(this,"priority",40);ge(this,"incompatibleTokens","*")}parse(t){return iE(t)}set(t,n,a){return[ut(t,a*1e3),{timestampIsSet:!0}]}}class BR extends et{constructor(){super(...arguments);ge(this,"priority",20);ge(this,"incompatibleTokens","*")}parse(t){return iE(t)}set(t,n,a){return[ut(t,a),{timestampIsSet:!0}]}}const zR={G:new aR,y:new sR,Y:new oR,R:new lR,u:new uR,Q:new cR,q:new dR,M:new fR,L:new hR,w:new mR,I:new yR,d:new bR,D:new wR,E:new TR,e:new ER,c:new SR,i:new AR,a:new CR,b:new RR,B:new xR,h:new kR,H:new IR,K:new NR,k:new MR,m:new OR,s:new PR,S:new LR,X:new VR,x:new UR,t:new jR,T:new BR},HR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,FR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YR=/^'([^]*?)'?$/,qR=/''/g,GR=/\S/,QR=/[a-zA-Z]/;function KR(r,e,t,n){var x,z,$,Y,oe,le,he,N;const a=()=>ut((n==null?void 0:n.in)||t,NaN),o=$C(),c=(n==null?void 0:n.locale)??o.locale??eE,f=(n==null?void 0:n.firstWeekContainsDate)??((z=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:z.firstWeekContainsDate)??o.firstWeekContainsDate??((Y=($=o.locale)==null?void 0:$.options)==null?void 0:Y.firstWeekContainsDate)??1,p=(n==null?void 0:n.weekStartsOn)??((le=(oe=n==null?void 0:n.locale)==null?void 0:oe.options)==null?void 0:le.weekStartsOn)??o.weekStartsOn??((N=(he=o.locale)==null?void 0:he.options)==null?void 0:N.weekStartsOn)??0;if(!e)return r?a():we(t,n==null?void 0:n.in);const g={firstWeekContainsDate:f,weekStartsOn:p,locale:c},y=[new iR(n==null?void 0:n.in,t)],_=e.match(FR).map(D=>{const R=D[0];if(R in _g){const M=_g[R];return M(D,c.formatLong)}return D}).join("").match(HR),T=[];for(let D of _){const R=D[0],M=zR[R];if(M){const{incompatibleTokens:P}=M;if(Array.isArray(P)){const k=T.find(Me=>P.includes(Me.token)||Me.token===R);if(k)throw new RangeError(`The format string mustn't contain \`${k.fullToken}\` and \`${D}\` at the same time`)}else if(M.incompatibleTokens==="*"&&T.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);T.push({token:R,fullToken:D});const U=M.run(r,D,c.match,g);if(!U)return a();y.push(U.setter),r=U.rest}else{if(R.match(QR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(D==="''"?D="'":R==="'"&&(D=WR(D)),r.indexOf(D)===0)r=r.slice(D.length);else return a()}}if(r.length>0&&GR.test(r))return a();const A=y.map(D=>D.priority).sort((D,R)=>R-D).filter((D,R,M)=>M.indexOf(D)===R).map(D=>y.filter(R=>R.priority===D).sort((R,M)=>M.subPriority-R.subPriority)).map(D=>D[0]);let C=we(t,n==null?void 0:n.in);if(isNaN(+C))return a();const V={};for(const D of A){if(!D.validate(C,g))return a();const R=D.set(C,V,g);Array.isArray(R)?(C=R[0],Object.assign(V,R[1])):C=R}return C}function WR(r){return r.match(YR)[1].replace(qR,"'")}function XR(r,e,t){const[n,a]=Ui(t==null?void 0:t.in,r,e);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function $R(r,e,t){const[n,a]=Ui(t==null?void 0:t.in,r,e);return+vg(n)==+vg(a)}function ZR(r,e,t){const[n,a]=Ui(t==null?void 0:t.in,r,e);return n.getFullYear()===a.getFullYear()}function Xu(r,e,t){const n=+we(r,t==null?void 0:t.in),[a,o]=[+we(e.start,t==null?void 0:t.in),+we(e.end,t==null?void 0:t.in)].sort((c,f)=>c-f);return n>=a&&n<=o}function JR(r,e,t){return yr(r,-1,t)}function ex(r,e){const t=()=>ut(e==null?void 0:e.in,NaN),a=ix(r);let o;if(a.date){const g=ax(a.date,2);o=sx(g.restDateString,g.year)}if(!o||isNaN(+o))return t();const c=+o;let f=0,p;if(a.time&&(f=ox(a.time),isNaN(f)))return t();if(a.timezone){if(p=lx(a.timezone),isNaN(p))return t()}else{const g=new Date(c+f),y=we(0,e==null?void 0:e.in);return y.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),y.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),y}return we(c+f+p,e==null?void 0:e.in)}const $d={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tx=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nx=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ix(r){const e={},t=r.split($d.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],$d.timeZoneDelimiter.test(e.date)&&(e.date=r.split($d.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const a=$d.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function ax(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:r.slice((n[1]||n[2]).length)}}function sx(r,e){if(e===null)return new Date(NaN);const t=r.match(tx);if(!t)return new Date(NaN);const n=!!t[4],a=Ou(t[1]),o=Ou(t[2])-1,c=Ou(t[3]),f=Ou(t[4]),p=Ou(t[5])-1;if(n)return hx(e,f,p)?ux(e,f,p):new Date(NaN);{const g=new Date(0);return!dx(e,o,c)||!fx(e,a)?new Date(NaN):(g.setUTCFullYear(e,o,Math.max(a,c)),g)}}function Ou(r){return r?parseInt(r):1}function ox(r){const e=r.match(nx);if(!e)return NaN;const t=Wm(e[1]),n=Wm(e[2]),a=Wm(e[3]);return px(t,n,a)?t*uh+n*lh+a*1e3:NaN}function Wm(r){return r&&parseFloat(r.replace(",","."))||0}function lx(r){if(r==="Z")return 0;const e=r.match(rx);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return mx(n,a)?t*(n*uh+a*lh):NaN}function ux(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const a=n.getUTCDay()||7,o=(e-1)*7+t+1-a;return n.setUTCDate(n.getUTCDate()+o),n}const cx=[31,null,31,30,31,30,31,31,30,31,30,31];function oE(r){return r%400===0||r%4===0&&r%100!==0}function dx(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(cx[e]||(oE(r)?29:28))}function fx(r,e){return e>=1&&e<=(oE(r)?366:365)}function hx(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function px(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function mx(r,e){return e>=0&&e<=59}function or(r,e,t){const n=we(r,t==null?void 0:t.in),a=n.getFullYear(),o=n.getDate(),c=ut(r,0);c.setFullYear(a,e,15),c.setHours(0,0,0,0);const f=XC(c);return n.setMonth(e,Math.min(o,f)),n}function hf(r,e,t){const n=we(r,t==null?void 0:t.in);return n.setHours(e),n}function pf(r,e,t){const n=we(r,t==null?void 0:t.in);return n.setMinutes(e),n}function jo(r,e,t){const n=we(r,t==null?void 0:t.in),a=Math.trunc(n.getMonth()/3)+1,o=e-a;return or(n,n.getMonth()+o*3)}function mf(r,e,t){const n=we(r,t==null?void 0:t.in);return n.setSeconds(e),n}function Ur(r,e,t){const n=we(r,t==null?void 0:t.in);return isNaN(+n)?ut(r,NaN):(n.setFullYear(e),n)}function ks(r,e,t){return _r(r,-e,t)}function lE(r,e,t){return ty(r,-1,t)}function jb(r,e,t){return kf(r,-1,t)}function el(r,e,t){return Ai(r,-e,t)}function dh(){return typeof window<"u"}function pl(r){return uE(r)?(r.nodeName||"").toLowerCase():"#document"}function qn(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Zr(r){var e;return(e=(uE(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function uE(r){return dh()?r instanceof Node||r instanceof qn(r).Node:!1}function An(r){return dh()?r instanceof Element||r instanceof qn(r).Element:!1}function Xr(r){return dh()?r instanceof HTMLElement||r instanceof qn(r).HTMLElement:!1}function Bb(r){return!dh()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof qn(r).ShadowRoot}function lc(r){const{overflow:e,overflowX:t,overflowY:n,display:a}=ur(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(a)}function gx(r){return["table","td","th"].includes(pl(r))}function fh(r){return[":popover-open",":modal"].some(e=>{try{return r.matches(e)}catch{return!1}})}function sy(r){const e=oy(),t=An(r)?ur(r):r;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function yx(r){let e=Na(r);for(;Xr(e)&&!tl(e);){if(sy(e))return e;if(fh(e))return null;e=Na(e)}return null}function oy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tl(r){return["html","body","#document"].includes(pl(r))}function ur(r){return qn(r).getComputedStyle(r)}function hh(r){return An(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function Na(r){if(pl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||Bb(r)&&r.host||Zr(r);return Bb(e)?e.host:e}function cE(r){const e=Na(r);return tl(e)?r.ownerDocument?r.ownerDocument.body:r.body:Xr(e)&&lc(e)?e:cE(e)}function $u(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const a=cE(r),o=a===((n=r.ownerDocument)==null?void 0:n.body),c=qn(a);if(o){const f=wg(c);return e.concat(c,c.visualViewport||[],lc(a)?a:[],f&&t?$u(f):[])}return e.concat(a,$u(a,[],t))}function wg(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}const nl=Math.min,Is=Math.max,Lf=Math.round,Zd=Math.floor,qr=r=>({x:r,y:r}),vx={left:"right",right:"left",bottom:"top",top:"bottom"},_x={start:"end",end:"start"};function bx(r,e,t){return Is(r,nl(e,t))}function ph(r,e){return typeof r=="function"?r(e):r}function rl(r){return r.split("-")[0]}function uc(r){return r.split("-")[1]}function wx(r){return r==="x"?"y":"x"}function ly(r){return r==="y"?"height":"width"}function qo(r){return["top","bottom"].includes(rl(r))?"y":"x"}function uy(r){return wx(qo(r))}function Tx(r,e,t){t===void 0&&(t=!1);const n=uc(r),a=uy(r),o=ly(a);let c=a==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Vf(c)),[c,Vf(c)]}function Ex(r){const e=Vf(r);return[Tg(r),e,Tg(e)]}function Tg(r){return r.replace(/start|end/g,e=>_x[e])}function Sx(r,e,t){const n=["left","right"],a=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(r){case"top":case"bottom":return t?e?a:n:e?n:a;case"left":case"right":return e?o:c;default:return[]}}function Dx(r,e,t,n){const a=uc(r);let o=Sx(rl(r),t==="start",n);return a&&(o=o.map(c=>c+"-"+a),e&&(o=o.concat(o.map(Tg)))),o}function Vf(r){return r.replace(/left|right|bottom|top/g,e=>vx[e])}function Ax(r){return{top:0,right:0,bottom:0,left:0,...r}}function dE(r){return typeof r!="number"?Ax(r):{top:r,right:r,bottom:r,left:r}}function Uf(r){const{x:e,y:t,width:n,height:a}=r;return{width:n,height:a,top:t,left:e,right:e+n,bottom:t+a,x:e,y:t}}var jf=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;const Cx={...YT},Rx=Cx.useInsertionEffect,xx=Rx||(r=>r());function kx(r){const e=Q.useRef(()=>{});return xx(()=>{e.current=r}),Q.useCallback(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}var fE=qT();const Ix=FT(fE);function zb(r,e,t){let{reference:n,floating:a}=r;const o=qo(e),c=uy(e),f=ly(c),p=rl(e),g=o==="y",y=n.x+n.width/2-a.width/2,_=n.y+n.height/2-a.height/2,T=n[f]/2-a[f]/2;let A;switch(p){case"top":A={x:y,y:n.y-a.height};break;case"bottom":A={x:y,y:n.y+n.height};break;case"right":A={x:n.x+n.width,y:_};break;case"left":A={x:n.x-a.width,y:_};break;default:A={x:n.x,y:n.y}}switch(uc(e)){case"start":A[c]-=T*(t&&g?-1:1);break;case"end":A[c]+=T*(t&&g?-1:1);break}return A}const Nx=async(r,e,t)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:c}=t,f=o.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(e));let g=await c.getElementRects({reference:r,floating:e,strategy:a}),{x:y,y:_}=zb(g,n,p),T=n,A={},C=0;for(let V=0;V<f.length;V++){const{name:x,fn:z}=f[V],{x:$,y:Y,data:oe,reset:le}=await z({x:y,y:_,initialPlacement:n,placement:T,strategy:a,middlewareData:A,rects:g,platform:c,elements:{reference:r,floating:e}});y=$??y,_=Y??_,A={...A,[x]:{...A[x],...oe}},le&&C<=50&&(C++,typeof le=="object"&&(le.placement&&(T=le.placement),le.rects&&(g=le.rects===!0?await c.getElementRects({reference:r,floating:e,strategy:a}):le.rects),{x:y,y:_}=zb(g,T,p)),V=-1)}return{x:y,y:_,placement:T,strategy:a,middlewareData:A}};async function Mx(r,e){var t;e===void 0&&(e={});const{x:n,y:a,platform:o,rects:c,elements:f,strategy:p}=r,{boundary:g="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:T=!1,padding:A=0}=ph(e,r),C=dE(A),x=f[T?_==="floating"?"reference":"floating":_],z=Uf(await o.getClippingRect({element:(t=await(o.isElement==null?void 0:o.isElement(x)))==null||t?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(f.floating)),boundary:g,rootBoundary:y,strategy:p})),$=_==="floating"?{x:n,y:a,width:c.floating.width,height:c.floating.height}:c.reference,Y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f.floating)),oe=await(o.isElement==null?void 0:o.isElement(Y))?await(o.getScale==null?void 0:o.getScale(Y))||{x:1,y:1}:{x:1,y:1},le=Uf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:$,offsetParent:Y,strategy:p}):$);return{top:(z.top-le.top+C.top)/oe.y,bottom:(le.bottom-z.bottom+C.bottom)/oe.y,left:(z.left-le.left+C.left)/oe.x,right:(le.right-z.right+C.right)/oe.x}}const Ox=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:a,rects:o,platform:c,elements:f,middlewareData:p}=e,{element:g,padding:y=0}=ph(r,e)||{};if(g==null)return{};const _=dE(y),T={x:t,y:n},A=uy(a),C=ly(A),V=await c.getDimensions(g),x=A==="y",z=x?"top":"left",$=x?"bottom":"right",Y=x?"clientHeight":"clientWidth",oe=o.reference[C]+o.reference[A]-T[A]-o.floating[C],le=T[A]-o.reference[A],he=await(c.getOffsetParent==null?void 0:c.getOffsetParent(g));let N=he?he[Y]:0;(!N||!await(c.isElement==null?void 0:c.isElement(he)))&&(N=f.floating[Y]||o.floating[C]);const D=oe/2-le/2,R=N/2-V[C]/2-1,M=nl(_[z],R),P=nl(_[$],R),U=M,k=N-V[C]-P,Me=N/2-V[C]/2+D,Te=bx(U,Me,k),H=!p.arrow&&uc(a)!=null&&Me!==Te&&o.reference[C]/2-(Me<U?M:P)-V[C]/2<0,ne=H?Me<U?Me-U:Me-k:0;return{[A]:T[A]+ne,data:{[A]:Te,centerOffset:Me-Te-ne,...H&&{alignmentOffset:ne}},reset:H}}}),Px=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:a,middlewareData:o,rects:c,initialPlacement:f,platform:p,elements:g}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:T,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:V=!0,...x}=ph(r,e);if((t=o.arrow)!=null&&t.alignmentOffset)return{};const z=rl(a),$=qo(f),Y=rl(f)===f,oe=await(p.isRTL==null?void 0:p.isRTL(g.floating)),le=T||(Y||!V?[Vf(f)]:Ex(f)),he=C!=="none";!T&&he&&le.push(...Dx(f,V,C,oe));const N=[f,...le],D=await Mx(e,x),R=[];let M=((n=o.flip)==null?void 0:n.overflows)||[];if(y&&R.push(D[z]),_){const Te=Tx(a,c,oe);R.push(D[Te[0]],D[Te[1]])}if(M=[...M,{placement:a,overflows:R}],!R.every(Te=>Te<=0)){var P,U;const Te=(((P=o.flip)==null?void 0:P.index)||0)+1,H=N[Te];if(H){var k;const ue=_==="alignment"?$!==qo(H):!1,Se=((k=M[0])==null?void 0:k.overflows[0])>0;if(!ue||Se)return{data:{index:Te,overflows:M},reset:{placement:H}}}let ne=(U=M.filter(ue=>ue.overflows[0]<=0).sort((ue,Se)=>ue.overflows[1]-Se.overflows[1])[0])==null?void 0:U.placement;if(!ne)switch(A){case"bestFit":{var Me;const ue=(Me=M.filter(Se=>{if(he){const L=qo(Se.placement);return L===$||L==="y"}return!0}).map(Se=>[Se.placement,Se.overflows.filter(L=>L>0).reduce((L,ee)=>L+ee,0)]).sort((Se,L)=>Se[1]-L[1])[0])==null?void 0:Me[0];ue&&(ne=ue);break}case"initialPlacement":ne=f;break}if(a!==ne)return{reset:{placement:ne}}}return{}}}};async function Lx(r,e){const{placement:t,platform:n,elements:a}=r,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),c=rl(t),f=uc(t),p=qo(t)==="y",g=["left","top"].includes(c)?-1:1,y=o&&p?-1:1,_=ph(e,r);let{mainAxis:T,crossAxis:A,alignmentAxis:C}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return f&&typeof C=="number"&&(A=f==="end"?C*-1:C),p?{x:A*y,y:T*g}:{x:T*g,y:A*y}}const Vx=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:a,y:o,placement:c,middlewareData:f}=e,p=await Lx(e,r);return c===((t=f.offset)==null?void 0:t.placement)&&(n=f.arrow)!=null&&n.alignmentOffset?{}:{x:a+p.x,y:o+p.y,data:{...p,placement:c}}}}};function hE(r){const e=ur(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Xr(r),o=a?r.offsetWidth:t,c=a?r.offsetHeight:n,f=Lf(t)!==o||Lf(n)!==c;return f&&(t=o,n=c),{width:t,height:n,$:f}}function cy(r){return An(r)?r:r.contextElement}function Go(r){const e=cy(r);if(!Xr(e))return qr(1);const t=e.getBoundingClientRect(),{width:n,height:a,$:o}=hE(e);let c=(o?Lf(t.width):t.width)/n,f=(o?Lf(t.height):t.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const Ux=qr(0);function pE(r){const e=qn(r);return!oy()||!e.visualViewport?Ux:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jx(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==qn(r)?!1:e}function Ls(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const a=r.getBoundingClientRect(),o=cy(r);let c=qr(1);e&&(n?An(n)&&(c=Go(n)):c=Go(r));const f=jx(o,t,n)?pE(o):qr(0);let p=(a.left+f.x)/c.x,g=(a.top+f.y)/c.y,y=a.width/c.x,_=a.height/c.y;if(o){const T=qn(o),A=n&&An(n)?qn(n):n;let C=T,V=wg(C);for(;V&&n&&A!==C;){const x=Go(V),z=V.getBoundingClientRect(),$=ur(V),Y=z.left+(V.clientLeft+parseFloat($.paddingLeft))*x.x,oe=z.top+(V.clientTop+parseFloat($.paddingTop))*x.y;p*=x.x,g*=x.y,y*=x.x,_*=x.y,p+=Y,g+=oe,C=qn(V),V=wg(C)}}return Uf({width:y,height:_,x:p,y:g})}function dy(r,e){const t=hh(r).scrollLeft;return e?e.left+t:Ls(Zr(r)).left+t}function mE(r,e,t){t===void 0&&(t=!1);const n=r.getBoundingClientRect(),a=n.left+e.scrollLeft-(t?0:dy(r,n)),o=n.top+e.scrollTop;return{x:a,y:o}}function Bx(r){let{elements:e,rect:t,offsetParent:n,strategy:a}=r;const o=a==="fixed",c=Zr(n),f=e?fh(e.floating):!1;if(n===c||f&&o)return t;let p={scrollLeft:0,scrollTop:0},g=qr(1);const y=qr(0),_=Xr(n);if((_||!_&&!o)&&((pl(n)!=="body"||lc(c))&&(p=hh(n)),Xr(n))){const A=Ls(n);g=Go(n),y.x=A.x+n.clientLeft,y.y=A.y+n.clientTop}const T=c&&!_&&!o?mE(c,p,!0):qr(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-p.scrollLeft*g.x+y.x+T.x,y:t.y*g.y-p.scrollTop*g.y+y.y+T.y}}function zx(r){return Array.from(r.getClientRects())}function Hx(r){const e=Zr(r),t=hh(r),n=r.ownerDocument.body,a=Is(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Is(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-t.scrollLeft+dy(r);const f=-t.scrollTop;return ur(n).direction==="rtl"&&(c+=Is(e.clientWidth,n.clientWidth)-a),{width:a,height:o,x:c,y:f}}function Fx(r,e){const t=qn(r),n=Zr(r),a=t.visualViewport;let o=n.clientWidth,c=n.clientHeight,f=0,p=0;if(a){o=a.width,c=a.height;const g=oy();(!g||g&&e==="fixed")&&(f=a.offsetLeft,p=a.offsetTop)}return{width:o,height:c,x:f,y:p}}function Yx(r,e){const t=Ls(r,!0,e==="fixed"),n=t.top+r.clientTop,a=t.left+r.clientLeft,o=Xr(r)?Go(r):qr(1),c=r.clientWidth*o.x,f=r.clientHeight*o.y,p=a*o.x,g=n*o.y;return{width:c,height:f,x:p,y:g}}function Hb(r,e,t){let n;if(e==="viewport")n=Fx(r,t);else if(e==="document")n=Hx(Zr(r));else if(An(e))n=Yx(e,t);else{const a=pE(r);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Uf(n)}function gE(r,e){const t=Na(r);return t===e||!An(t)||tl(t)?!1:ur(t).position==="fixed"||gE(t,e)}function qx(r,e){const t=e.get(r);if(t)return t;let n=$u(r,[],!1).filter(f=>An(f)&&pl(f)!=="body"),a=null;const o=ur(r).position==="fixed";let c=o?Na(r):r;for(;An(c)&&!tl(c);){const f=ur(c),p=sy(c);!p&&f.position==="fixed"&&(a=null),(o?!p&&!a:!p&&f.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||lc(c)&&!p&&gE(r,c))?n=n.filter(y=>y!==c):a=f,c=Na(c)}return e.set(r,n),n}function Gx(r){let{element:e,boundary:t,rootBoundary:n,strategy:a}=r;const c=[...t==="clippingAncestors"?fh(e)?[]:qx(e,this._c):[].concat(t),n],f=c[0],p=c.reduce((g,y)=>{const _=Hb(e,y,a);return g.top=Is(_.top,g.top),g.right=nl(_.right,g.right),g.bottom=nl(_.bottom,g.bottom),g.left=Is(_.left,g.left),g},Hb(e,f,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Qx(r){const{width:e,height:t}=hE(r);return{width:e,height:t}}function Kx(r,e,t){const n=Xr(e),a=Zr(e),o=t==="fixed",c=Ls(r,!0,o,e);let f={scrollLeft:0,scrollTop:0};const p=qr(0);function g(){p.x=dy(a)}if(n||!n&&!o)if((pl(e)!=="body"||lc(a))&&(f=hh(e)),n){const A=Ls(e,!0,o,e);p.x=A.x+e.clientLeft,p.y=A.y+e.clientTop}else a&&g();o&&!n&&a&&g();const y=a&&!n&&!o?mE(a,f):qr(0),_=c.left+f.scrollLeft-p.x-y.x,T=c.top+f.scrollTop-p.y-y.y;return{x:_,y:T,width:c.width,height:c.height}}function Xm(r){return ur(r).position==="static"}function Fb(r,e){if(!Xr(r)||ur(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Zr(r)===t&&(t=t.ownerDocument.body),t}function yE(r,e){const t=qn(r);if(fh(r))return t;if(!Xr(r)){let a=Na(r);for(;a&&!tl(a);){if(An(a)&&!Xm(a))return a;a=Na(a)}return t}let n=Fb(r,e);for(;n&&gx(n)&&Xm(n);)n=Fb(n,e);return n&&tl(n)&&Xm(n)&&!sy(n)?t:n||yx(r)||t}const Wx=async function(r){const e=this.getOffsetParent||yE,t=this.getDimensions,n=await t(r.floating);return{reference:Kx(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Xx(r){return ur(r).direction==="rtl"}const $x={convertOffsetParentRelativeRectToViewportRelativeRect:Bx,getDocumentElement:Zr,getClippingRect:Gx,getOffsetParent:yE,getElementRects:Wx,getClientRects:zx,getDimensions:Qx,getScale:Go,isElement:An,isRTL:Xx};function vE(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function Zx(r,e){let t=null,n;const a=Zr(r);function o(){var f;clearTimeout(n),(f=t)==null||f.disconnect(),t=null}function c(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),o();const g=r.getBoundingClientRect(),{left:y,top:_,width:T,height:A}=g;if(f||e(),!T||!A)return;const C=Zd(_),V=Zd(a.clientWidth-(y+T)),x=Zd(a.clientHeight-(_+A)),z=Zd(y),Y={rootMargin:-C+"px "+-V+"px "+-x+"px "+-z+"px",threshold:Is(0,nl(1,p))||1};let oe=!0;function le(he){const N=he[0].intersectionRatio;if(N!==p){if(!oe)return c();N?c(!1,N):n=setTimeout(()=>{c(!1,1e-7)},1e3)}N===1&&!vE(g,r.getBoundingClientRect())&&c(),oe=!1}try{t=new IntersectionObserver(le,{...Y,root:a.ownerDocument})}catch{t=new IntersectionObserver(le,Y)}t.observe(r)}return c(!0),o}function Jx(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,g=cy(r),y=a||o?[...g?$u(g):[],...$u(e)]:[];y.forEach(z=>{a&&z.addEventListener("scroll",t,{passive:!0}),o&&z.addEventListener("resize",t)});const _=g&&f?Zx(g,t):null;let T=-1,A=null;c&&(A=new ResizeObserver(z=>{let[$]=z;$&&$.target===g&&A&&(A.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var Y;(Y=A)==null||Y.observe(e)})),t()}),g&&!p&&A.observe(g),A.observe(e));let C,V=p?Ls(r):null;p&&x();function x(){const z=Ls(r);V&&!vE(V,z)&&t(),V=z,C=requestAnimationFrame(x)}return t(),()=>{var z;y.forEach($=>{a&&$.removeEventListener("scroll",t),o&&$.removeEventListener("resize",t)}),_==null||_(),(z=A)==null||z.disconnect(),A=null,p&&cancelAnimationFrame(C)}}const e2=Vx,t2=Px,Yb=Ox,n2=(r,e,t)=>{const n=new Map,a={platform:$x,...t},o={...a.platform,_c:n};return Nx(r,e,{...a,platform:o})};var gf=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function Bf(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,a;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Bf(r[n],e[n]))return!1;return!0}if(a=Object.keys(r),t=a.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=t;n--!==0;){const o=a[n];if(!(o==="_owner"&&r.$$typeof)&&!Bf(r[o],e[o]))return!1}return!0}return r!==r&&e!==e}function _E(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function qb(r,e){const t=_E(r);return Math.round(e*t)/t}function $m(r){const e=Q.useRef(r);return gf(()=>{e.current=r}),e}function r2(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:c}={},transform:f=!0,whileElementsMounted:p,open:g}=r,[y,_]=Q.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[T,A]=Q.useState(n);Bf(T,n)||A(n);const[C,V]=Q.useState(null),[x,z]=Q.useState(null),$=Q.useCallback(ue=>{ue!==he.current&&(he.current=ue,V(ue))},[]),Y=Q.useCallback(ue=>{ue!==N.current&&(N.current=ue,z(ue))},[]),oe=o||C,le=c||x,he=Q.useRef(null),N=Q.useRef(null),D=Q.useRef(y),R=p!=null,M=$m(p),P=$m(a),U=$m(g),k=Q.useCallback(()=>{if(!he.current||!N.current)return;const ue={placement:e,strategy:t,middleware:T};P.current&&(ue.platform=P.current),n2(he.current,N.current,ue).then(Se=>{const L={...Se,isPositioned:U.current!==!1};Me.current&&!Bf(D.current,L)&&(D.current=L,fE.flushSync(()=>{_(L)}))})},[T,e,t,P,U]);gf(()=>{g===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,_(ue=>({...ue,isPositioned:!1})))},[g]);const Me=Q.useRef(!1);gf(()=>(Me.current=!0,()=>{Me.current=!1}),[]),gf(()=>{if(oe&&(he.current=oe),le&&(N.current=le),oe&&le){if(M.current)return M.current(oe,le,k);k()}},[oe,le,k,M,R]);const Te=Q.useMemo(()=>({reference:he,floating:N,setReference:$,setFloating:Y}),[$,Y]),H=Q.useMemo(()=>({reference:oe,floating:le}),[oe,le]),ne=Q.useMemo(()=>{const ue={position:t,left:0,top:0};if(!H.floating)return ue;const Se=qb(H.floating,y.x),L=qb(H.floating,y.y);return f?{...ue,transform:"translate("+Se+"px, "+L+"px)",..._E(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Se,top:L}},[t,f,H.floating,y.x,y.y]);return Q.useMemo(()=>({...y,update:k,refs:Te,elements:H,floatingStyles:ne}),[y,k,Te,H,ne])}const i2=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:a}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?Yb({element:n.current,padding:a}).fn(t):{}:n?Yb({element:n,padding:a}).fn(t):{}}}},a2=(r,e)=>({...e2(r),options:[r,e]}),s2=(r,e)=>({...t2(r),options:[r,e]}),o2=(r,e)=>({...i2(r),options:[r,e]}),l2={...YT};let Gb=!1,u2=0;const Qb=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+u2++;function c2(){const[r,e]=Q.useState(()=>Gb?Qb():void 0);return jf(()=>{r==null&&e(Qb())},[]),Q.useEffect(()=>{Gb=!0},[]),r}const d2=l2.useId,bE=d2||c2,f2=Q.forwardRef(function(e,t){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:o,shift:c}},width:f=14,height:p=7,tipRadius:g=0,strokeWidth:y=0,staticOffset:_,stroke:T,d:A,style:{transform:C,...V}={},...x}=e,z=bE(),[$,Y]=Q.useState(!1);if(jf(()=>{if(!a)return;ur(a).direction==="rtl"&&Y(!0)},[a]),!a)return null;const[oe,le]=n.split("-"),he=oe==="top"||oe==="bottom";let N=_;(he&&c!=null&&c.x||!he&&c!=null&&c.y)&&(N=null);const D=y*2,R=D/2,M=f/2*(g/-8+1),P=p/2*g/4,U=!!A,k=N&&le==="end"?"bottom":"top";let Me=N&&le==="end"?"right":"left";N&&$&&(Me=le==="end"?"left":"right");const Te=(o==null?void 0:o.x)!=null?N||o.x:"",H=(o==null?void 0:o.y)!=null?N||o.y:"",ne=A||"M0,0"+(" H"+f)+(" L"+(f-M)+","+(p-P))+(" Q"+f/2+","+p+" "+M+","+(p-P))+" Z",ue={top:U?"rotate(180deg)":"",left:U?"rotate(90deg)":"rotate(-90deg)",bottom:U?"":"rotate(180deg)",right:U?"rotate(-90deg)":"rotate(90deg)"}[oe];return I.jsxs("svg",{...x,"aria-hidden":!0,ref:t,width:U?f:f+D,height:f,viewBox:"0 0 "+f+" "+(p>f?p:f),style:{position:"absolute",pointerEvents:"none",[Me]:Te,[k]:H,[oe]:he||U?"100%":"calc(100% - "+D/2+"px)",transform:[ue,C].filter(Se=>!!Se).join(" "),...V},children:[D>0&&I.jsx("path",{clipPath:"url(#"+z+")",fill:"none",stroke:T,strokeWidth:D+(A?0:1),d:ne}),I.jsx("path",{stroke:D&&!A?x.fill:"none",d:ne}),I.jsx("clipPath",{id:z,children:I.jsx("rect",{x:-R,y:R*(U?-1:1),width:f+D,height:f})})]})});function h2(){const r=new Map;return{emit(e,t){var n;(n=r.get(e))==null||n.forEach(a=>a(t))},on(e,t){r.has(e)||r.set(e,new Set),r.get(e).add(t)},off(e,t){var n;(n=r.get(e))==null||n.delete(t)}}}const p2=Q.createContext(null),m2=Q.createContext(null),g2=()=>{var r;return((r=Q.useContext(p2))==null?void 0:r.id)||null},y2=()=>Q.useContext(m2);function v2(r){const{open:e=!1,onOpenChange:t,elements:n}=r,a=bE(),o=Q.useRef({}),[c]=Q.useState(()=>h2()),f=g2()!=null,[p,g]=Q.useState(n.reference),y=kx((A,C,V)=>{o.current.openEvent=A?C:void 0,c.emit("openchange",{open:A,event:C,reason:V,nested:f}),t==null||t(A,C,V)}),_=Q.useMemo(()=>({setPositionReference:g}),[]),T=Q.useMemo(()=>({reference:p||n.reference||null,floating:n.floating||null,domReference:n.reference}),[p,n.reference,n.floating]);return Q.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:T,events:c,floatingId:a,refs:_}),[e,y,T,c,a,_])}function _2(r){r===void 0&&(r={});const{nodeId:e}=r,t=v2({...r,elements:{reference:null,floating:null,...r.elements}}),n=r.rootContext||t,a=n.elements,[o,c]=Q.useState(null),[f,p]=Q.useState(null),y=(a==null?void 0:a.domReference)||o,_=Q.useRef(null),T=y2();jf(()=>{y&&(_.current=y)},[y]);const A=r2({...r,elements:{...a,...f&&{reference:f}}}),C=Q.useCallback(Y=>{const oe=An(Y)?{getBoundingClientRect:()=>Y.getBoundingClientRect(),getClientRects:()=>Y.getClientRects(),contextElement:Y}:Y;p(oe),A.refs.setReference(oe)},[A.refs]),V=Q.useCallback(Y=>{(An(Y)||Y===null)&&(_.current=Y,c(Y)),(An(A.refs.reference.current)||A.refs.reference.current===null||Y!==null&&!An(Y))&&A.refs.setReference(Y)},[A.refs]),x=Q.useMemo(()=>({...A.refs,setReference:V,setPositionReference:C,domReference:_}),[A.refs,V,C]),z=Q.useMemo(()=>({...A.elements,domReference:y}),[A.elements,y]),$=Q.useMemo(()=>({...A,...n,refs:x,elements:z,nodeId:e}),[A,x,z,e,n]);return jf(()=>{n.dataRef.current.floatingContext=$;const Y=T==null?void 0:T.nodesRef.current.find(oe=>oe.id===e);Y&&(Y.context=$)}),Q.useMemo(()=>({...A,context:$,refs:x,elements:z}),[A,x,z,$])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Eg=function(e,t){return Eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},Eg(e,t)};function nn(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Eg(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var $e=function(){return $e=Object.assign||function(t){for(var n,a=1,o=arguments.length;a<o;a++){n=arguments[a];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t},$e.apply(this,arguments)};function Yr(r,e,t){if(t||arguments.length===2)for(var n=0,a=e.length,o;n<a;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))}var b2=function(r){var e=r.showTimeSelectOnly,t=e===void 0?!1:e,n=r.showTime,a=n===void 0?!1:n,o=r.className,c=r.children,f=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return Z.createElement("div",{className:o,role:"dialog","aria-label":f,"aria-modal":"true"},c)},w2=function(r,e){var t=Q.useRef(null),n=Q.useRef(r);n.current=r;var a=Q.useCallback(function(o){var c,f=o.composed&&o.composedPath&&o.composedPath().find(function(p){return p instanceof Node})||o.target;t.current&&!t.current.contains(f)&&(e&&f instanceof HTMLElement&&f.classList.contains(e)||(c=n.current)===null||c===void 0||c.call(n,o))},[e]);return Q.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},mh=function(r){var e=r.children,t=r.onClickOutside,n=r.className,a=r.containerRef,o=r.style,c=r.ignoreClass,f=w2(t,c);return Z.createElement("div",{className:n,style:o,ref:function(p){f.current=p,a&&(a.current=p)}},e)},me;(function(r){r.ArrowUp="ArrowUp",r.ArrowDown="ArrowDown",r.ArrowLeft="ArrowLeft",r.ArrowRight="ArrowRight",r.PageUp="PageUp",r.PageDown="PageDown",r.Home="Home",r.End="End",r.Enter="Enter",r.Space=" ",r.Tab="Tab",r.Escape="Escape",r.Backspace="Backspace",r.X="x"})(me||(me={}));function wE(){var r=typeof window<"u"?window:globalThis;return r}var cc=12;function nt(r){if(r==null)return new Date;var e=typeof r=="string"?ex(r):we(r);return gh(e)?e:new Date}function Zm(r,e,t,n,a){a===void 0&&(a=nt());for(var o=il(t)||il(fy()),c=Array.isArray(e)?e:[e],f=0,p=c;f<p.length;f++){var g=p[f],y=KR(r,g,a,{locale:o});if(gh(y)&&(!n||r===bt(y,g,t)))return y}return null}function gh(r,e){return If(r)&&!Ps(r,new Date("1/1/1800"))}function bt(r,e,t){if(t==="en")return Vb(r,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?il(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||il(fy()),Vb(r,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function sr(r,e){var t=e.dateFormat,n=e.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return r&&bt(r,a,n)||""}var TE=" - ";function T2(r,e,t){if(!r)return"";var n=sr(r,t),a=e?sr(e,t):"";return"".concat(n).concat(TE).concat(a)}function E2(r,e){if(!(r!=null&&r.length))return"";var t=r[0]?sr(r[0],e):"";if(r.length===1)return t;if(r.length===2&&r[1]){var n=sr(r[1],e);return"".concat(t,", ").concat(n)}var a=r.length-1;return"".concat(t," (+").concat(a,")")}function Jm(r,e){var t=e.hour,n=t===void 0?0:t,a=e.minute,o=a===void 0?0:a,c=e.second,f=c===void 0?0:c;return hf(pf(mf(r,f),o),n)}function S2(r){return ny(r)}function D2(r,e){return bt(r,"ddd",e)}function yf(r){return Os(r)}function Ea(r,e,t){var n=il(e||fy());return Ni(r,{locale:n,weekStartsOn:t})}function ki(r){return ZT(r)}function Uu(r){return ch(r)}function Kb(r){return vg(r)}function Wb(){return Os(nt())}function Xb(r){return XT(r)}function A2(r){return eC(r)}function C2(r){return $T(r)}function Br(r,e){return r&&e?ZR(r,e):!r&&!e}function Dn(r,e){return r&&e?XR(r,e):!r&&!e}function zf(r,e){return r&&e?$R(r,e):!r&&!e}function Xe(r,e){return r&&e?ZA(r,e):!r&&!e}function Cs(r,e){return r&&e?JC(r,e):!r&&!e}function ju(r,e,t){var n,a=Os(e),o=XT(t);try{n=Xu(r,{start:a,end:o})}catch{n=!1}return n}function fy(){var r=wE();return r.__localeId__}function il(r){if(typeof r=="string"){var e=wE();return e.__localeData__?e.__localeData__[r]:void 0}else return r}function R2(r,e,t){return e(bt(r,"EEEE",t))}function x2(r,e){return bt(r,"EEEEEE",e)}function k2(r,e){return bt(r,"EEE",e)}function hy(r,e){return bt(or(nt(),r),"LLLL",e)}function EE(r,e){return bt(or(nt(),r),"LLL",e)}function I2(r,e){return bt(jo(nt(),r),"QQQ",e)}function lr(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.excludeDateIntervals,f=t.includeDates,p=t.includeDateIntervals,g=t.filterDate;return dc(r,{minDate:n,maxDate:a})||o&&o.some(function(y){return y instanceof Date?Xe(r,y):Xe(r,y.date)})||c&&c.some(function(y){var _=y.start,T=y.end;return Xu(r,{start:_,end:T})})||f&&!f.some(function(y){return Xe(r,y)})||p&&!p.some(function(y){var _=y.start,T=y.end;return Xu(r,{start:_,end:T})})||g&&!g(nt(r))||!1}function py(r,e){var t=e===void 0?{}:e,n=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(o){var c=o.start,f=o.end;return Xu(r,{start:c,end:f})}):n&&n.some(function(o){var c;return o instanceof Date?Xe(r,o):Xe(r,(c=o.date)!==null&&c!==void 0?c:new Date)})||!1}function SE(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.includeDates,f=t.filterDate;return dc(r,{minDate:n?ZT(n):void 0,maxDate:a?$T(a):void 0})||(o==null?void 0:o.some(function(p){return Dn(r,p instanceof Date?p:p.date)}))||c&&!c.some(function(p){return Dn(r,p)})||f&&!f(nt(r))||!1}function Jd(r,e,t,n){var a=je(r),o=_n(r),c=je(e),f=_n(e),p=je(n);return a===c&&a===p?o<=t&&t<=f:a<c?p===a&&o<=t||p===c&&f>=t||p<c&&p>a:!1}function N2(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.includeDates;return dc(r,{minDate:n,maxDate:a})||o&&o.some(function(f){return Dn(f instanceof Date?f:f.date,r)})||c&&!c.some(function(f){return Dn(f,r)})||!1}function ef(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.includeDates,f=t.filterDate;return dc(r,{minDate:n,maxDate:a})||(o==null?void 0:o.some(function(p){return zf(r,p instanceof Date?p:p.date)}))||c&&!c.some(function(p){return zf(r,p)})||f&&!f(nt(r))||!1}function tf(r,e,t){if(!e||!t||!If(e)||!If(t))return!1;var n=je(e),a=je(t);return n<=r&&a>=r}function vf(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.maxDate,o=t.excludeDates,c=t.includeDates,f=t.filterDate,p=new Date(r,0,1);return dc(p,{minDate:n?ch(n):void 0,maxDate:a?JT(a):void 0})||(o==null?void 0:o.some(function(g){return Br(p,g instanceof Date?g:g.date)}))||c&&!c.some(function(g){return Br(p,g)})||f&&!f(nt(p))||!1}function nf(r,e,t,n){var a=je(r),o=xs(r),c=je(e),f=xs(e),p=je(n);return a===c&&a===p?o<=t&&t<=f:a<c?p===a&&o<=t||p===c&&f>=t||p<c&&p>a:!1}function dc(r,e){var t,n=e===void 0?{}:e,a=n.minDate,o=n.maxDate;return(t=a&&Jo(r,a)<0||o&&Jo(r,o)>0)!==null&&t!==void 0?t:!1}function $b(r,e){return e.some(function(t){return Ri(t)===Ri(r)&&xi(t)===xi(r)&&Ta(t)===Ta(r)})}function Zb(r,e){var t=e===void 0?{}:e,n=t.excludeTimes,a=t.includeTimes,o=t.filterTime;return n&&$b(r,n)||a&&!$b(r,a)||o&&!o(r)||!1}function Jb(r,e){var t=e.minTime,n=e.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var a=nt();a=hf(a,Ri(r)),a=pf(a,xi(r)),a=mf(a,Ta(r));var o=nt();o=hf(o,Ri(t)),o=pf(o,xi(t)),o=mf(o,Ta(t));var c=nt();c=hf(c,Ri(n)),c=pf(c,xi(n)),c=mf(c,Ta(n));var f;try{f=!Xu(a,{start:o,end:c})}catch{f=!1}return f}function ew(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=ks(r,1);return n&&Nf(n,o)>0||a&&a.every(function(c){return Nf(c,o)>0})||!1}function tw(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=_r(r,1);return n&&Nf(o,n)>0||a&&a.every(function(c){return Nf(o,c)>0})||!1}function M2(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=ch(r),c=lE(o);return n&&Mf(n,c)>0||a&&a.every(function(f){return Mf(f,c)>0})||!1}function O2(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=JT(r),c=ty(o,1);return n&&Mf(c,n)>0||a&&a.every(function(f){return Mf(c,f)>0})||!1}function nw(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.includeDates,o=el(r,1);return n&&Of(n,o)>0||a&&a.every(function(c){return Of(c,o)>0})||!1}function P2(r,e){var t=e===void 0?{}:e,n=t.minDate,a=t.yearItemNumber,o=a===void 0?cc:a,c=Uu(el(r,o)),f=ba(c,o).endPeriod,p=n&&je(n);return p&&p>f||!1}function rw(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.includeDates,o=Ai(r,1);return n&&Of(o,n)>0||a&&a.every(function(c){return Of(o,c)>0})||!1}function L2(r,e){var t=e===void 0?{}:e,n=t.maxDate,a=t.yearItemNumber,o=a===void 0?cc:a,c=Ai(r,o),f=ba(c,o).startPeriod,p=n&&je(n);return p&&p<f||!1}function DE(r){var e=r.minDate,t=r.includeDates;if(t&&e){var n=t.filter(function(a){return Jo(a,e)>=0});return Ib(n)}else return t?Ib(t):e}function AE(r){var e=r.maxDate,t=r.includeDates;if(t&&e){var n=t.filter(function(a){return Jo(a,e)<=0});return kb(n)}else return t?kb(t):e}function iw(r,e){var t;r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,a=0,o=r.length;a<o;a++){var c=r[a];if(Ci(c)){var f=bt(c,"MM.dd.yyyy"),p=n.get(f)||[];p.includes(e)||(p.push(e),n.set(f,p))}else if(typeof c=="object"){var g=Object.keys(c),y=(t=g[0])!==null&&t!==void 0?t:"",_=c[y];if(typeof y=="string"&&Array.isArray(_))for(var T=0,A=_.length;T<A;T++){var C=_[T];if(C){var f=bt(C,"MM.dd.yyyy"),p=n.get(f)||[];p.includes(y)||(p.push(y),n.set(f,p))}}}}return n}function V2(r,e){return r.length!==e.length?!1:r.every(function(t,n){return t===e[n]})}function U2(r,e){r===void 0&&(r=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return r.forEach(function(n){var a=n.date,o=n.holidayName;if(Ci(a)){var c=bt(a,"MM.dd.yyyy"),f=t.get(c)||{className:"",holidayNames:[]};if(!("className"in f&&f.className===e&&V2(f.holidayNames,[o]))){f.className=e;var p=f.holidayNames;f.holidayNames=p?Yr(Yr([],p,!0),[o],!1):[o],t.set(c,f)}}}),t}function j2(r,e,t,n,a){for(var o=a.length,c=[],f=0;f<o;f++){var p=r,g=a[f];g&&(p=KA(p,Ri(g)),p=yg(p,xi(g)),p=$A(p,Ta(g)));var y=yg(r,(t+1)*n);Ia(p,e)&&Ps(p,y)&&g!=null&&c.push(g)}return c}function aw(r){return r<10?"0".concat(r):"".concat(r)}function ba(r,e){e===void 0&&(e=cc);var t=Math.ceil(je(r)/e)*e,n=t-(e-1);return{startPeriod:n,endPeriod:t}}function B2(r){var e=new Date(r.getFullYear(),r.getMonth(),r.getDate()),t=new Date(r.getFullYear(),r.getMonth(),r.getDate(),24);return Math.round((+t-+e)/36e5)}function sw(r){var e=r.getSeconds(),t=r.getMilliseconds();return we(r.getTime()-e*1e3-t)}function z2(r,e){return sw(r).getTime()===sw(e).getTime()}function ow(r){if(!Ci(r))throw new Error("Invalid date");var e=new Date(r);return e.setHours(0,0,0,0),e}function lw(r,e){if(!Ci(r)||!Ci(e))throw new Error("Invalid date received");var t=ow(r),n=ow(e);return Ps(t,n)}function CE(r){return r.key===me.Space}var H2=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.inputRef=Z.createRef(),n.onTimeChange=function(a){var o,c;n.setState({time:a});var f=n.props.date,p=f instanceof Date&&!isNaN(+f),g=p?f:new Date;if(a!=null&&a.includes(":")){var y=a.split(":"),_=y[0],T=y[1];g.setHours(Number(_)),g.setMinutes(Number(T))}(c=(o=n.props).onChange)===null||c===void 0||c.call(o,g)},n.renderTimeInput=function(){var a=n.state.time,o=n.props,c=o.date,f=o.timeString,p=o.customTimeInput;return p?Q.cloneElement(p,{date:c,value:a,onChange:n.onTimeChange}):Z.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var g;(g=n.inputRef.current)===null||g===void 0||g.focus()},required:!0,value:a,onChange:function(g){n.onTimeChange(g.target.value||f)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},e.prototype.render=function(){return Z.createElement("div",{className:"react-datepicker__input-time-container"},Z.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),Z.createElement("div",{className:"react-datepicker-time__input-container"},Z.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(Q.Component),F2=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dayEl=Q.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var a,o,c=n.key;c===me.Space&&(n.preventDefault(),n.key=me.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},t.isSameDay=function(n){return Xe(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(c){return t.isSameDayOrWeek(c)}):t.isSameDayOrWeek(t.props.selected),o=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!o},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),lr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return py(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Xe(t.props.day,Ea(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Xe(n,Ea(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,a=n.day,o=n.highlightDates;if(!o)return!1;var c=bt(a,"MM.dd.yyyy");return o.get(c)},t.getHolidaysClass=function(){var n,a=t.props,o=a.day,c=a.holidays;if(!c)return[void 0];var f=bt(o,"MM.dd.yyyy");return c.has(f)?[(n=c.get(f))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,a=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:ju(a,o,c)},t.isInSelectingRange=function(){var n,a=t.props,o=a.day,c=a.selectsStart,f=a.selectsEnd,p=a.selectsRange,g=a.selectsDisabledDaysInRange,y=a.startDate,_=a.endDate,T=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(c||f||p)||!T||!g&&t.isDisabled()?!1:c&&_&&(Ps(T,_)||Cs(T,_))?ju(o,T,_):f&&y&&(Ia(T,y)||Cs(T,y))||p&&y&&!_&&(Ia(T,y)||Cs(T,y))?ju(o,y,T):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,c=a.startDate,f=a.selectsStart,p=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return f?Xe(o,p):Xe(o,c)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var a=t.props,o=a.day,c=a.endDate,f=a.selectsEnd,p=a.selectsRange,g=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return f||p?Xe(o,g):Xe(o,c)},t.isRangeStart=function(){var n=t.props,a=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Xe(o,a)},t.isRangeEnd=function(){var n=t.props,a=n.day,o=n.startDate,c=n.endDate;return!o||!c?!1:Xe(c,a)},t.isWeekend=function(){var n=WC(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===_n(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(_n(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(nt())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var a=t.props.dayClassName?t.props.dayClassName(n):void 0;return dn("react-datepicker__day",a,"react-datepicker__day--"+D2(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,a=n.day,o=n.ariaLabelPrefixWhenEnabled,c=o===void 0?"Choose":o,f=n.ariaLabelPrefixWhenDisabled,p=f===void 0?"Not available":f,g=t.isDisabled()||t.isExcluded()?p:c;return"".concat(g," ").concat(bt(a,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,a=n.day,o=n.holidays,c=o===void 0?new Map:o,f=n.excludeDates,p=bt(a,"MM.dd.yyyy"),g=[];return c.has(p)&&g.push.apply(g,c.get(p).holidayNames),t.isExcluded()&&g.push(f==null?void 0:f.filter(function(y){return y instanceof Date?Xe(y,a):Xe(y==null?void 0:y.date,a)}).map(function(y){if(!(y instanceof Date))return y==null?void 0:y.message})),g.join(", ")},t.getTabIndex=function(){var n=t.props.selected,a=t.props.preSelection,o=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Xe(a,n))?0:-1;return o},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(Ub(t.props.day),t.props.day):Ub(t.props.day)},t.render=function(){return Z.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&Z.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,n,a;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(Q.Component),Y2=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.weekNumberEl=Q.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var a,o,c=n.key;c===me.Space&&(n.preventDefault(),n.key=me.Enter),(o=(a=t.props).handleOnKeyDown)===null||o===void 0||o.call(a,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Xe(t.props.date,t.props.selected)&&Xe(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Xe(t.props.date,t.props.selected)&&Xe(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var a=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Xe(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,n=t.weekNumber,a=t.isWeekDisabled,o=t.ariaLabelPrefix,c=o===void 0?e.defaultProps.ariaLabelPrefix:o,f=t.onClick,p={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!f&&!a,"react-datepicker__week-number--selected":!!f&&Xe(this.props.date,this.props.selected)};return Z.createElement("div",{ref:this.weekNumberEl,className:dn(p),"aria-label":"".concat(c," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},e}(Q.Component),q2=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDisabled=function(n){return lr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,a){t.props.onDayClick&&t.props.onDayClick(n,a)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,a,o){for(var c,f,p,g=new Date(n),y=0;y<7;y++){var _=new Date(n);_.setDate(_.getDate()+y);var T=!t.isDisabled(_);if(T){g=_;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(g,a,o),t.props.showWeekPicker&&t.handleDayClick(g,o),((c=t.props.shouldCloseOnSelect)!==null&&c!==void 0?c:e.defaultProps.shouldCloseOnSelect)&&((p=(f=t.props).setOpen)===null||p===void 0||p.call(f,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):S2(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),a=yr(n,6),o=new Date(n);o<=a;){if(!t.isDisabled(o))return!1;o=yr(o,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),a=[],o=t.formatWeekNumber(n);if(t.props.showWeekNumber){var c=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,o):void 0;a.push(Z.createElement(Y2,$e({key:"W"},e.defaultProps,t.props,{weekNumber:o,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:c})))}return a.concat([0,1,2,3,4,5,6].map(function(f){var p=yr(n,f);return Z.createElement(F2,$e({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:p.valueOf(),day:p,onClick:t.handleDayClick.bind(t,p),onMouseEnter:t.handleDayMouseEnter.bind(t,p)}))}))},t.startOfWeek=function(){return Ea(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Xe(t.startOfWeek(),t.props.selected)&&Xe(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Xe(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return Z.createElement("div",{className:dn(t)},this.renderDays())},e}(Q.Component),Pu,G2=6,Qo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},eg=(Pu={},Pu[Qo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Pu[Qo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Pu[Qo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Pu),rf=1;function uw(r,e){return r?Qo.FOUR_COLUMNS:e?Qo.TWO_COLUMNS:Qo.THREE_COLUMNS}var Q2=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.MONTH_REFS=Yr([],Array(12),!0).map(function(){return Q.createRef()}),t.QUARTER_REFS=Yr([],Array(4),!0).map(function(){return Q.createRef()}),t.isDisabled=function(n){return lr(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return py(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,a){var o,c;(c=(o=t.props).onDayClick)===null||c===void 0||c.call(o,n,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var a,o;(o=(a=t.props).onDayMouseEnter)===null||o===void 0||o.call(a,n)},t.handleMouseLeave=function(){var n,a;(a=(n=t.props).onMouseLeave)===null||a===void 0||a.call(n)},t.isRangeStartMonth=function(n){var a=t.props,o=a.day,c=a.startDate,f=a.endDate;return!c||!f?!1:Dn(or(o,n),c)},t.isRangeStartQuarter=function(n){var a=t.props,o=a.day,c=a.startDate,f=a.endDate;return!c||!f?!1:zf(jo(o,n),c)},t.isRangeEndMonth=function(n){var a=t.props,o=a.day,c=a.startDate,f=a.endDate;return!c||!f?!1:Dn(or(o,n),f)},t.isRangeEndQuarter=function(n){var a=t.props,o=a.day,c=a.startDate,f=a.endDate;return!c||!f?!1:zf(jo(o,n),f)},t.isInSelectingRangeMonth=function(n){var a,o=t.props,c=o.day,f=o.selectsStart,p=o.selectsEnd,g=o.selectsRange,y=o.startDate,_=o.endDate,T=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(f||p||g)||!T?!1:f&&_?Jd(T,_,n,c):p&&y||g&&y&&!_?Jd(y,T,n,c):!1},t.isSelectingMonthRangeStart=function(n){var a;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,f=o.startDate,p=o.selectsStart,g=or(c,n),y=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return p?Dn(g,y):Dn(g,f)},t.isSelectingMonthRangeEnd=function(n){var a;if(!t.isInSelectingRangeMonth(n))return!1;var o=t.props,c=o.day,f=o.endDate,p=o.selectsEnd,g=o.selectsRange,y=or(c,n),_=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return p||g?Dn(y,_):Dn(y,f)},t.isInSelectingRangeQuarter=function(n){var a,o=t.props,c=o.day,f=o.selectsStart,p=o.selectsEnd,g=o.selectsRange,y=o.startDate,_=o.endDate,T=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(f||p||g)||!T?!1:f&&_?nf(T,_,n,c):p&&y||g&&y&&!_?nf(y,T,n,c):!1},t.isWeekInMonth=function(n){var a=t.props.day,o=yr(n,6);return Dn(n,a)||Dn(o,a)},t.isCurrentMonth=function(n,a){return je(n)===je(nt())&&a===_n(nt())},t.isCurrentQuarter=function(n,a){return je(n)===je(nt())&&a===xs(nt())},t.isSelectedMonth=function(n,a,o){return _n(o)===a&&je(n)===je(o)},t.isSelectMonthInList=function(n,a,o){return o.some(function(c){return t.isSelectedMonth(n,a,c)})},t.isSelectedQuarter=function(n,a,o){return xs(n)===a&&je(n)===je(o)},t.isMonthSelected=function(){var n=t.props,a=n.day,o=n.selected,c=n.selectedDates,f=n.selectsMultiple,p=_n(a);return f?c==null?void 0:c.some(function(g){return t.isSelectedMonth(a,p,g)}):!!o&&t.isSelectedMonth(a,p,o)},t.renderWeeks=function(){for(var n=[],a=t.props.fixedHeight,o=0,c=!1,f=Ea(ki(t.props.day),t.props.locale,t.props.calendarStartDay),p=function(C){return t.props.showWeekPicker?Ea(C,t.props.locale,t.props.calendarStartDay):t.props.preSelection},g=function(C){return t.props.showWeekPicker?Ea(C,t.props.locale,t.props.calendarStartDay):t.props.selected},y=t.props.selected?g(t.props.selected):void 0,_=t.props.preSelection?p(t.props.preSelection):void 0;n.push(Z.createElement(q2,$e({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:o,day:f,month:_n(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:y,preSelection:_,showWeekNumber:t.props.showWeekNumbers}))),!c;){o++,f=kf(f,1);var T=a&&o>=G2,A=!a&&!t.isWeekInMonth(f);if(T||A)if(t.props.peekNextMonth)c=!0;else break}return n},t.onMonthClick=function(n,a){var o=t.isMonthDisabledForLabelDate(a),c=o.isDisabled,f=o.labelDate;c||t.handleDayClick(ki(f),n)},t.onMonthMouseEnter=function(n){var a=t.isMonthDisabledForLabelDate(n),o=a.isDisabled,c=a.labelDate;o||t.handleDayMouseEnter(ki(c))},t.handleMonthNavigation=function(n,a){var o,c,f,p;(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,a),(p=(f=t.MONTH_REFS[n])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus()},t.handleKeyboardNavigation=function(n,a,o){var c,f=t.props,p=f.selected,g=f.preSelection,y=f.setPreSelection,_=f.minDate,T=f.maxDate,A=f.showFourColumnMonthYearPicker,C=f.showTwoColumnMonthYearPicker;if(g){var V=uw(A,C),x=t.getVerticalOffset(V),z=(c=eg[V])===null||c===void 0?void 0:c.grid,$=function(N,D,R){var M,P,U=D,k=R;switch(N){case me.ArrowRight:U=_r(D,rf),k=R===11?0:R+rf;break;case me.ArrowLeft:U=ks(D,rf),k=R===0?11:R-rf;break;case me.ArrowUp:U=ks(D,x),k=!((M=z==null?void 0:z[0])===null||M===void 0)&&M.includes(R)?R+12-x:R-x;break;case me.ArrowDown:U=_r(D,x),k=!((P=z==null?void 0:z[z.length-1])===null||P===void 0)&&P.includes(R)?R-12+x:R+x;break}return{newCalculatedDate:U,newCalculatedMonth:k}},Y=function(N,D,R){for(var M=40,P=N,U=!1,k=0,Me=$(P,D,R),Te=Me.newCalculatedDate,H=Me.newCalculatedMonth;!U;){if(k>=M){Te=D,H=R;break}if(_&&Te<_){P=me.ArrowRight;var ne=$(P,Te,H);Te=ne.newCalculatedDate,H=ne.newCalculatedMonth}if(T&&Te>T){P=me.ArrowLeft;var ne=$(P,Te,H);Te=ne.newCalculatedDate,H=ne.newCalculatedMonth}if(N2(Te,t.props)){var ne=$(P,Te,H);Te=ne.newCalculatedDate,H=ne.newCalculatedMonth}else U=!0;k++}return{newCalculatedDate:Te,newCalculatedMonth:H}};if(a===me.Enter){t.isMonthDisabled(o)||(t.onMonthClick(n,o),y==null||y(p));return}var oe=Y(a,g,o),le=oe.newCalculatedDate,he=oe.newCalculatedMonth;switch(a){case me.ArrowRight:case me.ArrowLeft:case me.ArrowUp:case me.ArrowDown:t.handleMonthNavigation(he,le);break}}},t.getVerticalOffset=function(n){var a,o;return(o=(a=eg[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&o!==void 0?o:0},t.onMonthKeyDown=function(n,a){var o=t.props,c=o.disabledKeyboardNavigation,f=o.handleOnMonthKeyDown,p=n.key;p!==me.Tab&&n.preventDefault(),c||t.handleKeyboardNavigation(n,p,a),f&&f(n)},t.onQuarterClick=function(n,a){var o=jo(t.props.day,a);ef(o,t.props)||t.handleDayClick(Kb(o),n)},t.onQuarterMouseEnter=function(n){var a=jo(t.props.day,n);ef(a,t.props)||t.handleDayMouseEnter(Kb(a))},t.handleQuarterNavigation=function(n,a){var o,c,f,p;t.isDisabled(a)||t.isExcluded(a)||((c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,a),(p=(f=t.QUARTER_REFS[n-1])===null||f===void 0?void 0:f.current)===null||p===void 0||p.focus())},t.onQuarterKeyDown=function(n,a){var o,c,f=n.key;if(!t.props.disabledKeyboardNavigation)switch(f){case me.Enter:t.onQuarterClick(n,a),(c=(o=t.props).setPreSelection)===null||c===void 0||c.call(o,t.props.selected);break;case me.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,ty(t.props.preSelection,1));break;case me.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,lE(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var a,o=t.props,c=o.day,f=o.minDate,p=o.maxDate,g=o.excludeDates,y=o.includeDates,_=or(c,n);return{isDisabled:(a=(f||p||g||y)&&SE(_,t.props))!==null&&a!==void 0?a:!1,labelDate:_}},t.isMonthDisabled=function(n){var a=t.isMonthDisabledForLabelDate(n).isDisabled;return a},t.getMonthClassNames=function(n){var a=t.props,o=a.day,c=a.startDate,f=a.endDate,p=a.preSelection,g=a.monthClassName,y=g?g(or(o,n)):void 0,_=t.getSelection();return dn("react-datepicker__month-text","react-datepicker__month-".concat(n),y,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":_?t.isSelectMonthInList(o,n,_):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&p&&t.isSelectedMonth(o,n,p)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":c&&f?Jd(c,f,n,o):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(o,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var a=_n(t.props.preSelection),o=t.isMonthDisabledForLabelDate(a).isDisabled,c=n===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var a=xs(t.props.preSelection),o=ef(t.props.day,t.props),c=n===a&&!(o||t.props.disabledKeyboardNavigation)?"0":"-1";return c},t.getAriaLabel=function(n){var a=t.props,o=a.chooseDayAriaLabelPrefix,c=o===void 0?"Choose":o,f=a.disabledDayAriaLabelPrefix,p=f===void 0?"Not available":f,g=a.day,y=a.locale,_=or(g,n),T=t.isDisabled(_)||t.isExcluded(_)?p:c;return"".concat(T," ").concat(bt(_,"MMMM yyyy",y))},t.getQuarterClassNames=function(n){var a=t.props,o=a.day,c=a.startDate,f=a.endDate,p=a.selected,g=a.minDate,y=a.maxDate,_=a.excludeDates,T=a.includeDates,A=a.filterDate,C=a.preSelection,V=a.disabledKeyboardNavigation,x=(g||y||_||T||A)&&ef(jo(o,n),t.props);return dn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":x,"react-datepicker__quarter-text--selected":p?t.isSelectedQuarter(o,n,p):void 0,"react-datepicker__quarter-text--keyboard-selected":!V&&C&&t.isSelectedQuarter(o,n,C)&&!x,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":c&&f?nf(c,f,n,o):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(o,n)})},t.getMonthContent=function(n){var a=t.props,o=a.showFullMonthYearPicker,c=a.renderMonthContent,f=a.locale,p=a.day,g=EE(n,f),y=hy(n,f);return c?c(n,g,y,p):o?y:g},t.getQuarterContent=function(n){var a,o=t.props,c=o.renderQuarterContent,f=o.locale,p=I2(n,f);return(a=c==null?void 0:c(n,p))!==null&&a!==void 0?a:p},t.renderMonths=function(){var n,a=t.props,o=a.showTwoColumnMonthYearPicker,c=a.showFourColumnMonthYearPicker,f=a.day,p=a.selected,g=(n=eg[uw(c,o)])===null||n===void 0?void 0:n.grid;return g==null?void 0:g.map(function(y,_){return Z.createElement("div",{className:"react-datepicker__month-wrapper",key:_},y.map(function(T,A){return Z.createElement("div",{ref:t.MONTH_REFS[T],key:A,onClick:function(C){t.onMonthClick(C,T)},onKeyDown:function(C){CE(C)&&(C.preventDefault(),C.key=me.Enter),t.onMonthKeyDown(C,T)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(T)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(T)}:void 0,tabIndex:Number(t.getTabIndex(T)),className:t.getMonthClassNames(T),"aria-disabled":t.isMonthDisabled(T),role:"option","aria-label":t.getAriaLabel(T),"aria-current":t.isCurrentMonth(f,T)?"date":void 0,"aria-selected":p?t.isSelectedMonth(f,T,p):void 0},t.getMonthContent(T))}))})},t.renderQuarters=function(){var n=t.props,a=n.day,o=n.selected,c=[1,2,3,4];return Z.createElement("div",{className:"react-datepicker__quarter-wrapper"},c.map(function(f,p){return Z.createElement("div",{key:p,ref:t.QUARTER_REFS[p],role:"option",onClick:function(g){t.onQuarterClick(g,f)},onKeyDown:function(g){t.onQuarterKeyDown(g,f)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(f)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(f)}:void 0,className:t.getQuarterClassNames(f),"aria-selected":o?t.isSelectedQuarter(a,f,o):void 0,tabIndex:Number(t.getQuarterTabIndex(f)),"aria-current":t.isCurrentQuarter(a,f)?"date":void 0},t.getQuarterContent(f))}))},t.getClassNames=function(){var n=t.props,a=n.selectingDate,o=n.selectsStart,c=n.selectsEnd,f=n.showMonthYearPicker,p=n.showQuarterYearPicker,g=n.showWeekPicker;return dn("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(o||c)},{"react-datepicker__monthPicker":f},{"react-datepicker__quarterPicker":p},{"react-datepicker__weekPicker":g})},t}return e.prototype.getSelection=function(){var t=this.props,n=t.selected,a=t.selectedDates,o=t.selectsMultiple;if(o)return a;if(n)return[n]},e.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,a=t.showQuarterYearPicker,o=t.day,c=t.ariaLabelPrefix,f=c===void 0?"Month ":c,p=f?f.trim()+" ":"";return Z.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(p).concat(bt(o,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},e}(Q.Component),K2=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,a){return Z.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?Z.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return Z.createElement(mh,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Q.Component),W2=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(a,o){return Z.createElement("option",{key:a,value:o},a)})},t.renderSelectMode=function(n){return Z.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,a){return Z.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},Z.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),Z.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(n){return Z.createElement(K2,$e({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var a=t.state.dropdownVisible,o=[t.renderReadView(!a,n)];return a&&o.unshift(t.renderDropdown(n)),o},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(o){return EE(o,t.props.locale)}:function(o){return hy(o,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return Z.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e}(Q.Component);function X2(r,e){for(var t=[],n=ki(r),a=ki(e);!Ia(n,a);)t.push(nt(n)),n=_r(n,1);return t}var $2=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var o=bg(a),c=Br(n.props.date,a)&&Dn(n.props.date,a);return Z.createElement("div",{className:c?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:o,onClick:n.onChange.bind(n,o),"aria-selected":c?"true":void 0},c?Z.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",bt(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:X2(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var t=dn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return Z.createElement(mh,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Q.Component),Z2=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=ki(t.props.minDate),a=ki(t.props.maxDate),o=[];!Ia(n,a);){var c=bg(n);o.push(Z.createElement("option",{key:c,value:c},bt(n,t.props.dateFormat,t.props.locale))),n=_r(n,1)}return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return Z.createElement("select",{value:bg(ki(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var a=bt(t.props.date,t.props.dateFormat,t.props.locale);return Z.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},Z.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),Z.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return Z.createElement($2,$e({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,a=[t.renderReadView(!n)];return n&&a.unshift(t.renderDropdown()),a},t.onChange=function(n){t.toggleDropdown();var a=nt(n);Br(t.props.date,a)&&Dn(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Z.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(Q.Component),J2=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,o;t.list&&(t.list.scrollTop=(o=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&o!==void 0?o:0)})},t.handleClick=function(n){var a,o;(t.props.minTime||t.props.maxTime)&&Jb(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Zb(n,t.props)||(o=(a=t.props).onChange)===null||o===void 0||o.call(a,n)},t.isSelectedTime=function(n){return t.props.selected&&z2(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&Jb(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&Zb(n,t.props)},t.liClasses=function(n){var a,o=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&o.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&o.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(Ri(n)*3600+xi(n)*60+Ta(n))%(((a=t.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")},t.handleOnKeyDown=function(n,a){var o,c;n.key===me.Space&&(n.preventDefault(),n.key=me.Enter),(n.key===me.ArrowUp||n.key===me.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===me.ArrowDown||n.key===me.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===me.Enter&&t.handleClick(a),(c=(o=t.props).handleOnKeyDown)===null||c===void 0||c.call(o,n)},t.renderTimes=function(){for(var n,a=[],o=typeof t.props.format=="string"?t.props.format:"p",c=(n=t.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,f=t.props.selected||t.props.openToDate||nt(),p=yf(f),g=t.props.injectTimes&&t.props.injectTimes.sort(function(x,z){return x.getTime()-z.getTime()}),y=60*B2(f),_=y/c,T=0;T<_;T++){var A=yg(p,T*c);if(a.push(A),g){var C=j2(p,A,T,c,g);a=a.concat(C)}}var V=a.reduce(function(x,z){return z.getTime()<=f.getTime()?z:x},a[0]);return a.map(function(x){return Z.createElement("li",{key:x.valueOf(),onClick:t.handleClick.bind(t,x),className:t.liClasses(x),ref:function(z){x===V&&(t.centerLi=z)},onKeyDown:function(z){t.handleOnKeyDown(z,x)},tabIndex:x===V?0:-1,role:"option","aria-selected":t.isSelectedTime(x)?"true":void 0,"aria-disabled":t.isDisabledTime(x)?"true":void 0},bt(x,o,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?Z.createElement(Z.Fragment,null):Z.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},Z.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var t=this,n,a=this.state.height;return Z.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),Z.createElement("div",{className:"react-datepicker__time"},Z.createElement("div",{className:"react-datepicker__time-box"},Z.createElement("ul",{className:"react-datepicker__time-list",ref:function(o){t.list=o},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},e}(Q.Component),cw=3,ek=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.YEAR_REFS=Yr([],Array(n.props.yearItemNumber),!0).map(function(){return Q.createRef()}),n.isDisabled=function(a){return lr(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return py(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var o=function(){var c,f;(f=(c=n.YEAR_REFS[a])===null||c===void 0?void 0:c.current)===null||f===void 0||f.focus()};window.requestAnimationFrame(o)},n.handleYearClick=function(a,o){n.props.onDayClick&&n.props.onDayClick(a,o)},n.handleYearNavigation=function(a,o){var c,f,p,g,y=n.props,_=y.date,T=y.yearItemNumber;if(!(_===void 0||T===void 0)){var A=ba(_,T).startPeriod;n.isDisabled(o)||n.isExcluded(o)||((f=(c=n.props).setPreSelection)===null||f===void 0||f.call(c,o),a-A<0?n.updateFocusOnPaginate(T-(A-a)):a-A>=T?n.updateFocusOnPaginate(Math.abs(T-(a-A))):(g=(p=n.YEAR_REFS[a-A])===null||p===void 0?void 0:p.current)===null||g===void 0||g.focus())}},n.isSameDay=function(a,o){return Xe(a,o)},n.isCurrentYear=function(a){return a===je(nt())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&Br(Ur(nt(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&Br(Ur(nt(),a),n.props.endDate)},n.isInRange=function(a){return tf(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var o=n.props,c=o.selectsStart,f=o.selectsEnd,p=o.selectsRange,g=o.startDate,y=o.endDate;return!(c||f||p)||!n.selectingDate()?!1:c&&y?tf(a,n.selectingDate(),y):f&&g||p&&g&&!y?tf(a,g,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var o;if(!n.isInSelectingRange(a))return!1;var c=n.props,f=c.startDate,p=c.selectsStart,g=Ur(nt(),a);return p?Br(g,(o=n.selectingDate())!==null&&o!==void 0?o:null):Br(g,f??null)},n.isSelectingRangeEnd=function(a){var o;if(!n.isInSelectingRange(a))return!1;var c=n.props,f=c.endDate,p=c.selectsEnd,g=c.selectsRange,y=Ur(nt(),a);return p||g?Br(y,(o=n.selectingDate())!==null&&o!==void 0?o:null):Br(y,f??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var o=n.props,c=o.minDate,f=o.maxDate,p=o.excludeDates,g=o.includeDates,y=o.filterDate,_=Uu(Ur(n.props.date,a)),T=(c||f||p||g||y)&&vf(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Xe(_,Uu(n.props.selected))&&Xe(_,Uu(n.props.preSelection))&&!T}},n.isSelectedYear=function(a){var o=n.props,c=o.selectsMultiple,f=o.selected,p=o.selectedDates;return c?p==null?void 0:p.some(function(g){return a===je(g)}):!!f&&a===je(f)},n.onYearClick=function(a,o){var c=n.props.date;c!==void 0&&n.handleYearClick(Uu(Ur(c,o)),a)},n.onYearKeyDown=function(a,o){var c,f,p=a.key,g=n.props,y=g.date,_=g.yearItemNumber,T=g.handleOnKeyDown;if(p!==me.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(p){case me.Enter:if(n.props.selected==null)break;n.onYearClick(a,o),(f=(c=n.props).setPreSelection)===null||f===void 0||f.call(c,n.props.selected);break;case me.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(o+1,Ai(n.props.preSelection,1));break;case me.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(o-1,el(n.props.preSelection,1));break;case me.ArrowUp:{if(y===void 0||_===void 0||n.props.preSelection==null)break;var A=ba(y,_).startPeriod,C=cw,V=o-C;if(V<A){var x=_%C;o>=A&&o<A+x?C=x:C+=x,V=o-C}n.handleYearNavigation(V,el(n.props.preSelection,C));break}case me.ArrowDown:{if(y===void 0||_===void 0||n.props.preSelection==null)break;var z=ba(y,_).endPeriod,C=cw,V=o+C;if(V>z){var x=_%C;o<=z&&o>z-x?C=x:C+=x,V=o+C}n.handleYearNavigation(V,Ai(n.props.preSelection,C));break}}T&&T(a)},n.getYearClassNames=function(a){var o=n.props,c=o.date,f=o.minDate,p=o.maxDate,g=o.excludeDates,y=o.includeDates,_=o.filterDate,T=o.yearClassName;return dn("react-datepicker__year-text","react-datepicker__year-".concat(a),c?T==null?void 0:T(Ur(c,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(f||p||g||y||_)&&vf(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var o=je(n.props.preSelection),c=vf(a,n.props);return a===o&&!c?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return e.prototype.render=function(){var t=this,n=[],a=this.props,o=a.date,c=a.yearItemNumber,f=a.onYearMouseEnter,p=a.onYearMouseLeave;if(o===void 0)return null;for(var g=ba(o,c),y=g.startPeriod,_=g.endPeriod,T=function(V){n.push(Z.createElement("div",{ref:A.YEAR_REFS[V-y],onClick:function(x){t.onYearClick(x,V)},onKeyDown:function(x){CE(x)&&(x.preventDefault(),x.key=me.Enter),t.onYearKeyDown(x,V)},tabIndex:Number(A.getYearTabIndex(V)),className:A.getYearClassNames(V),onMouseEnter:A.props.usePointerEvent?void 0:function(x){return f(x,V)},onPointerEnter:A.props.usePointerEvent?function(x){return f(x,V)}:void 0,onMouseLeave:A.props.usePointerEvent?void 0:function(x){return p(x,V)},onPointerLeave:A.props.usePointerEvent?function(x){return p(x,V)}:void 0,key:V,"aria-current":A.isCurrentYear(V)?"date":void 0},A.getYearContent(V)))},A=this,C=y;C<=_;C++)T(C);return Z.createElement("div",{className:"react-datepicker__year"},Z.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e}(Q.Component);function tk(r,e,t,n){for(var a=[],o=0;o<2*e+1;o++){var c=r+e-o,f=!0;t&&(f=je(t)<=c),n&&f&&(f=je(n)>=c),f&&a.push(c)}return a}var nk=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;n.renderOptions=function(){var f=n.props.year,p=n.state.yearsList.map(function(_){return Z.createElement("div",{className:f===_?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:_,onClick:n.onChange.bind(n,_),"aria-selected":f===_?"true":void 0},f===_?Z.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",_)}),g=n.props.minDate?je(n.props.minDate):null,y=n.props.maxDate?je(n.props.maxDate):null;return(!y||!n.state.yearsList.find(function(_){return _===y}))&&p.unshift(Z.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},Z.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!g||!n.state.yearsList.find(function(_){return _===g}))&&p.push(Z.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},Z.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),p},n.onChange=function(f){n.props.onChange(f)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(f){var p=n.state.yearsList.map(function(g){return g+f});n.setState({yearsList:p})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=t.yearDropdownItemNumber,o=t.scrollableYearDropdown,c=a||(o?10:5);return n.state={yearsList:tk(n.props.year,c,n.props.minDate,n.props.maxDate)},n.dropdownRef=Q.createRef(),n}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,a=n?n.find(function(o){return o.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=dn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return Z.createElement(mh,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(Q.Component),rk=function(r){nn(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?je(t.props.minDate):1900,a=t.props.maxDate?je(t.props.maxDate):2100,o=[],c=n;c<=a;c++)o.push(Z.createElement("option",{key:c,value:c},c));return o},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return Z.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return Z.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return t.toggleDropdown(a)}},Z.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),Z.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return Z.createElement(nk,$e({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,a=[t.renderReadView(!n)];return n&&a.unshift(t.renderDropdown()),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,a){var o;(o=t.onSelect)===null||o===void 0||o.call(t,n,a),t.setOpen()},t.onSelect=function(n,a){var o,c;(c=(o=t.props).onSelect)===null||c===void 0||c.call(o,n,a)},t.setOpen=function(){var n,a;(a=(n=t.props).setOpen)===null||a===void 0||a.call(n,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return Z.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e}(Q.Component),ik=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],ak=function(r){var e=(r.className||"").split(/\s+/);return ik.some(function(t){return e.indexOf(t)>=0})},sk=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var o,c;ak(a.target)&&((c=(o=n.props).onDropdownFocus)===null||c===void 0||c.call(o,a))},n.getDateInView=function(){var a=n.props,o=a.preSelection,c=a.selected,f=a.openToDate,p=DE(n.props),g=AE(n.props),y=nt(),_=f||c||o;return _||(p&&Ps(y,p)?p:g&&Ia(y,g)?g:y)},n.increaseMonth=function(){n.setState(function(a){var o=a.date;return{date:_r(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var o=a.date;return{date:ks(o,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,o,c){n.props.onSelect(a,o,c),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,o){n.setState({selectingDate:Ur(nt(),o)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,o)},n.handleYearMouseLeave=function(a,o){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,o)},n.handleYearChange=function(a){var o,c,f,p;(c=(o=n.props).onYearChange)===null||c===void 0||c.call(o,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(p=(f=n.props).setOpen)===null||p===void 0||p.call(f,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!lr(a,n.props))return a;for(var o=ki(a),c=C2(a),f=JA(c,o),p=null,g=0;g<=f;g++){var y=yr(o,g);if(!lr(y,n.props)){p=y;break}}return p},n.handleMonthChange=function(a){var o,c,f,p=(o=n.getEnabledPreSelectionDateForMonth(a))!==null&&o!==void 0?o:a;n.handleCustomMonthChange(p),n.props.adjustDateOnChange&&(n.props.onSelect(p),(f=(c=n.props).setOpen)===null||f===void 0||f.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(p)},n.handleCustomMonthChange=function(a){var o,c;(c=(o=n.props).onMonthChange)===null||c===void 0||c.call(o,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(o){var c=o.date;return{date:Ur(c,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(o){var c=o.date;return{date:or(c,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(o){var c=o.date;return{date:Ur(or(c,_n(a)),je(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var o=Ea(a,n.props.locale,n.props.calendarStartDay),c=[];return n.props.showWeekNumbers&&c.push(Z.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),c.concat([0,1,2,3,4,5,6].map(function(f){var p=yr(o,f),g=n.formatWeekday(p,n.props.locale),y=n.props.weekDayClassName?n.props.weekDayClassName(p):void 0;return Z.createElement("div",{key:f,"aria-label":bt(p,"EEEE",n.props.locale),className:dn("react-datepicker__day-name",y)},g)}))},n.formatWeekday=function(a,o){return n.props.formatWeekDay?R2(a,n.props.formatWeekDay,o):n.props.useWeekdaysShort?k2(a,o):x2(a,o)},n.decreaseYear=function(){n.setState(function(a){var o,c=a.date;return{date:el(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,o,c;if(!n.props.renderCustomHeader){var f=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?f-1:0,g=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,y=ks(n.state.date,g),_;switch(!0){case n.props.showMonthYearPicker:_=nw(n.state.date,n.props);break;case n.props.showYearPicker:_=P2(n.state.date,n.props);break;case n.props.showQuarterYearPicker:_=M2(n.state.date,n.props);break;default:_=ew(y,n.props);break}if(!(!((c=n.props.forceShowMonthNavigation)!==null&&c!==void 0?c:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&_||n.props.showTimeSelectOnly)){var T=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],A=["react-datepicker__navigation","react-datepicker__navigation--previous"],C=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(C=n.decreaseYear),_&&n.props.showDisabledMonthNavigation&&(A.push("react-datepicker__navigation--previous--disabled"),C=void 0);var V=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,x=n.props,z=x.previousMonthButtonLabel,$=z===void 0?e.defaultProps.previousMonthButtonLabel:z,Y=x.previousYearButtonLabel,oe=Y===void 0?e.defaultProps.previousYearButtonLabel:Y,le=n.props,he=le.previousMonthAriaLabel,N=he===void 0?typeof $=="string"?$:"Previous Month":he,D=le.previousYearAriaLabel,R=D===void 0?typeof oe=="string"?oe:"Previous Year":D;return Z.createElement("button",{type:"button",className:A.join(" "),onClick:C,onKeyDown:n.props.handleOnKeyDown,"aria-label":V?R:N},Z.createElement("span",{className:T.join(" ")},V?oe:$))}}},n.increaseYear=function(){n.setState(function(a){var o,c=a.date;return{date:Ai(c,n.props.showYearPicker?(o=n.props.yearItemNumber)!==null&&o!==void 0?o:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var o;switch(!0){case n.props.showMonthYearPicker:o=rw(n.state.date,n.props);break;case n.props.showYearPicker:o=L2(n.state.date,n.props);break;case n.props.showQuarterYearPicker:o=O2(n.state.date,n.props);break;default:o=tw(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&o||n.props.showTimeSelectOnly)){var c=["react-datepicker__navigation","react-datepicker__navigation--next"],f=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&c.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&c.push("react-datepicker__navigation--next--with-today-button");var p=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(p=n.increaseYear),o&&n.props.showDisabledMonthNavigation&&(c.push("react-datepicker__navigation--next--disabled"),p=void 0);var g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,_=y.nextMonthButtonLabel,T=_===void 0?e.defaultProps.nextMonthButtonLabel:_,A=y.nextYearButtonLabel,C=A===void 0?e.defaultProps.nextYearButtonLabel:A,V=n.props,x=V.nextMonthAriaLabel,z=x===void 0?typeof T=="string"?T:"Next Month":x,$=V.nextYearAriaLabel,Y=$===void 0?typeof C=="string"?C:"Next Year":$;return Z.createElement("button",{type:"button",className:c.join(" "),onClick:p,onKeyDown:n.props.handleOnKeyDown,"aria-label":g?Y:z},Z.createElement("span",{className:f.join(" ")},g?C:T))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var o=["react-datepicker__current-month"];return n.props.showYearDropdown&&o.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&o.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&o.push("react-datepicker__current-month--hasMonthYearDropdown"),Z.createElement("h2",{className:o.join(" ")},bt(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return Z.createElement(rk,$e({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:je(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return Z.createElement(W2,$e({},e.defaultProps,n.props,{month:_n(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return Z.createElement(Z2,$e({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(Wb(),a),n.props.setPreSelection&&n.props.setPreSelection(Wb())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return Z.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var o=a.monthDate,c=a.i;return Z.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(o),Z.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(c!==0),n.renderMonthYearDropdown(c!==0),n.renderYearDropdown(c!==0)),Z.createElement("div",{className:"react-datepicker__day-names"},n.header(o)))},n.renderCustomHeader=function(a){var o,c,f=a.monthDate,p=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var g=ew(n.state.date,n.props),y=tw(n.state.date,n.props),_=nw(n.state.date,n.props),T=rw(n.state.date,n.props),A=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return Z.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(c=(o=n.props).renderCustomHeader)===null||c===void 0?void 0:c.call(o,$e($e({},n.state),{customHeaderCount:p,monthDate:f,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:g,nextMonthButtonDisabled:y,prevYearButtonDisabled:_,nextYearButtonDisabled:T})),A&&Z.createElement("div",{className:"react-datepicker__day-names"},n.header(f)))},n.renderYearHeader=function(a){var o=a.monthDate,c=n.props,f=c.showYearPicker,p=c.yearItemNumber,g=p===void 0?e.defaultProps.yearItemNumber:p,y=ba(o,g),_=y.startPeriod,T=y.endPeriod;return Z.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},f?"".concat(_," - ").concat(T):je(o))},n.renderHeader=function(a){var o=a.monthDate,c=a.i,f=c===void 0?0:c,p={monthDate:o,i:f};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(p);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(p);default:return n.renderDefaultHeader(p)}},n.renderMonths=function(){var a,o;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var c=[],f=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,p=n.props.showPreviousMonths?f-1:0,g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ai(n.state.date,p):ks(n.state.date,p),y=(o=n.props.monthSelectedIn)!==null&&o!==void 0?o:p,_=0;_<f;++_){var T=_-y+p,A=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Ai(g,T):_r(g,T),C="month-".concat(_),V=_<f-1,x=_>0;c.push(Z.createElement("div",{key:C,ref:function(z){n.monthContainer=z??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:A,i:_}),Z.createElement(Q2,$e({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:A,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:_,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:V,monthShowsDuplicateDaysStart:x}))))}return c}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return Z.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),Z.createElement(ek,$e({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return Z.createElement(J2,$e({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,o=a&&gh(a)&&!!n.props.selected,c=o?"".concat(aw(a.getHours()),":").concat(aw(a.getMinutes())):"";if(n.props.showTimeInput)return Z.createElement(H2,$e({},e.defaultProps,n.props,{date:a,timeString:c,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,o=ba(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),c=o.startPeriod,f=o.endPeriod,p;return n.props.showYearPicker?p="".concat(c," - ").concat(f):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?p=je(n.state.date):p="".concat(hy(_n(n.state.date),n.props.locale)," ").concat(je(n.state.date)),Z.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&p)},n.renderChildren=function(){if(n.props.children)return Z.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=Q.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:cc}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},e.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Xe(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!Dn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Xe(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||b2;return Z.createElement(mh,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},Z.createElement("div",{style:{display:"contents"},ref:this.containerRef},Z.createElement(t,{className:dn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(Q.Component),ok=function(r){var e=r.icon,t=r.className,n=t===void 0?"":t,a=r.onClick,o="react-datepicker__calendar-icon";if(typeof e=="string")return Z.createElement("i",{className:"".concat(o," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:a});if(Z.isValidElement(e)){var c=e;return Z.cloneElement(c,{className:"".concat(c.props.className||""," ").concat(o," ").concat(n),onClick:function(f){typeof c.props.onClick=="function"&&c.props.onClick(f),typeof a=="function"&&a(f)}})}return Z.createElement("svg",{className:"".concat(o," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},Z.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},RE=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return Ix.createPortal(this.props.children,this.el)},e}(Q.Component),lk="[tabindex], a, button, input, select, textarea",uk=function(r){return(r instanceof HTMLAnchorElement||!r.disabled)&&r.tabIndex!==-1},xE=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(lk),1,-1).filter(uk)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=Q.createRef(),n}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?Z.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},Z.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,Z.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(Q.Component);function ck(r){var e=function(t){var n,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,o=Q.useRef(null),c=_2($e({open:!a,whileElementsMounted:Jx,placement:t.popperPlacement,middleware:Yr([s2({padding:15}),a2(10),o2({element:o})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),f=$e($e({},t),{hidePopper:a,popperProps:$e($e({},c),{arrowRef:o})});return Z.createElement(r,$e({},f))};return e}var dk=function(r){nn(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.props,n=t.className,a=t.wrapperClassName,o=t.hidePopper,c=o===void 0?e.defaultProps.hidePopper:o,f=t.popperComponent,p=t.targetComponent,g=t.enableTabLoop,y=t.popperOnKeyDown,_=t.portalId,T=t.portalHost,A=t.popperProps,C=t.showArrow,V=void 0;if(!c){var x=dn("react-datepicker-popper",n);V=Z.createElement(xE,{enableTabLoop:g},Z.createElement("div",{ref:A.refs.setFloating,style:A.floatingStyles,className:x,"data-placement":A.placement,onKeyDown:y},f,C&&Z.createElement(f2,{ref:A.arrowRef,context:A.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(V=Q.createElement(this.props.popperContainer,{},V)),_&&!c&&(V=Z.createElement(RE,{portalId:_,portalHost:T},V));var z=dn("react-datepicker-wrapper",a);return Z.createElement(Z.Fragment,null,Z.createElement("div",{ref:A.refs.setReference,className:z},p),V)},e}(Q.Component),fk=ck(dk),dw="react-datepicker-ignore-onclickoutside";function hk(r,e){return r&&e?_n(r)!==_n(e)||je(r)!==je(e):r!==e}var tg="Date input not valid.",Sg=function(r){nn(e,r);function e(t){var n=r.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:nt()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(o,c){var f=new Date(c.date);return gh(f)?Yr(Yr([],o,!0),[$e($e({},c),{date:f})],!1):o},[])},n.calcInitialState=function(){var a,o=n.getPreSelection(),c=DE(n.props),f=AE(n.props),p=c&&Ps(o,yf(c))?c:f&&Ia(o,Xb(f))?f:o;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:p,highlightDates:iw(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState($e($e({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState($e($e({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.focus)===null||o===void 0||o.call(a,{preventScroll:!0})},n.setBlur=function(){var a,o;(o=(a=n.input)===null||a===void 0?void 0:a.blur)===null||o===void 0||o.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,o){o===void 0&&(o=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:ng},function(){a||n.setState(function(c){return{focused:o?c.focused:!1}},function(){!o&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Ci(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var o,c,f=n.state.wasHidden,p=f?n.state.open:!0;f&&n.resetHiddenStatus(),n.state.preventFocus||((c=(o=n.props).onFocus)===null||c===void 0||c.call(o,a),p&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var o,c;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((c=(o=n.props).onBlur)===null||c===void 0||c.call(o,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var o,c;n.props.inline||n.setOpen(!1),(c=(o=n.props).onClickOutside)===null||c===void 0||c.call(o,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,o,c,f,p,g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];var _=g[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,g),!_||typeof _.isDefaultPrevented!="function"||_.isDefaultPrevented()))){n.setState({inputValue:(_==null?void 0:_.target)instanceof HTMLInputElement?_.target.value:null,lastPreSelectChange:pk});var T=n.props,A=T.selectsRange,C=T.startDate,V=T.endDate,x=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,z=(o=n.props.strictParsing)!==null&&o!==void 0?o:e.defaultProps.strictParsing,$=(_==null?void 0:_.target)instanceof HTMLInputElement?_.target.value:"";if(A){var Y=$.split(x.includes("-")?TE:"-",2).map(function(P){return P.trim()}),oe=Y[0],le=Y[1],he=Zm(oe??"",x,n.props.locale,z),N=Zm(le??"",x,n.props.locale,z),D=(C==null?void 0:C.getTime())!==(he==null?void 0:he.getTime()),R=(V==null?void 0:V.getTime())!==(N==null?void 0:N.getTime());if(!D&&!R||he&&lr(he,n.props)||N&&lr(N,n.props))return;(f=(c=n.props).onChange)===null||f===void 0||f.call(c,[he,N],_)}else{var M=Zm($,x,n.props.locale,z,(p=n.props.selected)!==null&&p!==void 0?p:void 0);(M||!$)&&n.setSelected(M,_,!0)}}},n.handleSelect=function(a,o,c){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(o),n.setSelected(a,o,!1,c),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var f=n.props,p=f.startDate,g=f.endDate;p&&!g&&(n.props.swapRange||!lw(a,p))&&n.setOpen(!1)}}},n.setSelected=function(a,o,c,f){var p,g,y=a;if(n.props.showYearPicker){if(y!==null&&vf(je(y),n.props))return}else if(n.props.showMonthYearPicker){if(y!==null&&SE(y,n.props))return}else if(y!==null&&lr(y,n.props))return;var _=n.props,T=_.onChange,A=_.selectsRange,C=_.startDate,V=_.endDate,x=_.selectsMultiple,z=_.selectedDates,$=_.minTime,Y=_.swapRange;if(!Cs(n.props.selected,y)||n.props.allowSameDay||A||x)if(y!==null&&(n.props.selected&&(!c||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(y=Jm(y,{hour:Ri(n.props.selected),minute:xi(n.props.selected),second:Ta(n.props.selected)})),!c&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&$&&(y=Jm(y,{hour:$.getHours(),minute:$.getMinutes(),second:$.getSeconds()})),n.props.inline||n.setState({preSelection:y}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:f})),A){var oe=!C&&!V,le=C&&!V,he=C&&V;oe?T==null||T([y,null],o):le&&(y===null?T==null||T([null,null],o):lw(y,C)?Y?T==null||T([y,C],o):T==null||T([y,null],o):T==null||T([C,y],o)),he&&(T==null||T([y,null],o))}else if(x){if(y!==null)if(!(z!=null&&z.length))T==null||T([y],o);else{var N=z.some(function(R){return Xe(R,y)});if(N){var D=z.filter(function(R){return!Xe(R,y)});T==null||T(D,o)}else T==null||T(Yr(Yr([],z,!0),[y],!1),o)}}else T==null||T(y,o);c||((g=(p=n.props).onSelect)===null||g===void 0||g.call(p,y,o),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var o=Ci(n.props.minDate),c=Ci(n.props.maxDate),f=!0;if(a){var p=yf(a);if(o&&c)f=ju(a,n.props.minDate,n.props.maxDate);else if(o){var g=yf(n.props.minDate);f=Ia(a,g)||Cs(p,g)}else if(c){var y=Xb(n.props.maxDate);f=Ps(a,y)||Cs(p,y)}}f&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var o,c;if(!(n.props.selectsRange||n.props.selectsMultiple)){var f=n.props.selected?n.props.selected:n.getPreSelection(),p=n.props.selected?a:Jm(f,{hour:Ri(a),minute:xi(a)});n.setState({preSelection:p}),(c=(o=n.props).onChange)===null||c===void 0||c.call(o,p),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,o;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(o=(a=n.props).onInputClick)===null||o===void 0||o.call(a)},n.onInputKeyDown=function(a){var o,c,f,p,g,y;(c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,a);var _=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(_===me.ArrowDown||_===me.ArrowUp||_===me.Enter)&&((f=n.onInputClick)===null||f===void 0||f.call(n));return}if(n.state.open){if(_===me.ArrowDown||_===me.ArrowUp){a.preventDefault();var T=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',A=((p=n.calendar)===null||p===void 0?void 0:p.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(T);A instanceof HTMLElement&&A.focus({preventScroll:!0});return}var C=nt(n.state.preSelection);_===me.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===ng?(n.handleSelect(C,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(C)):n.setOpen(!1)):_===me.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):_===me.Tab&&n.setOpen(!1),n.inputOk()||(y=(g=n.props).onInputError)===null||y===void 0||y.call(g,{code:1,msg:tg})}},n.onPortalKeyDown=function(a){var o=a.key;o===me.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var o,c,f,p,g,y,_=n.props,T=_.minDate,A=_.maxDate,C=_.disabledKeyboardNavigation,V=_.showWeekPicker,x=_.shouldCloseOnSelect,z=_.locale,$=_.calendarStartDay,Y=_.adjustDateOnChange,oe=_.inline;if((c=(o=n.props).onKeyDown)===null||c===void 0||c.call(o,a),!C){var le=a.key,he=a.shiftKey,N=nt(n.state.preSelection),D=function(Te,H){var ne=H;switch(Te){case me.ArrowRight:ne=V?kf(H,1):yr(H,1);break;case me.ArrowLeft:ne=V?jb(H):JR(H);break;case me.ArrowUp:ne=jb(H);break;case me.ArrowDown:ne=kf(H,1);break;case me.PageUp:ne=he?el(H,1):ks(H,1);break;case me.PageDown:ne=he?Ai(H,1):_r(H,1);break;case me.Home:ne=Ea(H,z,$);break;case me.End:ne=A2(H);break}return ne},R=function(Te,H){for(var ne=40,ue=Te,Se=!1,L=0,ee=D(Te,H);!Se;){if(L>=ne){ee=H;break}T&&ee<T&&(ue=me.ArrowRight,ee=lr(T,n.props)?D(ue,ee):T),A&&ee>A&&(ue=me.ArrowLeft,ee=lr(A,n.props)?D(ue,ee):A),lr(ee,n.props)?((ue===me.PageUp||ue===me.Home)&&(ue=me.ArrowRight),(ue===me.PageDown||ue===me.End)&&(ue=me.ArrowLeft),ee=D(ue,ee)):Se=!0,L++}return ee};if(le===me.Enter){a.preventDefault(),n.handleSelect(N,a),!x&&n.setPreSelection(N);return}else if(le===me.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:tg});return}var M=null;switch(le){case me.ArrowLeft:case me.ArrowRight:case me.ArrowUp:case me.ArrowDown:case me.PageUp:case me.PageDown:case me.Home:case me.End:M=R(le,N);break}if(!M){(y=(g=n.props).onInputError)===null||y===void 0||y.call(g,{code:1,msg:tg});return}if(a.preventDefault(),n.setState({lastPreSelectChange:ng}),Y&&n.setSelected(M),n.setPreSelection(M),oe){var P=_n(N),U=_n(M),k=je(N),Me=je(M);P!==U||k!==Me?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var o=a.key;o===me.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var o=n.props,c=o.selectsRange,f=o.onChange;c?f==null||f([null,null],a):f==null||f(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,o;return!n.props.inline&&!n.isCalendarOpen()?null:Z.createElement(sk,$e({showMonthYearDropdown:void 0,ref:function(c){n.calendar=c}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:U2(n.modifyHolidays()),outsideClickIgnoreClass:dw,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(o=n.props.dropdownMode)!==null&&o!==void 0?o:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,o=a.dateFormat,c=o===void 0?e.defaultProps.dateFormat:o,f=a.locale,p=n.props.showTimeInput||n.props.showTimeSelect,g=p?"PPPPp":"PPPP",y;return n.props.selectsRange?y="Selected start date: ".concat(sr(n.props.startDate,{dateFormat:g,locale:f}),". ").concat(n.props.endDate?"End date: "+sr(n.props.endDate,{dateFormat:g,locale:f}):""):n.props.showTimeSelectOnly?y="Selected time: ".concat(sr(n.props.selected,{dateFormat:c,locale:f})):n.props.showYearPicker?y="Selected year: ".concat(sr(n.props.selected,{dateFormat:"yyyy",locale:f})):n.props.showMonthYearPicker?y="Selected month: ".concat(sr(n.props.selected,{dateFormat:"MMMM yyyy",locale:f})):n.props.showQuarterYearPicker?y="Selected quarter: ".concat(sr(n.props.selected,{dateFormat:"yyyy, QQQ",locale:f})):y="Selected date: ".concat(sr(n.props.selected,{dateFormat:g,locale:f})),Z.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},y)},n.renderDateInput=function(){var a,o,c,f=dn(n.props.className,(a={},a[dw]=n.state.open,a)),p=n.props.customInput||Z.createElement("input",{type:"text"}),g=n.props.customInputRef||"ref",y=n.props,_=y.dateFormat,T=_===void 0?e.defaultProps.dateFormat:_,A=y.locale,C=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?T2(n.props.startDate,n.props.endDate,{dateFormat:T,locale:A}):n.props.selectsMultiple?E2((c=n.props.selectedDates)!==null&&c!==void 0?c:[],{dateFormat:T,locale:A}):sr(n.props.selected,{dateFormat:T,locale:A});return Q.cloneElement(p,(o={},o[g]=function(V){n.input=V},o.value=C,o.onBlur=n.handleBlur,o.onChange=n.handleChange,o.onClick=n.onInputClick,o.onFocus=n.handleFocus,o.onKeyDown=n.onInputKeyDown,o.id=n.props.id,o.name=n.props.name,o.form=n.props.form,o.autoFocus=n.props.autoFocus,o.placeholder=n.props.placeholderText,o.disabled=n.props.disabled,o.autoComplete=n.props.autoComplete,o.className=dn(p.props.className,f),o.title=n.props.title,o.readOnly=n.props.readOnly,o.required=n.props.required,o.tabIndex=n.props.tabIndex,o["aria-describedby"]=n.props.ariaDescribedBy,o["aria-invalid"]=n.props.ariaInvalid,o["aria-labelledby"]=n.props.ariaLabelledBy,o["aria-required"]=n.props.ariaRequired,o))},n.renderClearButton=function(){var a=n.props,o=a.isClearable,c=a.disabled,f=a.selected,p=a.startDate,g=a.endDate,y=a.clearButtonTitle,_=a.clearButtonClassName,T=_===void 0?"":_,A=a.ariaLabelClose,C=A===void 0?"Close":A,V=a.selectedDates,x=a.readOnly;return o&&!x&&(f!=null||p!=null||g!=null||V!=null&&V.length)?Z.createElement("button",{type:"button",className:dn("react-datepicker__close-icon",T,{"react-datepicker__close-icon--disabled":c}),disabled:c,"aria-label":C,onClick:n.onClearClick,title:y,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:cc,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,n){var a,o,c,f;t.inline&&hk(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:iw(this.props.highlightDates)}),!n.focused&&!Cs(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((o=(a=this.props).onCalendarOpen)===null||o===void 0||o.call(a)),n.open===!0&&this.state.open===!1&&((f=(c=this.props).onCalendarClose)===null||f===void 0||f.call(c)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,a=t.icon,o=t.calendarIconClassname,c=t.calendarIconClassName,f=t.toggleCalendarOnIconClick,p=this.state.open;return o&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),Z.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&Z.createElement(ok,$e({icon:a,className:dn(c,!c&&o,p&&"react-datepicker-ignore-onclickoutside")},f?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?Z.createElement(xE,{enableTabLoop:this.props.enableTabLoop},Z.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=Z.createElement(RE,$e({portalId:this.props.portalId},this.props),n)),Z.createElement("div",null,this.renderInputContainer(),n)}return Z.createElement(fk,$e({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(Q.Component),pk="input",ng="navigate";const mk=({value:r,type:e,onChange:t,onClick:n})=>{const[a,o]=Q.useState(!1),[c,f]=Q.useState(r),p=Q.useRef(null);Q.useEffect(()=>{f(r)},[r]),Q.useEffect(()=>{a&&p.current&&(p.current.focus(),e==="text"&&p.current.select())},[a,e]);const g=()=>{["number","textarea"].includes(e)&&o(!0)},y=()=>{["text"].includes(e)&&o(!0)},_=x=>{x.key==="Enter"&&e!=="textarea"?T():x.key==="Escape"?A():x.key==="Enter"&&x.ctrlKey&&e==="textarea"&&T()},T=()=>{t(c),o(!1)},A=()=>{f(r),o(!1)},C=()=>{T()},V=()=>{if(a&&["text","number"].includes(e))return I.jsx("input",{ref:p,type:e==="number"?"number":"text",value:c,onChange:x=>f(x.target.value),onKeyDown:_,onBlur:C,className:"w-full px-2 py-1 border border-blue-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"});if(a&&e==="textarea")return I.jsx("textarea",{ref:p,value:c,onChange:x=>f(x.target.value),onKeyDown:_,onBlur:C,className:"w-full px-2 py-1 border border-blue-500 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none",rows:3,placeholder:"Enter comment... (Ctrl+Enter to save)"});switch(e){case"dropdown":case"frequency":return I.jsx("div",{onClick:n,className:"w-full px-2 py-1 cursor-pointer hover:bg-gray-100 rounded border border-transparent hover:border-gray-300",children:r||"Select..."});case"date":return I.jsx(Sg,{selected:r?new Date(r):null,onChange:x=>t(x?x.toISOString().split("T")[0]:""),dateFormat:"yyyy-MM-dd",className:"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Select date"});case"text":return I.jsx("div",{onDoubleClick:y,className:"w-full px-2 py-1 cursor-text hover:bg-gray-50 rounded min-h-[24px]",children:r||""});case"number":return I.jsx("div",{onClick:g,className:"w-full px-2 py-1 cursor-pointer hover:bg-blue-50 rounded min-h-[24px] border border-transparent hover:border-blue-200",title:"Click to edit",children:r||I.jsx("span",{className:"text-gray-400",children:"0"})});case"textarea":return I.jsx("div",{onClick:g,className:"w-full px-2 py-1 cursor-pointer hover:bg-blue-50 rounded min-h-[60px] max-h-[100px] overflow-y-auto border border-transparent hover:border-blue-200",title:"Click to edit comment",children:r?I.jsx("div",{className:"whitespace-pre-wrap break-words",children:r}):I.jsx("span",{className:"text-gray-400",children:"Click to add comment..."})});default:return I.jsx("div",{className:"w-full px-2 py-1",children:r||""})}};return I.jsx("div",{className:"relative",children:V()})};var kE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fw=Z.createContext&&Z.createContext(kE),gk=["attr","size","title"];function yk(r,e){if(r==null)return{};var t=vk(r,e),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)n=o[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(t[n]=r[n])}return t}function vk(r,e){if(r==null)return{};var t={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(e.indexOf(n)>=0)continue;t[n]=r[n]}return t}function Hf(){return Hf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Hf.apply(this,arguments)}function hw(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,n)}return t}function Ff(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hw(Object(t),!0).forEach(function(n){_k(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hw(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function _k(r,e,t){return e=bk(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function bk(r){var e=wk(r,"string");return typeof e=="symbol"?e:e+""}function wk(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function IE(r){return r&&r.map((e,t)=>Z.createElement(e.tag,Ff({key:t},e.attr),IE(e.child)))}function fc(r){return e=>Z.createElement(Tk,Hf({attr:Ff({},r.attr)},e),IE(r.child))}function Tk(r){var e=t=>{var{attr:n,size:a,title:o}=r,c=yk(r,gk),f=a||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),Z.createElement("svg",Hf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,c,{className:p,style:Ff(Ff({color:r.color||t.color},t.style),r.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),o&&Z.createElement("title",null,o),r.children)};return fw!==void 0?Z.createElement(fw.Consumer,null,t=>e(t)):e(kE)}function Ek(r){return fc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(r)}function Sk(r){return fc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(r)}function Dk(r){return fc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(r)}function Ak(r){return fc({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function rg(r){return fc({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}const Ck=({options:r,position:e,onSelect:t,onClose:n,allowAddNew:a=!1,fieldType:o=""})=>{const[c,f]=Q.useState(""),[p,g]=Q.useState(!1),[y,_]=Q.useState(""),T=Q.useRef(null),A=Q.useRef(null);Q.useEffect(()=>{A.current&&A.current.focus()},[]),Q.useEffect(()=>{const Y=le=>{T.current&&!T.current.contains(le.target)&&n()},oe=le=>{le.key==="Escape"&&n()};return document.addEventListener("mousedown",Y),document.addEventListener("keydown",oe),()=>{document.removeEventListener("mousedown",Y),document.removeEventListener("keydown",oe)}},[n]);const C=r.filter(Y=>Y.toLowerCase().includes(c.toLowerCase())),V=Y=>{t(Y)},x=()=>{y.trim()&&(["client","allottedTo","teamLeader"].includes(o)?t("ADD_NEW_USER"):t(o==="task"?"ADD_NEW_TASK":o==="subTask"?"ADD_NEW_SUBTASK":y.trim()),_(""),g(!1))},z=Q.useCallback(()=>{["client","allottedTo","teamLeader"].includes(o)?t("ADD_NEW_USER"):o==="task"?t("ADD_NEW_TASK"):o==="subTask"?t("ADD_NEW_SUBTASK"):g(!0)},[o,t]),$=Y=>{Y.key==="Enter"&&p&&x()};return I.jsxs("div",{ref:T,className:"fixed bg-white border border-gray-300 rounded-lg shadow-lg z-50 w-64",style:{left:e.x,top:e.y,maxHeight:"300px"},children:[I.jsx("div",{className:"p-3 border-b border-gray-200",children:I.jsx("input",{ref:A,type:"text",placeholder:"Search or type to filter...",value:c,onChange:Y=>f(Y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})}),I.jsx("div",{className:"max-h-48 overflow-y-auto",children:C.length>0?C.map((Y,oe)=>I.jsx("div",{onClick:()=>V(Y),className:"px-4 py-2 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:Y},oe)):I.jsx("div",{className:"px-4 py-2 text-gray-500 text-sm",children:"No options found"})}),a&&I.jsx("div",{className:"border-t border-gray-200",children:p?I.jsxs("div",{className:"p-3",children:[I.jsx("input",{type:"text",placeholder:"Enter new item name",value:y,onChange:Y=>_(Y.target.value),onKeyDown:$,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 mb-2",autoFocus:!0}),I.jsxs("div",{className:"flex space-x-2",children:[I.jsx("button",{onClick:x,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm",children:"Add"}),I.jsx("button",{onClick:()=>{g(!1),_("")},className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 px-3 py-1 rounded text-sm",children:"Cancel"})]})]}):I.jsxs("div",{onClick:z,className:"px-4 py-2 hover:bg-gray-50 cursor-pointer flex items-center space-x-2 text-blue-600",children:[I.jsx(Dk,{className:"w-3 h-3"}),I.jsx("span",{className:"text-sm",children:["client","allottedTo","teamLeader"].includes(o)?"Add New User":o==="task"?"Add New Task":o==="subTask"?"Add New SubTask":"Add New"})]})})]})},Rk=({position:r,onSelect:e,onClose:t})=>{const[n,a]=Q.useState("None"),[o,c]=Q.useState(null),[f,p]=Q.useState(null),g=Q.useRef(null),y=["Daily","Weekly","Fortnightly","Monthly","Quarterly","Half Yearly","Yearly","None"];Q.useEffect(()=>{const A=V=>{g.current&&!g.current.contains(V.target)&&t()},C=V=>{V.key==="Escape"&&t()};return document.addEventListener("mousedown",A),document.addEventListener("keydown",C),()=>{document.removeEventListener("mousedown",A),document.removeEventListener("keydown",C)}},[t]);const _=()=>{e(n,o,f)},T=()=>{t()};return I.jsxs("div",{ref:g,className:"fixed bg-white border border-gray-300 rounded-lg shadow-xl z-50 w-96",style:{left:Math.max(10,r.x-200),top:r.y+10},children:[I.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:I.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Task Frequency"})}),I.jsx("div",{className:"p-6",children:I.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Frequency:"}),I.jsx("div",{className:"space-y-2",children:y.map(A=>I.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-2 rounded",children:[I.jsx("input",{type:"radio",name:"frequency",value:A,checked:n===A,onChange:C=>a(C.target.value),className:"mr-3 text-blue-600"}),I.jsx("span",{className:"text-sm text-gray-700",children:A})]},A))})]}),I.jsxs("div",{children:[I.jsxs("div",{className:"mb-4",children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date:"}),I.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Set start date"}),I.jsx(Sg,{selected:o,onChange:c,dateFormat:"dd/MM/yyyy",placeholderText:"dd/mm/yyyy",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date:"}),I.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Set end date"}),I.jsx(Sg,{selected:f,onChange:p,dateFormat:"dd/MM/yyyy",placeholderText:"dd/mm/yyyy",minDate:o,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})}),I.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3 bg-gray-50",children:[I.jsx("button",{onClick:_,className:"px-6 py-2 text-sm font-medium text-white bg-blue-500 hover:bg-blue-600 rounded-md transition-colors",children:"Confirm"}),I.jsx("button",{onClick:T,className:"px-6 py-2 text-sm font-medium text-white bg-red-500 hover:bg-red-600 rounded-md transition-colors",children:"Cancel"})]})]})},NE=({isOpen:r,onClose:e,onAdd:t})=>{const[n,a]=Q.useState({name:"",email:"",phone:""}),[o,c]=Q.useState({}),[f,p]=Q.useState(!1),g=()=>{const C={};n.name.trim()?n.name.trim().length<2&&(C.name="Name must be at least 2 characters"):C.name="Name is required";const V=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;n.email.trim()?V.test(n.email)||(C.email="Please enter a valid email address"):C.email="Email is required";const x=/^\d{10}$/;return n.phone.trim()?x.test(n.phone.replace(/\D/g,""))||(C.phone="Phone number must be exactly 10 digits"):C.phone="Phone number is required",c(C),Object.keys(C).length===0},y=(C,V)=>{a(x=>({...x,[C]:V})),o[C]&&c(x=>({...x,[C]:""}))},_=C=>{const V=C.replace(/\D/g,"").slice(0,10);y("phone",V)},T=async C=>{if(C.preventDefault(),!!g()){p(!0);try{await t({name:n.name.trim(),email:n.email.toLowerCase().trim(),phone:n.phone.trim()}),a({name:"",email:"",phone:""}),c({}),e()}catch(V){console.error("Error adding user:",V),c({submit:V.message||"Failed to add user. Please try again."})}finally{p(!1)}}},A=()=>{a({name:"",email:"",phone:""}),c({}),e()};return r?I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[I.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx(rg,{className:"w-5 h-5 text-blue-500"}),I.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add New User"})]}),I.jsx("button",{onClick:A,className:"text-gray-400 hover:text-gray-600 transition-colors",children:I.jsx(Ak,{className:"w-5 h-5"})})]}),I.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),I.jsxs("div",{className:"relative",children:[I.jsx(rg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),I.jsx("input",{type:"text",value:n.name,onChange:C=>y("name",C.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${o.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter full name",disabled:f})]}),o.name&&I.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),I.jsxs("div",{className:"relative",children:[I.jsx(Ek,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),I.jsx("input",{type:"email",value:n.email,onChange:C=>y("email",C.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${o.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address",disabled:f})]}),o.email&&I.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),I.jsxs("div",{className:"relative",children:[I.jsx(Sk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),I.jsx("input",{type:"tel",value:n.phone,onChange:C=>_(C.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${o.phone?"border-red-500":"border-gray-300"}`,placeholder:"Enter 10-digit phone number",disabled:f,maxLength:10})]}),o.phone&&I.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.phone}),I.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter 10 digits only (e.g., 9876543210)"})]}),o.submit&&I.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:I.jsx("p",{className:"text-sm text-red-600",children:o.submit})}),I.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[I.jsx("button",{type:"button",onClick:A,disabled:f,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors disabled:opacity-50",children:"Cancel"}),I.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 text-sm font-medium text-white bg-blue-500 hover:bg-blue-600 rounded-md transition-colors disabled:opacity-50 flex items-center space-x-2",children:f?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),I.jsx("span",{children:"Adding..."})]}):I.jsxs(I.Fragment,{children:[I.jsx(rg,{className:"w-4 h-4"}),I.jsx("span",{children:"Add User"})]})})]})]})]})}):null},xk=({tasks:r,dataManager:e,selectedRows:t,setSelectedRows:n,updateTask:a,addNewTask:o,deleteSelectedTasks:c,onColumnAction:f})=>{const[p,g]=Q.useState({key:null,direction:"asc"}),[y,_]=Q.useState(null),[T,A]=Q.useState({x:0,y:0}),[C,V]=Q.useState({taskId:null,field:null}),[x,z]=Q.useState(new Set),[$,Y]=Q.useState(!1),[oe,le]=Q.useState(""),[he,N]=Q.useState(new Set),D=Q.useRef(null),[R,M]=Q.useState(window.innerWidth);Q.useEffect(()=>{const re=()=>M(window.innerWidth);return window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]);const P=re=>{const de={client:120,task:150,subTask:150,estimatedTime:80,allottedTo:140,teamLeader:140,priority:100,dueDate:120,frequency:120,comment:200,status:120,timeTaken:80},_e=R<1200?.8:R<1600?.9:1;return Math.floor(de[re]*_e)},U=[{key:"client",label:"Client",type:"dropdown",width:P("client")},{key:"task",label:"Task",type:"dropdown",width:P("task")},{key:"subTask",label:"Sub Task",type:"dropdown",width:P("subTask")},{key:"estimatedTime",label:"ET",type:"number",width:P("estimatedTime")},{key:"allottedTo",label:"Allotted To",type:"dropdown",width:P("allottedTo")},{key:"teamLeader",label:"Team Leader",type:"dropdown",width:P("teamLeader")},{key:"priority",label:"Priority",type:"dropdown",width:P("priority")},{key:"dueDate",label:"Due Date",type:"date",width:P("dueDate")},{key:"frequency",label:"Frequency",type:"frequency",width:P("frequency")},{key:"comment",label:"Comment",type:"textarea",width:P("comment")},{key:"status",label:"Status",type:"dropdown",width:P("status")},{key:"timeTaken",label:"Time Taken",type:"number",width:P("timeTaken")}],k=Q.useMemo(()=>["Low","Medium","High","Critical"],[]),Me=Q.useMemo(()=>["Todo","In Progress","Completed","Archived"],[]),Te=Q.useCallback(re=>{n(de=>de.includes(re)?de.filter(_e=>_e!==re):[...de,re])},[n]),H=Q.useCallback(()=>{n(t.length===r.length?[]:r.map(re=>re.id))},[n,t,r]),ne=Q.useCallback((re,de,_e)=>{re.preventDefault(),re.stopPropagation();const it=re.currentTarget.getBoundingClientRect();A({x:it.left,y:it.bottom+5}),V({taskId:de,field:_e}),["client","task","subTask","allottedTo","teamLeader","priority","status"].includes(_e)?_("dropdown"):_e==="frequency"&&_("frequency")},[]),ue=Q.useCallback(re=>{if(!e)return[];switch(re){case"client":case"allottedTo":case"teamLeader":return e.data.users.map(de=>de.name||de);case"task":return e.data.taskTemplates.map(de=>de.name);case"subTask":return e.data.subtaskTemplates.map(de=>de.name);case"priority":return k;case"status":return Me;default:return[]}},[e,k,Me]),Se=Q.useCallback(re=>{if(["client","allottedTo","teamLeader"].includes(C.field)&&re==="ADD_NEW_USER"){_("addUser");return}if(C.field==="task"&&re==="ADD_NEW_TASK"){_("addTask");return}if(C.field==="subTask"&&re==="ADD_NEW_SUBTASK"){_("addSubTask");return}C.taskId&&C.field&&a(C.taskId,C.field,re),_(null),V({taskId:null,field:null})},[C,a]),L=Q.useCallback(re=>{C.taskId&&a(C.taskId,"frequency",re),_(null),V({taskId:null,field:null})},[C,a]),ee=Q.useMemo(()=>{let re=[...r];return p.key&&re.sort((de,_e)=>de[p.key]<_e[p.key]?p.direction==="asc"?-1:1:de[p.key]>_e[p.key]?p.direction==="asc"?1:-1:0),re},[r,p]),pe=Q.useCallback(re=>{g(de=>({key:re,direction:de.key===re&&de.direction==="asc"?"desc":"asc"}))},[]),ce=Q.useCallback(async re=>{z(de=>new Set([...de,re]));try{e!=null&&e.refresh&&(["client","allottedTo","teamLeader"].includes(re)?await e.refresh("users"):re==="task"?await e.refresh("taskTemplates"):re==="subTask"&&await e.refresh("subtaskTemplates")),setTimeout(()=>{z(de=>{const _e=new Set(de);return _e.delete(re),_e})},1e3)}catch(de){console.error("Error refreshing data:",de),z(_e=>{const it=new Set(_e);return it.delete(re),it})}},[e]),De=Q.useCallback(re=>{le(re),Y(!0)},[]),Le=Q.useCallback((re,de)=>{if(!r||r.length===0)return 0;const _e=re.name||re;let it=0;return r.forEach(ct=>{de==="user"?(ct.client===_e||ct.allottedTo===_e||ct.teamLeader===_e)&&it++:de==="task template"?ct.task===_e&&it++:de==="subtask template"&&ct.subTask===_e&&it++}),it},[r]),ke=Q.useCallback(async(re,de)=>{const _e=re.name||re,it=Le(re,de);if(it>0){const ct=`"${_e}" is currently used in ${it} task${it>1?"s":""}.

Deleting this ${de} will remove it from all tasks where it's used.

Are you sure you want to continue?`;if(!window.confirm(ct))return}else if(!window.confirm(`Are you sure you want to delete "${_e}"?`))return;N(ct=>new Set([...ct,re.id]));try{de==="user"?await e.userOperations.delete(re.id):de==="task template"?await e.taskTemplateOperations.delete(re.id):de==="subtask template"&&await e.subtaskTemplateOperations.delete(re.id),alert(`${_e} has been deleted successfully!`)}catch(ct){console.error("Error deleting item:",ct),alert(`Failed to delete ${_e}. Please try again.`)}finally{N(ct=>{const wr=new Set(ct);return wr.delete(re.id),wr})}},[e,Le]);return I.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[I.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-gray-50",children:[I.jsxs("div",{className:"flex space-x-2",children:[I.jsxs("button",{className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center space-x-2",disabled:t.length===0,onClick:()=>t.length>0&&c(),children:[I.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[I.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z",clipRule:"evenodd"}),I.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})]}),I.jsxs("span",{children:["Delete Selected (",t.length,")"]})]}),I.jsxs("button",{className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center space-x-2",children:[I.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:I.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),I.jsx("span",{children:"Export"})]})]}),I.jsxs("div",{className:"flex space-x-2",children:[I.jsx("button",{className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Copy End Report"}),I.jsx("button",{onClick:o,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium",children:"Add Task"}),I.jsx("button",{className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium",children:"End Day"})]})]}),I.jsx("div",{className:"overflow-x-auto",ref:D,children:I.jsxs("table",{className:"w-full",children:[I.jsxs("thead",{className:"bg-gray-800 text-white",children:[I.jsxs("tr",{className:"bg-gray-700",children:[I.jsx("th",{className:"px-3 py-2 w-12"}),I.jsx("th",{className:"px-3 py-2 w-12"}),U.map(re=>I.jsx("th",{className:"px-3 py-2 text-center",style:{width:`${re.width}px`,minWidth:`${re.width}px`,maxWidth:`${re.width}px`},children:["client","task","subTask","allottedTo","teamLeader","status"].includes(re.key)&&I.jsxs("div",{className:"flex justify-center space-x-1",children:[I.jsx("button",{onClick:de=>{de.stopPropagation(),f&&f("add",re.key)},className:"p-1 text-green-400 hover:text-green-200 hover:bg-green-600 rounded",title:`Add ${re.label}`,children:I.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:I.jsx("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})}),I.jsx("button",{onClick:de=>{de.stopPropagation(),ce(re.key)},className:"p-1 text-blue-400 hover:text-blue-200 hover:bg-blue-600 rounded",title:`Refresh ${re.label}`,disabled:x.has(re.key),children:I.jsx("svg",{className:`w-3 h-3 ${x.has(re.key)?"animate-spin":""}`,fill:"currentColor",viewBox:"0 0 20 20",children:I.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})})}),I.jsx("button",{onClick:de=>{de.stopPropagation(),De(re.key)},className:"p-1 text-red-400 hover:text-red-200 hover:bg-red-600 rounded",title:`Delete ${re.label}`,children:I.jsxs("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:[I.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z",clipRule:"evenodd"}),I.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})]})})]})},`${re.key}-actions`))]}),I.jsxs("tr",{children:[I.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider w-12",children:I.jsx("input",{type:"checkbox",checked:t.length===r.length&&r.length>0,onChange:H,className:"rounded border-gray-300"})}),I.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider w-12",children:"ID"}),U.map(re=>I.jsx("th",{className:"px-3 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer hover:bg-gray-700",style:{width:`${re.width}px`,minWidth:`${re.width}px`,maxWidth:`${re.width}px`},onClick:()=>pe(re.key),children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsx("span",{className:"truncate",children:re.label}),I.jsx("svg",{className:"w-3 h-3 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:I.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})},re.key))]})]}),I.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ee.map((re,de)=>I.jsxs("tr",{className:`hover:bg-gray-50 ${t.includes(re.id)?"bg-blue-50":""}`,children:[I.jsx("td",{className:"px-4 py-3",children:I.jsx("input",{type:"checkbox",checked:t.includes(re.id),onChange:()=>Te(re.id),className:"rounded border-gray-300"})}),I.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:de+1}),U.map(_e=>I.jsx("td",{className:"px-3 py-3",style:{width:`${_e.width}px`,minWidth:`${_e.width}px`,maxWidth:`${_e.width}px`},children:I.jsx("div",{className:"truncate",children:I.jsx(mk,{value:re[_e.key],type:_e.type,onChange:it=>a(re.id,_e.key,it),onClick:it=>ne(it,re.id,_e.key)})})},_e.key))]},re.id))})]})}),y==="dropdown"&&I.jsx(Ck,{options:ue(C.field),position:T,onSelect:Se,onClose:()=>_(null),allowAddNew:["client","task","subTask","allottedTo","teamLeader"].includes(C.field),fieldType:C.field}),y==="frequency"&&I.jsx(Rk,{position:T,onSelect:L,onClose:()=>_(null)}),y==="addUser"&&e&&I.jsx(NE,{isOpen:!0,onClose:()=>{_(null),V({taskId:null,field:null})},onAdd:async re=>{try{await e.userOperations.add(re),C.taskId&&C.field&&a(C.taskId,C.field,re.name),_(null),V({taskId:null,field:null})}catch(de){console.error("Error adding user:",de),alert("Failed to add user. Please try again.")}}}),y==="addTask"&&e&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[I.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Task Template"}),I.jsx("input",{type:"text",placeholder:"Enter task name",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-4",onKeyDown:async re=>{if(re.key==="Enter"&&re.target.value.trim()){const de=re.target.value.trim();try{await e.taskTemplateOperations.add({name:de}),C.taskId&&C.field&&a(C.taskId,C.field,de),_(null),V({taskId:null,field:null})}catch(_e){console.error("Error adding task template:",_e),alert("Failed to add task template. Please try again.")}}},autoFocus:!0}),I.jsx("div",{className:"flex justify-end space-x-2",children:I.jsx("button",{onClick:()=>{_(null),V({taskId:null,field:null})},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})})]})}),y==="addSubTask"&&e&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[I.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add SubTask Template"}),I.jsx("input",{type:"text",placeholder:"Enter subtask name",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-4",onKeyDown:async re=>{if(re.key==="Enter"&&re.target.value.trim()){const de=re.target.value.trim();try{await e.subtaskTemplateOperations.add({name:de}),C.taskId&&C.field&&a(C.taskId,C.field,de),_(null),V({taskId:null,field:null})}catch(_e){console.error("Error adding subtask template:",_e),alert("Failed to add subtask template. Please try again.")}}},autoFocus:!0}),I.jsx("div",{className:"flex justify-end space-x-2",children:I.jsx("button",{onClick:()=>{_(null),V({taskId:null,field:null})},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})})]})}),y==="addClient"&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[I.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Client"}),I.jsx("p",{className:"text-gray-600 mb-4",children:"Client management coming soon..."}),I.jsx("div",{className:"flex justify-end space-x-2",children:I.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Close"})})]})}),$&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-lg p-6 w-[800px] max-h-[80vh] overflow-hidden",children:[I.jsxs("div",{className:"flex justify-between items-center mb-4",children:[I.jsxs("h3",{className:"text-lg font-semibold",children:["Delete ",oe==="client"?"Users":oe==="task"?"Task Templates":oe==="subTask"?"SubTask Templates":oe==="allottedTo"||oe==="teamLeader"?"Users":"Items"]}),I.jsx("button",{onClick:()=>Y(!1),className:"text-gray-400 hover:text-gray-600",children:I.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),I.jsx("div",{className:"max-h-[400px] overflow-y-auto border rounded-lg",children:(()=>{let re=[],de="";return["client","allottedTo","teamLeader"].includes(oe)?(re=(e==null?void 0:e.data.users)||[],de="user"):oe==="task"?(re=(e==null?void 0:e.data.taskTemplates)||[],de="task template"):oe==="subTask"&&(re=(e==null?void 0:e.data.subtaskTemplates)||[],de="subtask template"),re.length===0?I.jsxs("div",{className:"p-8 text-center text-gray-500",children:[I.jsx("svg",{className:"w-12 h-12 mx-auto mb-4 text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:I.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-4m-12 0H4m8 0V9m0 4v6m0-6h4m-4 0H8"})}),I.jsxs("p",{className:"text-lg font-medium",children:["No ",de,"s found"]}),I.jsxs("p",{className:"text-sm mt-1",children:["There are no ",de,"s to delete"]})]}):I.jsx("div",{className:"divide-y divide-gray-200",children:re.map((_e,it)=>I.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[I.jsx("div",{className:"flex-1",children:I.jsxs("div",{className:"flex items-center space-x-3",children:[I.jsx("div",{className:"flex-shrink-0",children:I.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:I.jsx("span",{className:"text-sm font-medium text-blue-600",children:(_e.name||_e).charAt(0).toUpperCase()})})}),I.jsxs("div",{className:"flex-1 min-w-0",children:[I.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:_e.name||_e}),_e.email&&I.jsx("p",{className:"text-sm text-gray-500 truncate",children:_e.email}),_e.phone&&I.jsx("p",{className:"text-sm text-gray-500",children:_e.phone})]})]})}),I.jsxs("div",{className:"flex items-center space-x-2",children:[(()=>{const ct=Le(_e,de);return I.jsx("span",{className:`text-xs px-2 py-1 rounded ${ct>0?"text-orange-700 bg-orange-100":"text-gray-500 bg-gray-100"}`,children:ct>0?`Used in ${ct} task${ct>1?"s":""}`:"Not used"})})(),I.jsx("button",{onClick:()=>ke(_e,de),disabled:he.has(_e.id),className:`p-2 rounded-full transition-colors ${he.has(_e.id)?"text-gray-400 bg-gray-100 cursor-not-allowed":"text-red-600 hover:text-red-800 hover:bg-red-100"}`,title:he.has(_e.id)?"Deleting...":"Delete this item",children:he.has(_e.id)?I.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"currentColor",viewBox:"0 0 20 20",children:I.jsx("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"})}):I.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:[I.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z",clipRule:"evenodd"}),I.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})]})})]})]},_e.id||it))})})()})]})})]})},kk=r=>{Q.useEffect(()=>{const e=t=>{const n=[];t.ctrlKey&&n.push("ctrl"),t.shiftKey&&n.push("shift"),t.altKey&&n.push("alt"),t.metaKey&&n.push("meta");const a=t.key.toLowerCase();["control","shift","alt","meta"].includes(a)||n.push(a);const o=n.join("+");r[o]&&(t.preventDefault(),r[o]())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[r])},Ik=()=>{};var pw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},Nk=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const a=r[t++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const o=r[t++];e[n++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=r[t++],c=r[t++],f=r[t++],p=((a&7)<<18|(o&63)<<12|(c&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const o=r[t++],c=r[t++];e[n++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return e.join("")},OE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<r.length;a+=3){const o=r[a],c=a+1<r.length,f=c?r[a+1]:0,p=a+2<r.length,g=p?r[a+2]:0,y=o>>2,_=(o&3)<<4|f>>4;let T=(f&15)<<2|g>>6,A=g&63;p||(A=64,c||(T=64)),n.push(t[y],t[_],t[T],t[A])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ME(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Nk(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<r.length;){const o=t[r.charAt(a++)],f=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const _=a<r.length?t[r.charAt(a)]:64;if(++a,o==null||f==null||g==null||_==null)throw new Mk;const T=o<<2|f>>4;if(n.push(T),g!==64){const A=f<<4&240|g>>2;if(n.push(A),_!==64){const C=g<<6&192|_;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Mk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ok=function(r){const e=ME(r);return OE.encodeByteArray(e,!0)},Yf=function(r){return Ok(r).replace(/\./g,"")},PE=function(r){try{return OE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=()=>Pk().__FIREBASE_DEFAULTS__,Vk=()=>{if(typeof process>"u"||typeof pw>"u")return;const r=pw.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Uk=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&PE(r[1]);return e&&JSON.parse(e)},yh=()=>{try{return Ik()||Lk()||Vk()||Uk()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},LE=r=>{var e,t;return(t=(e=yh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},jk=r=>{const e=LE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},VE=()=>{var r;return(r=yh())===null||r===void 0?void 0:r.config},UE=r=>{var e;return(e=yh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(r){return r.endsWith(".cloudworkstations.dev")}async function jE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",a=r.iat||0,o=r.sub||r.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Yf(JSON.stringify(t)),Yf(JSON.stringify(c)),""].join(".")}const Yu={};function Hk(){const r={prod:[],emulator:[]};for(const e of Object.keys(Yu))Yu[e]?r.emulator.push(e):r.prod.push(e);return r}function Fk(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let mw=!1;function BE(r,e){if(typeof window>"u"||typeof document>"u"||!hc(window.location.host)||Yu[r]===e||Yu[r]||mw)return;Yu[r]=e;function t(T){return`__firebase__banner__${T}`}const n="__firebase__banner",o=Hk().prod.length>0;function c(){const T=document.getElementById(n);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{mw=!0,c()},T}function y(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=Fk(n),A=t("text"),C=document.getElementById(A)||document.createElement("span"),V=t("learnmore"),x=document.getElementById(V)||document.createElement("a"),z=t("preprendIcon"),$=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;f(Y),y(x,V);const oe=g();p($,z),Y.append($,C,x,oe),document.body.appendChild(Y)}o?(C.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function qk(){var r;const e=(r=yh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qk(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Kk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wk(){const r=bn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Xk(){return!qk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $k(){try{return typeof indexedDB=="object"}catch{return!1}}function Zk(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="FirebaseError";class ji extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=Jk,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},a=`${this.service}/${e}`,o=this.errors[e],c=o?eI(o,n):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new ji(a,f,n)}}function eI(r,e){return r.replace(tI,(t,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const tI=/\{\$([^}]+)}/g;function nI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Vs(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const a of t){if(!n.includes(a))return!1;const o=r[a],c=e[a];if(gw(o)&&gw(c)){if(!Vs(o,c))return!1}else if(o!==c)return!1}for(const a of n)if(!t.includes(a))return!1;return!0}function gw(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function rI(r,e){const t=new iI(r,e);return t.subscribe.bind(t)}class iI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let a;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");aI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:n},a.next===void 0&&(a.next=ig),a.error===void 0&&(a.error=ig),a.complete===void 0&&(a.complete=ig);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function ig(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(r){return r&&r._delegate?r._delegate:r}class Us{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new Bk;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lI(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:a});n.resolve(o)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);n===f&&c.resolve(a)}return a}onInit(e,t){var n;const a=this.normalizeInstanceIdentifier(t),o=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:oI(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oI(r){return r===As?void 0:r}function lI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ye||(Ye={}));const cI={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},dI=Ye.INFO,fI={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},hI=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),a=fI[e];if(a)console[a](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class my{constructor(e){this.name=e,this._logLevel=dI,this._logHandler=hI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const pI=(r,e)=>e.some(t=>r instanceof t);let yw,vw;function mI(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gI(){return vw||(vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zE=new WeakMap,Dg=new WeakMap,HE=new WeakMap,ag=new WeakMap,gy=new WeakMap;function yI(r){const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("success",o),r.removeEventListener("error",c)},o=()=>{t(Sa(r.result)),a()},c=()=>{n(r.error),a()};r.addEventListener("success",o),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&zE.set(t,r)}).catch(()=>{}),gy.set(e,r),e}function vI(r){if(Dg.has(r))return;const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",c),r.removeEventListener("abort",c)},o=()=>{t(),a()},c=()=>{n(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",o),r.addEventListener("error",c),r.addEventListener("abort",c)});Dg.set(r,e)}let Ag={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Dg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||HE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Sa(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _I(r){Ag=r(Ag)}function bI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(sg(this),e,...t);return HE.set(n,e.sort?e.sort():[e]),Sa(n)}:gI().includes(r)?function(...e){return r.apply(sg(this),e),Sa(zE.get(this))}:function(...e){return Sa(r.apply(sg(this),e))}}function wI(r){return typeof r=="function"?bI(r):(r instanceof IDBTransaction&&vI(r),pI(r,mI())?new Proxy(r,Ag):r)}function Sa(r){if(r instanceof IDBRequest)return yI(r);if(ag.has(r))return ag.get(r);const e=wI(r);return e!==r&&(ag.set(r,e),gy.set(e,r)),e}const sg=r=>gy.get(r);function TI(r,e,{blocked:t,upgrade:n,blocking:a,terminated:o}={}){const c=indexedDB.open(r,e),f=Sa(c);return n&&c.addEventListener("upgradeneeded",p=>{n(Sa(c.result),p.oldVersion,p.newVersion,Sa(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{o&&p.addEventListener("close",()=>o()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const EI=["get","getKey","getAll","getAllKeys","count"],SI=["put","add","delete","clear"],og=new Map;function _w(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(og.get(e))return og.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,a=SI.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(a||EI.includes(t)))return;const o=async function(c,...f){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return n&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),a&&p.done]))[0]};return og.set(e,o),o}_I(r=>({...r,get:(e,t,n)=>_w(e,t)||r.get(e,t,n),has:(e,t)=>!!_w(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AI(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function AI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cg="@firebase/app",bw="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new my("@firebase/app"),CI="@firebase/app-compat",RI="@firebase/analytics-compat",xI="@firebase/analytics",kI="@firebase/app-check-compat",II="@firebase/app-check",NI="@firebase/auth",MI="@firebase/auth-compat",OI="@firebase/database",PI="@firebase/data-connect",LI="@firebase/database-compat",VI="@firebase/functions",UI="@firebase/functions-compat",jI="@firebase/installations",BI="@firebase/installations-compat",zI="@firebase/messaging",HI="@firebase/messaging-compat",FI="@firebase/performance",YI="@firebase/performance-compat",qI="@firebase/remote-config",GI="@firebase/remote-config-compat",QI="@firebase/storage",KI="@firebase/storage-compat",WI="@firebase/firestore",XI="@firebase/ai",$I="@firebase/firestore-compat",ZI="firebase",JI="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="[DEFAULT]",eN={[Cg]:"fire-core",[CI]:"fire-core-compat",[xI]:"fire-analytics",[RI]:"fire-analytics-compat",[II]:"fire-app-check",[kI]:"fire-app-check-compat",[NI]:"fire-auth",[MI]:"fire-auth-compat",[OI]:"fire-rtdb",[PI]:"fire-data-connect",[LI]:"fire-rtdb-compat",[VI]:"fire-fn",[UI]:"fire-fn-compat",[jI]:"fire-iid",[BI]:"fire-iid-compat",[zI]:"fire-fcm",[HI]:"fire-fcm-compat",[FI]:"fire-perf",[YI]:"fire-perf-compat",[qI]:"fire-rc",[GI]:"fire-rc-compat",[QI]:"fire-gcs",[KI]:"fire-gcs-compat",[WI]:"fire-fst",[$I]:"fire-fst-compat",[XI]:"fire-vertex","fire-js":"fire-js",[ZI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Map,tN=new Map,xg=new Map;function ww(r,e){try{r.container.addComponent(e)}catch(t){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function al(r){const e=r.name;if(xg.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;xg.set(e,r);for(const t of qf.values())ww(t,r);for(const t of tN.values())ww(t,r);return!0}function yy(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Fr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new pc("app","Firebase",nN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=JI;function FE(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Rg,automaticDataCollectionEnabled:!0},e),a=n.name;if(typeof a!="string"||!a)throw Da.create("bad-app-name",{appName:String(a)});if(t||(t=VE()),!t)throw Da.create("no-options");const o=qf.get(a);if(o){if(Vs(t,o.options)&&Vs(n,o.config))return o;throw Da.create("duplicate-app",{appName:a})}const c=new uI(a);for(const p of xg.values())c.addComponent(p);const f=new rN(t,n,c);return qf.set(a,f),f}function YE(r=Rg){const e=qf.get(r);if(!e&&r===Rg&&VE())return FE();if(!e)throw Da.create("no-app",{appName:r});return e}function Aa(r,e,t){var n;let a=(n=eN[r])!==null&&n!==void 0?n:r;t&&(a+=`-${t}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(f.join(" "));return}al(new Us(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="firebase-heartbeat-database",aN=1,Zu="firebase-heartbeat-store";let lg=null;function qE(){return lg||(lg=TI(iN,aN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Da.create("idb-open",{originalErrorMessage:r.message})})),lg}async function sN(r){try{const t=(await qE()).transaction(Zu),n=await t.objectStore(Zu).get(GE(r));return await t.done,n}catch(e){if(e instanceof ji)Mi.warn(e.message);else{const t=Da.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(t.message)}}}async function Tw(r,e){try{const n=(await qE()).transaction(Zu,"readwrite");await n.objectStore(Zu).put(e,GE(r)),await n.done}catch(t){if(t instanceof ji)Mi.warn(t.message);else{const n=Da.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(n.message)}}}function GE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=1024,lN=30;class uN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dN(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Ew();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>lN){const c=fN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Mi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ew(),{heartbeatsToSend:n,unsentEntries:a}=cN(this._heartbeatsCache.heartbeats),o=Yf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Mi.warn(t),""}}}function Ew(){return new Date().toISOString().substring(0,10)}function cN(r,e=oN){const t=[];let n=r.slice();for(const a of r){const o=t.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),Sw(t)>e){o.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Sw(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class dN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $k()?Zk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Sw(r){return Yf(JSON.stringify({version:2,heartbeats:r})).length}function fN(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(r){al(new Us("platform-logger",e=>new DI(e),"PRIVATE")),al(new Us("heartbeat",e=>new uN(e),"PRIVATE")),Aa(Cg,bw,r),Aa(Cg,bw,"esm2017"),Aa("fire-js","")}hN("");var Dw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ca,QE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,D){function R(){}R.prototype=D.prototype,N.D=D.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(M,P,U){for(var k=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)k[Me-2]=arguments[Me];return D.prototype[P].apply(M,k)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,D,R){R||(R=0);var M=Array(16);if(typeof D=="string")for(var P=0;16>P;++P)M[P]=D.charCodeAt(R++)|D.charCodeAt(R++)<<8|D.charCodeAt(R++)<<16|D.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=D[R++]|D[R++]<<8|D[R++]<<16|D[R++]<<24;D=N.g[0],R=N.g[1],P=N.g[2];var U=N.g[3],k=D+(U^R&(P^U))+M[0]+3614090360&4294967295;D=R+(k<<7&4294967295|k>>>25),k=U+(P^D&(R^P))+M[1]+3905402710&4294967295,U=D+(k<<12&4294967295|k>>>20),k=P+(R^U&(D^R))+M[2]+606105819&4294967295,P=U+(k<<17&4294967295|k>>>15),k=R+(D^P&(U^D))+M[3]+3250441966&4294967295,R=P+(k<<22&4294967295|k>>>10),k=D+(U^R&(P^U))+M[4]+4118548399&4294967295,D=R+(k<<7&4294967295|k>>>25),k=U+(P^D&(R^P))+M[5]+1200080426&4294967295,U=D+(k<<12&4294967295|k>>>20),k=P+(R^U&(D^R))+M[6]+2821735955&4294967295,P=U+(k<<17&4294967295|k>>>15),k=R+(D^P&(U^D))+M[7]+4249261313&4294967295,R=P+(k<<22&4294967295|k>>>10),k=D+(U^R&(P^U))+M[8]+1770035416&4294967295,D=R+(k<<7&4294967295|k>>>25),k=U+(P^D&(R^P))+M[9]+2336552879&4294967295,U=D+(k<<12&4294967295|k>>>20),k=P+(R^U&(D^R))+M[10]+4294925233&4294967295,P=U+(k<<17&4294967295|k>>>15),k=R+(D^P&(U^D))+M[11]+2304563134&4294967295,R=P+(k<<22&4294967295|k>>>10),k=D+(U^R&(P^U))+M[12]+1804603682&4294967295,D=R+(k<<7&4294967295|k>>>25),k=U+(P^D&(R^P))+M[13]+4254626195&4294967295,U=D+(k<<12&4294967295|k>>>20),k=P+(R^U&(D^R))+M[14]+2792965006&4294967295,P=U+(k<<17&4294967295|k>>>15),k=R+(D^P&(U^D))+M[15]+1236535329&4294967295,R=P+(k<<22&4294967295|k>>>10),k=D+(P^U&(R^P))+M[1]+4129170786&4294967295,D=R+(k<<5&4294967295|k>>>27),k=U+(R^P&(D^R))+M[6]+3225465664&4294967295,U=D+(k<<9&4294967295|k>>>23),k=P+(D^R&(U^D))+M[11]+643717713&4294967295,P=U+(k<<14&4294967295|k>>>18),k=R+(U^D&(P^U))+M[0]+3921069994&4294967295,R=P+(k<<20&4294967295|k>>>12),k=D+(P^U&(R^P))+M[5]+3593408605&4294967295,D=R+(k<<5&4294967295|k>>>27),k=U+(R^P&(D^R))+M[10]+38016083&4294967295,U=D+(k<<9&4294967295|k>>>23),k=P+(D^R&(U^D))+M[15]+3634488961&4294967295,P=U+(k<<14&4294967295|k>>>18),k=R+(U^D&(P^U))+M[4]+3889429448&4294967295,R=P+(k<<20&4294967295|k>>>12),k=D+(P^U&(R^P))+M[9]+568446438&4294967295,D=R+(k<<5&4294967295|k>>>27),k=U+(R^P&(D^R))+M[14]+3275163606&4294967295,U=D+(k<<9&4294967295|k>>>23),k=P+(D^R&(U^D))+M[3]+4107603335&4294967295,P=U+(k<<14&4294967295|k>>>18),k=R+(U^D&(P^U))+M[8]+1163531501&4294967295,R=P+(k<<20&4294967295|k>>>12),k=D+(P^U&(R^P))+M[13]+2850285829&4294967295,D=R+(k<<5&4294967295|k>>>27),k=U+(R^P&(D^R))+M[2]+4243563512&4294967295,U=D+(k<<9&4294967295|k>>>23),k=P+(D^R&(U^D))+M[7]+1735328473&4294967295,P=U+(k<<14&4294967295|k>>>18),k=R+(U^D&(P^U))+M[12]+2368359562&4294967295,R=P+(k<<20&4294967295|k>>>12),k=D+(R^P^U)+M[5]+4294588738&4294967295,D=R+(k<<4&4294967295|k>>>28),k=U+(D^R^P)+M[8]+2272392833&4294967295,U=D+(k<<11&4294967295|k>>>21),k=P+(U^D^R)+M[11]+1839030562&4294967295,P=U+(k<<16&4294967295|k>>>16),k=R+(P^U^D)+M[14]+4259657740&4294967295,R=P+(k<<23&4294967295|k>>>9),k=D+(R^P^U)+M[1]+2763975236&4294967295,D=R+(k<<4&4294967295|k>>>28),k=U+(D^R^P)+M[4]+1272893353&4294967295,U=D+(k<<11&4294967295|k>>>21),k=P+(U^D^R)+M[7]+4139469664&4294967295,P=U+(k<<16&4294967295|k>>>16),k=R+(P^U^D)+M[10]+3200236656&4294967295,R=P+(k<<23&4294967295|k>>>9),k=D+(R^P^U)+M[13]+681279174&4294967295,D=R+(k<<4&4294967295|k>>>28),k=U+(D^R^P)+M[0]+3936430074&4294967295,U=D+(k<<11&4294967295|k>>>21),k=P+(U^D^R)+M[3]+3572445317&4294967295,P=U+(k<<16&4294967295|k>>>16),k=R+(P^U^D)+M[6]+76029189&4294967295,R=P+(k<<23&4294967295|k>>>9),k=D+(R^P^U)+M[9]+3654602809&4294967295,D=R+(k<<4&4294967295|k>>>28),k=U+(D^R^P)+M[12]+3873151461&4294967295,U=D+(k<<11&4294967295|k>>>21),k=P+(U^D^R)+M[15]+530742520&4294967295,P=U+(k<<16&4294967295|k>>>16),k=R+(P^U^D)+M[2]+3299628645&4294967295,R=P+(k<<23&4294967295|k>>>9),k=D+(P^(R|~U))+M[0]+4096336452&4294967295,D=R+(k<<6&4294967295|k>>>26),k=U+(R^(D|~P))+M[7]+1126891415&4294967295,U=D+(k<<10&4294967295|k>>>22),k=P+(D^(U|~R))+M[14]+2878612391&4294967295,P=U+(k<<15&4294967295|k>>>17),k=R+(U^(P|~D))+M[5]+4237533241&4294967295,R=P+(k<<21&4294967295|k>>>11),k=D+(P^(R|~U))+M[12]+1700485571&4294967295,D=R+(k<<6&4294967295|k>>>26),k=U+(R^(D|~P))+M[3]+2399980690&4294967295,U=D+(k<<10&4294967295|k>>>22),k=P+(D^(U|~R))+M[10]+4293915773&4294967295,P=U+(k<<15&4294967295|k>>>17),k=R+(U^(P|~D))+M[1]+2240044497&4294967295,R=P+(k<<21&4294967295|k>>>11),k=D+(P^(R|~U))+M[8]+1873313359&4294967295,D=R+(k<<6&4294967295|k>>>26),k=U+(R^(D|~P))+M[15]+4264355552&4294967295,U=D+(k<<10&4294967295|k>>>22),k=P+(D^(U|~R))+M[6]+2734768916&4294967295,P=U+(k<<15&4294967295|k>>>17),k=R+(U^(P|~D))+M[13]+1309151649&4294967295,R=P+(k<<21&4294967295|k>>>11),k=D+(P^(R|~U))+M[4]+4149444226&4294967295,D=R+(k<<6&4294967295|k>>>26),k=U+(R^(D|~P))+M[11]+3174756917&4294967295,U=D+(k<<10&4294967295|k>>>22),k=P+(D^(U|~R))+M[2]+718787259&4294967295,P=U+(k<<15&4294967295|k>>>17),k=R+(U^(P|~D))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+D&4294967295,N.g[1]=N.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+U&4294967295}n.prototype.u=function(N,D){D===void 0&&(D=N.length);for(var R=D-this.blockSize,M=this.B,P=this.h,U=0;U<D;){if(P==0)for(;U<=R;)a(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<D;)if(M[P++]=N.charCodeAt(U++),P==this.blockSize){a(this,M),P=0;break}}else for(;U<D;)if(M[P++]=N[U++],P==this.blockSize){a(this,M),P=0;break}}this.h=P,this.o+=D},n.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var D=1;D<N.length-8;++D)N[D]=0;var R=8*this.o;for(D=N.length-8;D<N.length;++D)N[D]=R&255,R/=256;for(this.u(N),N=Array(16),D=R=0;4>D;++D)for(var M=0;32>M;M+=8)N[R++]=this.g[D]>>>M&255;return N};function o(N,D){var R=f;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=D(N)}function c(N,D){this.h=D;for(var R=[],M=!0,P=N.length-1;0<=P;P--){var U=N[P]|0;M&&U==D||(R[P]=U,M=!1)}this.g=R}var f={};function p(N){return-128<=N&&128>N?o(N,function(D){return new c([D|0],0>D?-1:0)}):new c([N|0],0>N?-1:0)}function g(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return x(g(-N));for(var D=[],R=1,M=0;N>=R;M++)D[M]=N/R|0,R*=4294967296;return new c(D,0)}function y(N,D){if(N.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(N.charAt(0)=="-")return x(y(N.substring(1),D));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(D,8)),M=_,P=0;P<N.length;P+=8){var U=Math.min(8,N.length-P),k=parseInt(N.substring(P,P+U),D);8>U?(U=g(Math.pow(D,U)),M=M.j(U).add(g(k))):(M=M.j(R),M=M.add(g(k)))}return M}var _=p(0),T=p(1),A=p(16777216);r=c.prototype,r.m=function(){if(V(this))return-x(this).m();for(var N=0,D=1,R=0;R<this.g.length;R++){var M=this.i(R);N+=(0<=M?M:4294967296+M)*D,D*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(C(this))return"0";if(V(this))return"-"+x(this).toString(N);for(var D=g(Math.pow(N,6)),R=this,M="";;){var P=oe(R,D).g;R=z(R,P.j(D));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=P,C(R))return U+M;for(;6>U.length;)U="0"+U;M=U+M}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function C(N){if(N.h!=0)return!1;for(var D=0;D<N.g.length;D++)if(N.g[D]!=0)return!1;return!0}function V(N){return N.h==-1}r.l=function(N){return N=z(this,N),V(N)?-1:C(N)?0:1};function x(N){for(var D=N.g.length,R=[],M=0;M<D;M++)R[M]=~N.g[M];return new c(R,~N.h).add(T)}r.abs=function(){return V(this)?x(this):this},r.add=function(N){for(var D=Math.max(this.g.length,N.g.length),R=[],M=0,P=0;P<=D;P++){var U=M+(this.i(P)&65535)+(N.i(P)&65535),k=(U>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);M=k>>>16,U&=65535,k&=65535,R[P]=k<<16|U}return new c(R,R[R.length-1]&-2147483648?-1:0)};function z(N,D){return N.add(x(D))}r.j=function(N){if(C(this)||C(N))return _;if(V(this))return V(N)?x(this).j(x(N)):x(x(this).j(N));if(V(N))return x(this.j(x(N)));if(0>this.l(A)&&0>N.l(A))return g(this.m()*N.m());for(var D=this.g.length+N.g.length,R=[],M=0;M<2*D;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<N.g.length;P++){var U=this.i(M)>>>16,k=this.i(M)&65535,Me=N.i(P)>>>16,Te=N.i(P)&65535;R[2*M+2*P]+=k*Te,$(R,2*M+2*P),R[2*M+2*P+1]+=U*Te,$(R,2*M+2*P+1),R[2*M+2*P+1]+=k*Me,$(R,2*M+2*P+1),R[2*M+2*P+2]+=U*Me,$(R,2*M+2*P+2)}for(M=0;M<D;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=D;M<2*D;M++)R[M]=0;return new c(R,0)};function $(N,D){for(;(N[D]&65535)!=N[D];)N[D+1]+=N[D]>>>16,N[D]&=65535,D++}function Y(N,D){this.g=N,this.h=D}function oe(N,D){if(C(D))throw Error("division by zero");if(C(N))return new Y(_,_);if(V(N))return D=oe(x(N),D),new Y(x(D.g),x(D.h));if(V(D))return D=oe(N,x(D)),new Y(x(D.g),D.h);if(30<N.g.length){if(V(N)||V(D))throw Error("slowDivide_ only works with positive integers.");for(var R=T,M=D;0>=M.l(N);)R=le(R),M=le(M);var P=he(R,1),U=he(M,1);for(M=he(M,2),R=he(R,2);!C(M);){var k=U.add(M);0>=k.l(N)&&(P=P.add(R),U=k),M=he(M,1),R=he(R,1)}return D=z(N,P.j(D)),new Y(P,D)}for(P=_;0<=N.l(D);){for(R=Math.max(1,Math.floor(N.m()/D.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),U=g(R),k=U.j(D);V(k)||0<k.l(N);)R-=M,U=g(R),k=U.j(D);C(U)&&(U=T),P=P.add(U),N=z(N,k)}return new Y(P,N)}r.A=function(N){return oe(this,N).h},r.and=function(N){for(var D=Math.max(this.g.length,N.g.length),R=[],M=0;M<D;M++)R[M]=this.i(M)&N.i(M);return new c(R,this.h&N.h)},r.or=function(N){for(var D=Math.max(this.g.length,N.g.length),R=[],M=0;M<D;M++)R[M]=this.i(M)|N.i(M);return new c(R,this.h|N.h)},r.xor=function(N){for(var D=Math.max(this.g.length,N.g.length),R=[],M=0;M<D;M++)R[M]=this.i(M)^N.i(M);return new c(R,this.h^N.h)};function le(N){for(var D=N.g.length+1,R=[],M=0;M<D;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new c(R,N.h)}function he(N,D){var R=D>>5;D%=32;for(var M=N.g.length-R,P=[],U=0;U<M;U++)P[U]=0<D?N.i(U+R)>>>D|N.i(U+R+1)<<32-D:N.i(U+R);return new c(P,N.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,QE=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Ca=c}).apply(typeof Dw<"u"?Dw:typeof self<"u"?self:typeof window<"u"?window:{});var af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KE,Bu,WE,_f,kg,XE,$E,ZE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,b){return d==Array.prototype||d==Object.prototype||(d[v]=b.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof af=="object"&&af];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var n=t(this);function a(d,v){if(v)e:{var b=n;d=d.split(".");for(var S=0;S<d.length-1;S++){var F=d[S];if(!(F in b))break e;b=b[F]}d=d[d.length-1],S=b[d],v=v(S),v!=S&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var b=0,S=!1,F={next:function(){if(!S&&b<d.length){var X=b++;return{value:v(X,d[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(d){return d||function(){return o(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function g(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,b){return d.call.apply(d.bind,arguments)}function _(d,v,b){if(!d)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),d.apply(v,F)}}return function(){return d.apply(v,arguments)}}function T(d,v,b){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,T.apply(null,arguments)}function A(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),d.apply(this,S)}}function C(d,v){function b(){}b.prototype=v.prototype,d.aa=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(S,F,X){for(var fe=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)fe[Ge-2]=arguments[Ge];return v.prototype[F].apply(S,fe)}}function V(d){const v=d.length;if(0<v){const b=Array(v);for(let S=0;S<v;S++)b[S]=d[S];return b}return[]}function x(d,v){for(let b=1;b<arguments.length;b++){const S=arguments[b];if(p(S)){const F=d.length||0,X=S.length||0;d.length=F+X;for(let fe=0;fe<X;fe++)d[F+fe]=S[fe]}else d.push(S)}}class z{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(d){return/^[\s\xa0]*$/.test(d)}function Y(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function oe(d){return oe[" "](d),d}oe[" "]=function(){};var le=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function he(d,v,b){for(const S in d)v.call(b,d[S],S,d)}function N(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function D(d){const v={};for(const b in d)v[b]=d[b];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(d,v){let b,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(b in S)d[b]=S[b];for(let X=0;X<R.length;X++)b=R[X],Object.prototype.hasOwnProperty.call(S,b)&&(d[b]=S[b])}}function P(d){var v=1;d=d.split(":");const b=[];for(;0<v&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function U(d){f.setTimeout(()=>{throw d},0)}function k(){var d=Se;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Me{constructor(){this.h=this.g=null}add(v,b){const S=Te.get();S.set(v,b),this.h?this.h.next=S:this.g=S,this.h=S}}var Te=new z(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ue=!1,Se=new Me,L=()=>{const d=f.Promise.resolve(void 0);ne=()=>{d.then(ee)}};var ee=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(b){U(b)}var v=Te;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ue=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return d}();function Le(d,v){if(ce.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,S=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(le){e:{try{oe(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ke[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Le.aa.h.call(this)}}C(Le,ce);var ke={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),de=0;function _e(d,v,b,S,F){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!S,this.ha=F,this.key=++de,this.da=this.fa=!1}function it(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ct(d){this.src=d,this.g={},this.h=0}ct.prototype.add=function(d,v,b,S,F){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var fe=Fa(d,v,S,F);return-1<fe?(v=d[fe],b||(v.fa=!1)):(v=new _e(v,this.src,X,!!S,F),v.fa=b,d.push(v)),v};function wr(d,v){var b=v.type;if(b in d.g){var S=d.g[b],F=Array.prototype.indexOf.call(S,v,void 0),X;(X=0<=F)&&Array.prototype.splice.call(S,F,1),X&&(it(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function Fa(d,v,b,S){for(var F=0;F<d.length;++F){var X=d[F];if(!X.da&&X.listener==v&&X.capture==!!b&&X.ha==S)return F}return-1}var Ya="closure_lm_"+(1e6*Math.random()|0),Tl={};function Cc(d,v,b,S,F){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Cc(d,v[X],b,S,F);return null}return b=Rc(b),d&&d[re]?d.K(v,b,g(S)?!!S.capture:!1,F):Qn(d,v,b,!1,S,F)}function Qn(d,v,b,S,F,X){if(!v)throw Error("Invalid event type");var fe=g(F)?!!F.capture:!!F,Ge=Gs(d);if(Ge||(d[Ya]=Ge=new ct(d)),b=Ge.add(v,b,S,fe,X),b.proxy)return b;if(S=Hh(),b.proxy=S,S.src=d,S.listener=b,d.addEventListener)De||(F=fe),F===void 0&&(F=!1),d.addEventListener(v.toString(),S,F);else if(d.attachEvent)d.attachEvent(qa(v.toString()),S);else if(d.addListener&&d.removeListener)d.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Hh(){function d(b){return v.call(d.src,d.listener,b)}const v=Fh;return d}function El(d,v,b,S,F){if(Array.isArray(v))for(var X=0;X<v.length;X++)El(d,v[X],b,S,F);else S=g(S)?!!S.capture:!!S,b=Rc(b),d&&d[re]?(d=d.i,v=String(v).toString(),v in d.g&&(X=d.g[v],b=Fa(X,b,S,F),-1<b&&(it(X[b]),Array.prototype.splice.call(X,b,1),X.length==0&&(delete d.g[v],d.h--)))):d&&(d=Gs(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Fa(v,b,S,F)),(b=-1<d?v[d]:null)&&qs(b))}function qs(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[re])wr(v.i,d);else{var b=d.type,S=d.proxy;v.removeEventListener?v.removeEventListener(b,S,d.capture):v.detachEvent?v.detachEvent(qa(b),S):v.addListener&&v.removeListener&&v.removeListener(S),(b=Gs(v))?(wr(b,d),b.h==0&&(b.src=null,v[Ya]=null)):it(d)}}}function qa(d){return d in Tl?Tl[d]:Tl[d]="on"+d}function Fh(d,v){if(d.da)d=!0;else{v=new Le(v,this);var b=d.listener,S=d.ha||d.src;d.fa&&qs(d),d=b.call(S,v)}return d}function Gs(d){return d=d[Ya],d instanceof ct?d:null}var Sl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rc(d){return typeof d=="function"?d:(d[Sl]||(d[Sl]=function(v){return d.handleEvent(v)}),d[Sl])}function St(){pe.call(this),this.i=new ct(this),this.M=this,this.F=null}C(St,pe),St.prototype[re]=!0,St.prototype.removeEventListener=function(d,v,b,S){El(this,d,v,b,S)};function at(d,v){var b,S=d.F;if(S)for(b=[];S;S=S.F)b.push(S);if(d=d.M,S=v.type||v,typeof v=="string")v=new ce(v,d);else if(v instanceof ce)v.target=v.target||d;else{var F=v;v=new ce(S,d),M(v,F)}if(F=!0,b)for(var X=b.length-1;0<=X;X--){var fe=v.g=b[X];F=On(fe,S,!0,v)&&F}if(fe=v.g=d,F=On(fe,S,!0,v)&&F,F=On(fe,S,!1,v)&&F,b)for(X=0;X<b.length;X++)fe=v.g=b[X],F=On(fe,S,!1,v)&&F}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var b=d.g[v],S=0;S<b.length;S++)it(b[S]);delete d.g[v],d.h--}}this.F=null},St.prototype.K=function(d,v,b,S){return this.i.add(String(d),v,!1,b,S)},St.prototype.L=function(d,v,b,S){return this.i.add(String(d),v,!0,b,S)};function On(d,v,b,S){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,X=0;X<v.length;++X){var fe=v[X];if(fe&&!fe.da&&fe.capture==b){var Ge=fe.listener,Ft=fe.ha||fe.src;fe.fa&&wr(d.i,fe),F=Ge.call(Ft,S)!==!1&&F}}return F&&!S.defaultPrevented}function hn(d,v,b){if(typeof d=="function")b&&(d=T(d,b));else if(d&&typeof d.handleEvent=="function")d=T(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(d,v||0)}function xc(d){d.g=hn(()=>{d.g=null,d.i&&(d.i=!1,xc(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Yh extends pe{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:xc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ga(d){pe.call(this),this.h=d,this.g={}}C(Ga,pe);var Qa=[];function Ka(d){he(d.g,function(v,b){this.g.hasOwnProperty(b)&&qs(v)},d),d.g={}}Ga.prototype.N=function(){Ga.aa.N.call(this),Ka(this)},Ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=f.JSON.stringify,Qs=f.JSON.parse,Wa=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Dl(){}Dl.prototype.h=null;function Al(d){return d.h||(d.h=d.i())}function Cl(){}var Jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ei(){ce.call(this,"d")}C(ei,ce);function Rl(){ce.call(this,"c")}C(Rl,ce);var Tr={},xl=null;function Bi(){return xl=xl||new St}Tr.La="serverreachability";function Ks(d){ce.call(this,Tr.La,d)}C(Ks,ce);function zi(d){const v=Bi();at(v,new Ks(v))}Tr.STAT_EVENT="statevent";function kc(d,v){ce.call(this,Tr.STAT_EVENT,d),this.stat=v}C(kc,ce);function vt(d){const v=Bi();at(v,new kc(v,d))}Tr.Ma="timingevent";function Ht(d,v){ce.call(this,Tr.Ma,d),this.size=v}C(Ht,ce);function Lt(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},v)}function Kn(){this.g=!0}Kn.prototype.xa=function(){this.g=!1};function kl(d,v,b,S,F,X){d.info(function(){if(d.g)if(X)for(var fe="",Ge=X.split("&"),Ft=0;Ft<Ge.length;Ft++){var Qe=Ge[Ft].split("=");if(1<Qe.length){var Xt=Qe[0];Qe=Qe[1];var Yt=Xt.split("_");fe=2<=Yt.length&&Yt[1]=="type"?fe+(Xt+"="+Qe+"&"):fe+(Xt+"=redacted&")}}else fe=null;else fe=X;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+v+`
`+b+`
`+fe})}function qh(d,v,b,S,F,X,fe){d.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+v+`
`+b+`
`+X+" "+fe})}function Hi(d,v,b,S){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Xa(d,b)+(S?" "+S:"")})}function Ic(d,v){d.info(function(){return"TIMEOUT: "+v})}Kn.prototype.info=function(){};function Xa(d,v){if(!d.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var S=b[d];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(var fe=1;fe<F.length;fe++)F[fe]=""}}}}return cr(b)}catch{return v}}var Fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Er;function Sr(){}C(Sr,Dl),Sr.prototype.g=function(){return new XMLHttpRequest},Sr.prototype.i=function(){return{}},Er=new Sr;function wn(d,v,b,S){this.j=d,this.i=v,this.l=b,this.R=S||1,this.U=new Ga(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var Il={},Ws={};function dr(d,v,b){d.L=1,d.v=ts(Pn(v)),d.m=b,d.P=!0,ni(d,null)}function ni(d,v){d.F=Date.now(),$a(d),d.A=Pn(d.v);var b=d.A,S=d.R;Array.isArray(S)||(S=[String(S)]),Vl(b.i,"t",S),d.C=0,b=d.j.J,d.h=new xt,d.g=Qc(d.j,b?v:null,!d.m),0<d.O&&(d.M=new Yh(T(d.Y,d,d.g),d.O)),v=d.U,b=d.g,S=d.ca;var F="readystatechange";Array.isArray(F)||(F&&(Qa[0]=F.toString()),F=Qa);for(var X=0;X<F.length;X++){var fe=Cc(b,F[X],S||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=d.H?D(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),zi(),kl(d.i,d.u,d.A,d.l,d.R,d.m)}wn.prototype.ca=function(d){d=d.target;const v=this.M;v&&Zn(d)==3?v.j():this.Y(d)},wn.prototype.Y=function(d){try{if(d==this.g)e:{const Yt=Zn(this.g);var v=this.g.Ba();const ci=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||jc(this.g)))){this.J||Yt!=4||v==7||(v==8||0>=ci?zi(3):zi(2)),Yi(this);var b=this.g.Z();this.X=b;t:if(Nc(this)){var S=jc(this.g);d="";var F=S.length,X=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),Dr(this);var fe="";break t}this.h.i=new f.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,d+=this.h.i.decode(S[v],{stream:!(X&&v==F-1)});S.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=b==200,qh(this.i,this.u,this.A,this.l,this.R,Yt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Ft=this.g;if((Ge=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Ge)){var Qe=Ge;break t}}Qe=null}if(b=Qe)Hi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Za(this,b);else{this.o=!1,this.s=3,vt(12),rn(this),Dr(this);break e}}if(this.P){b=!0;let an;for(;!this.J&&this.C<fe.length;)if(an=Mc(this,fe),an==Ws){Yt==4&&(this.s=4,vt(14),b=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Il){this.s=4,vt(15),Hi(this.i,this.l,fe,"[Invalid Chunk]"),b=!1;break}else Hi(this.i,this.l,an,null),Za(this,an);if(Nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||fe.length!=0||this.h.h||(this.s=1,vt(16),b=!1),this.o=this.o&&b,!b)Hi(this.i,this.l,fe,"[Invalid Chunked Response]"),rn(this),Dr(this);else if(0<fe.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),us(Xt),Xt.M=!0,vt(11))}}else Hi(this.i,this.l,fe,null),Za(this,fe);Yt==4&&rn(this),this.o&&!this.J&&(Yt==4?Yc(this.j,this):(this.o=!1,$a(this)))}else Xh(this.g),b==400&&0<fe.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),rn(this),Dr(this)}}}catch{}finally{}};function Nc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Mc(d,v){var b=d.C,S=v.indexOf(`
`,b);return S==-1?Ws:(b=Number(v.substring(b,S)),isNaN(b)?Il:(S+=1,S+b>v.length?Ws:(v=v.slice(S,S+b),d.C=S+b,v)))}wn.prototype.cancel=function(){this.J=!0,rn(this)};function $a(d){d.S=Date.now()+d.I,Oc(d,d.I)}function Oc(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Lt(T(d.ba,d),v)}function Yi(d){d.B&&(f.clearTimeout(d.B),d.B=null)}wn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ic(this.i,this.A),this.L!=2&&(zi(),vt(17)),rn(this),this.s=2,Dr(this)):Oc(this,this.S-d)};function Dr(d){d.j.G==0||d.J||Yc(d.j,d)}function rn(d){Yi(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Ka(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Za(d,v){try{var b=d.j;if(b.G!=0&&(b.g==d||Nl(b.h,d))){if(!d.K&&Nl(b.h,d)&&b.G==3){try{var S=b.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)oo(b),ao(b);else break e;Hl(b),vt(18)}}else b.za=F[1],0<b.za-b.T&&37500>F[2]&&b.F&&b.v==0&&!b.C&&(b.C=Lt(T(b.Za,b),6e3));if(1>=$s(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ui(b,11)}else if((d.K||b.g==d)&&oo(b),!$(v))for(F=b.Da.g.parse(v),v=0;v<F.length;v++){let Qe=F[v];if(b.T=Qe[0],Qe=Qe[1],b.G==2)if(Qe[0]=="c"){b.K=Qe[1],b.ia=Qe[2];const Xt=Qe[3];Xt!=null&&(b.la=Xt,b.j.info("VER="+b.la));const Yt=Qe[4];Yt!=null&&(b.Aa=Yt,b.j.info("SVER="+b.Aa));const ci=Qe[5];ci!=null&&typeof ci=="number"&&0<ci&&(S=1.5*ci,b.L=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const an=d.g;if(an){const Nr=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var X=S.h;X.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Zs(X,X.h),X.h=null))}if(S.D){const Yl=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Yl&&(S.ya=Yl,dt(S.I,S.D,Yl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),S=b;var fe=d;if(S.qa=Gc(S,S.J?S.ia:null,S.W),fe.K){Tn(S.h,fe);var Ge=fe,Ft=S.L;Ft&&(Ge.I=Ft),Ge.B&&(Yi(Ge),$a(Ge)),S.g=fe}else Hc(S);0<b.i.length&&so(b)}else Qe[0]!="stop"&&Qe[0]!="close"||ui(b,7);else b.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ui(b,7):Bl(b):Qe[0]!="noop"&&b.l&&b.l.ta(Qe),b.v=0)}}zi(4)}catch{}}var Pc=class{constructor(d,v){this.g=d,this.map=v}};function ri(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xs(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function $s(d){return d.h?1:d.g?d.g.size:0}function Nl(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Zs(d,v){d.g?d.g.add(v):d.h=v}function Tn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}ri.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ml(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.D);return v}return V(d.i)}function Gh(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(p(d)){for(var v=[],b=d.length,S=0;S<b;S++)v.push(d[S]);return v}v=[],b=0;for(S in d)v[b++]=d[S];return v}function Js(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(p(d)||typeof d=="string"){var v=[];d=d.length;for(var b=0;b<d;b++)v.push(b);return v}v=[],b=0;for(const S in d)v[b++]=S;return v}}}function Ol(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(p(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var b=Js(d),S=Gh(d),F=S.length,X=0;X<F;X++)v.call(void 0,S[X],b&&b[X],d)}var Ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qh(d,v){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var S=d[b].indexOf("="),F=null;if(0<=S){var X=d[b].substring(0,S);F=d[b].substring(S+1)}else X=d[b];v(X,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Vt(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Vt){this.h=d.h,es(this,d.j),this.o=d.o,this.g=d.g,qi(this,d.s),this.l=d.l;var v=d.i,b=new ai;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),ii(this,b),this.m=d.m}else d&&(v=String(d).match(Ja))?(this.h=!1,es(this,v[1]||"",!0),this.o=Wn(v[2]||""),this.g=Wn(v[3]||"",!0),qi(this,v[4]),this.l=Wn(v[5]||"",!0),ii(this,v[6]||"",!0),this.m=Wn(v[7]||"")):(this.h=!1,this.i=new ai(null,this.h))}Vt.prototype.toString=function(){var d=[],v=this.j;v&&d.push(ns(v,Pl,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(ns(v,Pl,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(ns(b,b.charAt(0)=="/"?Kh:Ll,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",ns(b,eo)),d.join("")};function Pn(d){return new Vt(d)}function es(d,v,b){d.j=b?Wn(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function qi(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function ii(d,v,b){v instanceof ai?(d.i=v,Vc(d.i,d.h)):(b||(v=ns(v,Wh)),d.i=new ai(v,d.h))}function dt(d,v,b){d.i.set(v,b)}function ts(d){return dt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Wn(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ns(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,Lc),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Lc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Pl=/[#\/\?@]/g,Ll=/[#\?:]/g,Kh=/[#\?]/g,Wh=/[#\?@]/g,eo=/#/g;function ai(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Xn(d){d.g||(d.g=new Map,d.h=0,d.i&&Qh(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}r=ai.prototype,r.add=function(d,v){Xn(this),this.i=null,d=Ar(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function si(d,v){Xn(d),v=Ar(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function oi(d,v){return Xn(d),v=Ar(d,v),d.g.has(v)}r.forEach=function(d,v){Xn(this),this.g.forEach(function(b,S){b.forEach(function(F){d.call(v,F,S,this)},this)},this)},r.na=function(){Xn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let S=0;S<v.length;S++){const F=d[S];for(let X=0;X<F.length;X++)b.push(v[S])}return b},r.V=function(d){Xn(this);let v=[];if(typeof d=="string")oi(this,d)&&(v=v.concat(this.g.get(Ar(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)v=v.concat(d[b])}return v},r.set=function(d,v){return Xn(this),this.i=null,d=Ar(this,d),oi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},r.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Vl(d,v,b){si(d,v),0<b.length&&(d.i=null,d.g.set(Ar(d,v),V(b)),d.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var S=v[b];const X=encodeURIComponent(String(S)),fe=this.V(S);for(S=0;S<fe.length;S++){var F=X;fe[S]!==""&&(F+="="+encodeURIComponent(String(fe[S]))),d.push(F)}}return this.i=d.join("&")};function Ar(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Vc(d,v){v&&!d.j&&(Xn(d),d.i=null,d.g.forEach(function(b,S){var F=S.toLowerCase();S!=F&&(si(this,S),Vl(this,F,b))},d)),d.j=v}function rs(d,v){const b=new Kn;if(f.Image){const S=new Image;S.onload=A($n,b,"TestLoadImage: loaded",!0,v,S),S.onerror=A($n,b,"TestLoadImage: error",!1,v,S),S.onabort=A($n,b,"TestLoadImage: abort",!1,v,S),S.ontimeout=A($n,b,"TestLoadImage: timeout",!1,v,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=d}else v(!1)}function fr(d,v){const b=new Kn,S=new AbortController,F=setTimeout(()=>{S.abort(),$n(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:S.signal}).then(X=>{clearTimeout(F),X.ok?$n(b,"TestPingServer: ok",!0,v):$n(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),$n(b,"TestPingServer: error",!1,v)})}function $n(d,v,b,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(b)}catch{}}function is(){this.g=new Wa}function Cr(d,v,b){const S=b||"";try{Ol(d,function(F,X){let fe=F;g(F)&&(fe=cr(F)),v.push(S+X+"="+encodeURIComponent(fe))})}catch(F){throw v.push(S+"type="+encodeURIComponent("_badmap")),F}}function Gi(d){this.l=d.Ub||null,this.j=d.eb||!1}C(Gi,Dl),Gi.prototype.g=function(){return new li(this.l,this.j)},Gi.prototype.i=function(d){return function(){return d}}({});function li(d,v){St.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(li,St),r=li.prototype,r.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,xr(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,xr(this)),this.g&&(this.readyState=3,xr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ul(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ul(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Rr(this):xr(this),this.readyState==3&&Ul(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,Rr(this))},r.Qa=function(d){this.g&&(this.response=d,Rr(this))},r.ga=function(){this.g&&Rr(this)};function Rr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,xr(d)}r.setRequestHeader=function(d,v){this.u.append(d,v)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function xr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function jl(d){let v="";return he(d,function(b,S){v+=S,v+=":",v+=b,v+=`\r
`}),v}function Wt(d,v,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=jl(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):dt(d,v,b))}function tt(d){St.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(tt,St);var to=/^https?$/i,as=["POST","PUT"];r=tt.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,v,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Er.g(),this.v=this.o?Al(this.o):Al(Er),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){Uc(this,X);return}if(d=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)b.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())b.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(X=>X.toLowerCase()=="content-type"),F=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(as,v,void 0))||S||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,fe]of b)this.g.setRequestHeader(X,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Uc(this,X)}};function Uc(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,no(d),kr(d)}function no(d){d.A||(d.A=!0,at(d,"complete"),at(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,at(this,"complete"),at(this,"abort"),kr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kr(this,!0)),tt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ro(this):this.bb())},r.bb=function(){ro(this)};function ro(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Zn(d)!=4||d.Z()!=2)){if(d.u&&Zn(d)==4)hn(d.Ea,0,d);else if(at(d,"readystatechange"),Zn(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var S;if(S=fe===0){var F=String(d.D).match(Ja)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),S=!to.test(F?F.toLowerCase():"")}b=S}if(b)at(d,"complete"),at(d,"success");else{d.m=6;try{var X=2<Zn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",no(d)}}finally{kr(d)}}}}function kr(d,v){if(d.g){ss(d);const b=d.g,S=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||at(d,"ready");try{b.onreadystatechange=S}catch{}}}function ss(d){d.I&&(f.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function Zn(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Qs(v)}};function jc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Xh(d){const v={};d=(d.g&&2<=Zn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<d.length;S++){if($(d[S]))continue;var b=P(d[S]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const X=v[F]||[];v[F]=X,X.push(b)}N(v,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function io(d){this.Aa=0,this.i=[],this.j=new Kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=os("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=os("baseRetryDelayMs",5e3,d),this.cb=os("retryDelaySeedMs",1e4,d),this.Wa=os("forwardChannelMaxRetries",2,d),this.wa=os("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(d&&d.concurrentRequestLimit),this.Da=new is,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=io.prototype,r.la=8,r.G=1,r.connect=function(d,v,b,S){vt(0),this.W=d,this.H=v||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.I=Gc(this,null,this.W),so(this)};function Bl(d){if(Bc(d),d.G==3){var v=d.U++,b=Pn(d.I);if(dt(b,"SID",d.K),dt(b,"RID",v),dt(b,"TYPE","terminate"),ls(d,b),v=new wn(d,d.j,v),v.L=2,v.v=ts(Pn(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=Qc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),$a(v)}qc(d)}function ao(d){d.g&&(us(d),d.g.cancel(),d.g=null)}function Bc(d){ao(d),d.u&&(f.clearTimeout(d.u),d.u=null),oo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function so(d){if(!Xs(d.h)&&!d.s){d.s=!0;var v=d.Ga;ne||L(),ue||(ne(),ue=!0),Se.add(v,d),d.B=0}}function $h(d,v){return $s(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Lt(T(d.Ga,d,v),Fl(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const F=new wn(this,this.j,d);let X=this.o;if(this.S&&(X?(X=D(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(F.H=X,X=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=zc(this,F,v),b=Pn(this.I),dt(b,"RID",d),dt(b,"CVER",22),this.D&&dt(b,"X-HTTP-Session-Id",this.D),ls(this,b),X&&(this.O?v="headers="+encodeURIComponent(String(jl(X)))+"&"+v:this.m&&Wt(b,this.m,X)),Zs(this.h,F),this.Ua&&dt(b,"TYPE","init"),this.P?(dt(b,"$req",v),dt(b,"SID","null"),F.T=!0,dr(F,b,null)):dr(F,b,v),this.G=2}}else this.G==3&&(d?zl(this,d):this.i.length==0||Xs(this.h)||zl(this))};function zl(d,v){var b;v?b=v.l:b=d.U++;const S=Pn(d.I);dt(S,"SID",d.K),dt(S,"RID",b),dt(S,"AID",d.T),ls(d,S),d.m&&d.o&&Wt(S,d.m,d.o),b=new wn(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),v&&(d.i=v.D.concat(d.i)),v=zc(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Zs(d.h,b),dr(b,S,v)}function ls(d,v){d.H&&he(d.H,function(b,S){dt(v,S,b)}),d.l&&Ol({},function(b,S){dt(v,S,b)})}function zc(d,v,b){b=Math.min(d.i.length,b);var S=d.l?T(d.l.Na,d.l,d):null;e:{var F=d.i;let X=-1;for(;;){const fe=["count="+b];X==-1?0<b?(X=F[0].g,fe.push("ofs="+X)):X=0:fe.push("ofs="+X);let Ge=!0;for(let Ft=0;Ft<b;Ft++){let Qe=F[Ft].g;const Xt=F[Ft].map;if(Qe-=X,0>Qe)X=Math.max(0,F[Ft].g-100),Ge=!1;else try{Cr(Xt,fe,"req"+Qe+"_")}catch{S&&S(Xt)}}if(Ge){S=fe.join("&");break e}}}return d=d.i.splice(0,b),v.D=d,S}function Hc(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;ne||L(),ue||(ne(),ue=!0),Se.add(v,d),d.v=0}}function Hl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Lt(T(d.Fa,d),Fl(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Lt(T(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),ao(this),Fc(this))};function us(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Fc(d){d.g=new wn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Pn(d.qa);dt(v,"RID","rpc"),dt(v,"SID",d.K),dt(v,"AID",d.T),dt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&dt(v,"TO",d.ja),dt(v,"TYPE","xmlhttp"),ls(d,v),d.m&&d.o&&Wt(v,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=ts(Pn(v)),b.m=null,b.P=!0,ni(b,d)}r.Za=function(){this.C!=null&&(this.C=null,ao(this),Hl(this),vt(19))};function oo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Yc(d,v){var b=null;if(d.g==v){oo(d),us(d),d.g=null;var S=2}else if(Nl(d.h,v))b=v.D,Tn(d.h,v),S=1;else return;if(d.G!=0){if(v.o)if(S==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var F=d.B;S=Bi(),at(S,new Ht(S,b)),so(d)}else Hc(d);else if(F=v.s,F==3||F==0&&0<v.X||!(S==1&&$h(d,v)||S==2&&Hl(d)))switch(b&&0<b.length&&(v=d.h,v.i=v.i.concat(b)),F){case 1:ui(d,5);break;case 4:ui(d,10);break;case 3:ui(d,6);break;default:ui(d,2)}}}function Fl(d,v){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*v}function ui(d,v){if(d.j.info("Error code "+v),v==2){var b=T(d.fb,d),S=d.Xa;const F=!S;S=new Vt(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||es(S,"https"),ts(S),F?rs(S.toString(),b):fr(S.toString(),b)}else vt(2);d.G=0,d.l&&d.l.sa(v),qc(d),Bc(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function qc(d){if(d.G=0,d.ka=[],d.l){const v=Ml(d.h);(v.length!=0||d.i.length!=0)&&(x(d.ka,v),x(d.ka,d.i),d.h.i.length=0,V(d.i),d.i.length=0),d.l.ra()}}function Gc(d,v,b){var S=b instanceof Vt?Pn(b):new Vt(b);if(S.g!="")v&&(S.g=v+"."+S.g),qi(S,S.s);else{var F=f.location;S=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var X=new Vt(null);S&&es(X,S),v&&(X.g=v),F&&qi(X,F),b&&(X.l=b),S=X}return b=d.D,v=d.ya,b&&v&&dt(S,b,v),dt(S,"VER",d.la),ls(d,S),S}function Qc(d,v,b){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new tt(new Gi({eb:b})):new tt(d.pa),v.Ha(d.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kc(){}r=Kc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function lo(){}lo.prototype.g=function(d,v){return new En(d,v)};function En(d,v){St.call(this),this.g=new io(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!$(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!$(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Ir(this)}C(En,St),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Bl(this.g)},En.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=cr(d),d=b);v.i.push(new Pc(v.Ya++,d)),v.G==3&&so(v)},En.prototype.N=function(){this.g.l=null,delete this.j,Bl(this.g),delete this.g,En.aa.N.call(this)};function Wc(d){ei.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}C(Wc,ei);function Xc(){Rl.call(this),this.status=1}C(Xc,Rl);function Ir(d){this.g=d}C(Ir,Kc),Ir.prototype.ua=function(){at(this.g,"a")},Ir.prototype.ta=function(d){at(this.g,new Wc(d))},Ir.prototype.sa=function(d){at(this.g,new Xc)},Ir.prototype.ra=function(){at(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,ZE=function(){return new lo},$E=function(){return Bi()},XE=Tr,kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,_f=Fi,ti.COMPLETE="complete",WE=ti,Cl.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",St.prototype.listen=St.prototype.K,Bu=Cl,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,KE=tt}).apply(typeof af<"u"?af:typeof self<"u"?self:typeof window<"u"?window:{});const Aw="@firebase/firestore",Cw="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new my("@firebase/firestore");function Bo(){return js.logLevel}function ye(r,...e){if(js.logLevel<=Ye.DEBUG){const t=e.map(vy);js.debug(`Firestore (${gl}): ${r}`,...t)}}function Oi(r,...e){if(js.logLevel<=Ye.ERROR){const t=e.map(vy);js.error(`Firestore (${gl}): ${r}`,...t)}}function sl(r,...e){if(js.logLevel<=Ye.WARN){const t=e.map(vy);js.warn(`Firestore (${gl}): ${r}`,...t)}}function vy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,JE(r,n,t)}function JE(r,e,t){let n=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Oi(n),new Error(n)}function rt(r,e,t,n){let a="Unexpected state";typeof t=="string"?a=t:n=t,r||JE(e,a,n)}function Pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class mN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class gN{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0,42304);let n=this.i;const a=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let o=new Ra;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ra,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=o;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},f=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ra)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(rt(typeof n.accessToken=="string",31837,{l:n}),new e1(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class yN{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vN{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new yN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _N{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0,3512);const n=o=>{o.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>n(o))};const a=o=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Rw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=bN(40);for(let o=0;o<a.length;++o)n.length<20&&a[o]<t&&(n+=e.charAt(a[o]%62))}return n}}function Be(r,e){return r<e?-1:r>e?1:0}function Ig(r,e){let t=0;for(;t<r.length&&t<e.length;){const n=r.codePointAt(t),a=e.codePointAt(t);if(n!==a){if(n<128&&a<128)return Be(n,a);{const o=t1(),c=wN(o.encode(xw(r,t)),o.encode(xw(e,t)));return c!==0?c:Be(n,a)}}t+=n>65535?2:1}return Be(r.length,e.length)}function xw(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function wN(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Be(r[t],e[t]);return Be(r.length,e.length)}function ol(r,e,t){return r.length===e.length&&r.every((n,a)=>t(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=-62135596800,Iw=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(e){return Qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Iw);return new Qt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<kw)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iw}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-kw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Qt(0,0))}static max(){return new Oe(new Qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="__name__";class jr{constructor(e,t,n){t===void 0?t=0:t>e.length&&xe(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&xe(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let a=0;a<n;a++){const o=jr.compareSegments(e.get(a),t.get(a));if(o!==0)return o}return Be(e.length,t.length)}static compareSegments(e,t){const n=jr.isNumericId(e),a=jr.isNumericId(t);return n&&!a?-1:!n&&a?1:n&&a?jr.extractNumericId(e).compare(jr.extractNumericId(t)):Ig(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ca.fromString(e.substring(4,e.length-2))}}class yt extends jr{construct(e,t,n){return new yt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ve(ae.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(a=>a.length>0))}return new yt(t)}static emptyPath(){return new yt([])}}const TN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends jr{construct(e,t,n){return new cn(e,t,n)}static isValidIdentifier(e){return TN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nw}static keyField(){return new cn([Nw])}static fromServerFormat(e){const t=[];let n="",a=0;const o=()=>{if(n.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new ve(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(n+=f,a++):(o(),a++)}if(o(),c)throw new ve(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(t)}static emptyPath(){return new cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(yt.fromString(e))}static fromName(e){return new Ae(yt.fromString(e).popFirst(5))}static empty(){return new Ae(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=-1;function EN(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(n===1e9?new Qt(t+1,0):new Qt(t,n));return new Ma(a,Ae.empty(),e)}function SN(r){return new Ma(r.readTime,r.key,Ju)}class Ma{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ma(Oe.min(),Ae.empty(),Ju)}static max(){return new Ma(Oe.max(),Ae.empty(),Ju)}}function DN(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(r.documentKey,e.documentKey),t!==0?t:Be(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==AN)throw r;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((n,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,a)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,n)=>{t(e)})}static reject(e){return new se((t,n)=>{n(e)})}static waitFor(e){return new se((t,n)=>{let a=0,o=0,c=!1;e.forEach(f=>{++a,f.next(()=>{++o,c&&o===a&&t()},p=>n(p))}),c=!0,o===a&&t()})}static or(e){let t=se.resolve(!1);for(const n of e)t=t.next(a=>a?se.resolve(a):n());return t}static forEach(e,t){const n=[];return e.forEach((a,o)=>{n.push(t.call(this,a,o))}),this.waitFor(n)}static mapArray(e,t){return new se((n,a)=>{const o=e.length,c=new Array(o);let f=0;for(let p=0;p<o;p++){const g=p;t(e[g]).next(y=>{c[g]=y,++f,f===o&&n(c)},y=>a(y))}})}static doWhile(e,t){return new se((n,a)=>{const o=()=>{e()===!0?t().next(()=>{o()},a):n()};o()})}}function RN(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>t.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}vh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=-1;function _h(r){return r==null}function Gf(r){return r===0&&1/r==-1/0}function xN(r){return typeof r=="number"&&Number.isInteger(r)&&!Gf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="";function kN(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Mw(e)),e=IN(r.get(t),e);return Mw(e)}function IN(r,e){let t=e;const n=r.length;for(let a=0;a<n;a++){const o=r.charAt(a);switch(o){case"\0":t+="";break;case r1:t+="";break;default:t+=o}}return t}function Mw(r){return r+r1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ba(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function i1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||un.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,un.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return t+n.left.size;a<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sf(this.root,e,this.comparator,!1)}getReverseIterator(){return new sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sf(this.root,e,this.comparator,!0)}}class sf{constructor(e,t,n,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class un{constructor(e,t,n,a,o){this.key=e,this.value=t,this.color=n??un.RED,this.left=a??un.EMPTY,this.right=o??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,a,o){return new un(e??this.key,t??this.value,n??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let a=this;const o=n(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,t,n),null):o===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return un.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,t,n,a,o){return this}insert(e,t,n){return new un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pw(this.data.getIterator())}getIteratorFrom(e){return new Pw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Kt(this.comparator);return t.data=e,t}}class Pw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new Kt(cn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new a1("Invalid base64 string: "+o):o}}(e);return new fn(t)}static fromUint8Array(e){const t=function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o}(e);return new fn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const NN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(r){if(rt(!!r,39018),typeof r=="string"){let e=0;const t=NN.exec(r);if(rt(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Nt(r.seconds),nanos:Nt(r.nanos)}}function Nt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Pa(r){return typeof r=="string"?fn.fromBase64String(r):fn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="server_timestamp",o1="__type__",l1="__previous_value__",u1="__local_write_time__";function by(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[o1])===null||t===void 0?void 0:t.stringValue)===s1}function bh(r){const e=r.mapValue.fields[l1];return by(e)?bh(e):e}function ec(r){const e=Oa(r.mapValue.fields[u1].timestampValue);return new Qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,t,n,a,o,c,f,p,g,y){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=y}}const Qf="(default)";class tc{constructor(e,t){this.projectId=e,this.database=t||Qf}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===Qf}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="__type__",ON="__max__",of={mapValue:{}},d1="__vector__",Kf="value";function La(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?by(r)?4:LN(r)?9007199254740991:PN(r)?10:11:xe(28295,{value:r})}function $r(r,e){if(r===e)return!0;const t=La(r);if(t!==La(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ec(r).isEqual(ec(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Oa(a.timestampValue),f=Oa(o.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,o){return Pa(a.bytesValue).isEqual(Pa(o.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,o){return Nt(a.geoPointValue.latitude)===Nt(o.geoPointValue.latitude)&&Nt(a.geoPointValue.longitude)===Nt(o.geoPointValue.longitude)}(r,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Nt(a.integerValue)===Nt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Nt(a.doubleValue),f=Nt(o.doubleValue);return c===f?Gf(c)===Gf(f):isNaN(c)&&isNaN(f)}return!1}(r,e);case 9:return ol(r.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(a,o){const c=a.mapValue.fields||{},f=o.mapValue.fields||{};if(Ow(c)!==Ow(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!$r(c[p],f[p])))return!1;return!0}(r,e);default:return xe(52216,{left:r})}}function nc(r,e){return(r.values||[]).find(t=>$r(t,e))!==void 0}function ll(r,e){if(r===e)return 0;const t=La(r),n=La(e);if(t!==n)return Be(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return function(o,c){const f=Nt(o.integerValue||o.doubleValue),p=Nt(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return Lw(r.timestampValue,e.timestampValue);case 4:return Lw(ec(r),ec(e));case 5:return Ig(r.stringValue,e.stringValue);case 6:return function(o,c){const f=Pa(o),p=Pa(c);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(o,c){const f=o.split("/"),p=c.split("/");for(let g=0;g<f.length&&g<p.length;g++){const y=Be(f[g],p[g]);if(y!==0)return y}return Be(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(o,c){const f=Be(Nt(o.latitude),Nt(c.latitude));return f!==0?f:Be(Nt(o.longitude),Nt(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Vw(r.arrayValue,e.arrayValue);case 10:return function(o,c){var f,p,g,y;const _=o.fields||{},T=c.fields||{},A=(f=_[Kf])===null||f===void 0?void 0:f.arrayValue,C=(p=T[Kf])===null||p===void 0?void 0:p.arrayValue,V=Be(((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return V!==0?V:Vw(A,C)}(r.mapValue,e.mapValue);case 11:return function(o,c){if(o===of.mapValue&&c===of.mapValue)return 0;if(o===of.mapValue)return 1;if(c===of.mapValue)return-1;const f=o.fields||{},p=Object.keys(f),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let _=0;_<p.length&&_<y.length;++_){const T=Ig(p[_],y[_]);if(T!==0)return T;const A=ll(f[p[_]],g[y[_]]);if(A!==0)return A}return Be(p.length,y.length)}(r.mapValue,e.mapValue);default:throw xe(23264,{Pe:t})}}function Lw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const t=Oa(r),n=Oa(e),a=Be(t.seconds,n.seconds);return a!==0?a:Be(t.nanos,n.nanos)}function Vw(r,e){const t=r.values||[],n=e.values||[];for(let a=0;a<t.length&&a<n.length;++a){const o=ll(t[a],n[a]);if(o)return o}return Be(t.length,n.length)}function ul(r){return Ng(r)}function Ng(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Oa(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Pa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Ae.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",a=!0;for(const o of t.values||[])a?a=!1:n+=",",n+=Ng(o);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let a="{",o=!0;for(const c of n)o?o=!1:a+=",",a+=`${c}:${Ng(t.fields[c])}`;return a+"}"}(r.mapValue):xe(61005,{value:r})}function bf(r){switch(La(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(r);return e?16+bf(e):16;case 5:return 2*r.stringValue.length;case 6:return Pa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,o)=>a+bf(o),0)}(r.arrayValue);case 10:case 11:return function(n){let a=0;return Ba(n.fields,(o,c)=>{a+=o.length+bf(c)}),a}(r.mapValue);default:throw xe(13486,{value:r})}}function Uw(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Mg(r){return!!r&&"integerValue"in r}function wy(r){return!!r&&"arrayValue"in r}function jw(r){return!!r&&"nullValue"in r}function Bw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function wf(r){return!!r&&"mapValue"in r}function PN(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[c1])===null||t===void 0?void 0:t.stringValue)===d1}function qu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ba(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=qu(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function LN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ON}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qu(t)}setAll(e){let t=cn.emptyPath(),n={},a=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,n,a),n={},a=[],t=f.popLast()}c?n[f.lastSegment()]=qu(c):a.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,n,a)}delete(e){const t=this.field(e.popLast());wf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=t.mapValue.fields[e.get(n)];wf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,n){Ba(t,(a,o)=>e[a]=o);for(const a of n)delete e[a]}clone(){return new In(qu(this.value))}}function f1(r){const e=[];return Ba(r.fields,(t,n)=>{const a=new cn([t]);if(wf(n)){const o=f1(n.mapValue).fields;if(o.length===0)e.push(a);else for(const c of o)e.push(a.child(c))}else e.push(a)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t,n,a,o,c,f){this.key=e,this.documentType=t,this.version=n,this.readTime=a,this.createTime=o,this.data=c,this.documentState=f}static newInvalidDocument(e){return new vn(e,0,Oe.min(),Oe.min(),Oe.min(),In.empty(),0)}static newFoundDocument(e,t,n,a){return new vn(e,1,t,Oe.min(),n,a,0)}static newNoDocument(e,t){return new vn(e,2,t,Oe.min(),Oe.min(),In.empty(),0)}static newUnknownDocument(e,t){return new vn(e,3,t,Oe.min(),Oe.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){this.position=e,this.inclusive=t}}function zw(r,e,t){let n=0;for(let a=0;a<r.position.length;a++){const o=e[a],c=r.position[a];if(o.field.isKeyField()?n=Ae.comparator(Ae.fromName(c.referenceValue),t.key):n=ll(c,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Hw(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!$r(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t="asc"){this.field=e,this.dir=t}}function VN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{}class zt extends h1{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new jN(e,t,n):t==="array-contains"?new HN(e,n):t==="in"?new FN(e,n):t==="not-in"?new YN(e,n):t==="array-contains-any"?new qN(e,n):new zt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new BN(e,n):new zN(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ll(t,this.value)):t!==null&&La(this.value)===La(t)&&this.matchesComparison(ll(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends h1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new br(e,t)}matches(e){return p1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function p1(r){return r.op==="and"}function m1(r){return UN(r)&&p1(r)}function UN(r){for(const e of r.filters)if(e instanceof br)return!1;return!0}function Og(r){if(r instanceof zt)return r.field.canonicalString()+r.op.toString()+ul(r.value);if(m1(r))return r.filters.map(e=>Og(e)).join(",");{const e=r.filters.map(t=>Og(t)).join(",");return`${r.op}(${e})`}}function g1(r,e){return r instanceof zt?function(n,a){return a instanceof zt&&n.op===a.op&&n.field.isEqual(a.field)&&$r(n.value,a.value)}(r,e):r instanceof br?function(n,a){return a instanceof br&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((o,c,f)=>o&&g1(c,a.filters[f]),!0):!1}(r,e):void xe(19439)}function y1(r){return r instanceof zt?function(t){return`${t.field.canonicalString()} ${t.op} ${ul(t.value)}`}(r):r instanceof br?function(t){return t.op.toString()+" {"+t.getFilters().map(y1).join(" ,")+"}"}(r):"Filter"}class jN extends zt{constructor(e,t,n){super(e,t,n),this.key=Ae.fromName(n.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class BN extends zt{constructor(e,t){super(e,"in",t),this.keys=v1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zN extends zt{constructor(e,t){super(e,"not-in",t),this.keys=v1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function v1(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Ae.fromName(n.referenceValue))}class HN extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wy(t)&&nc(t.arrayValue,this.value)}}class FN extends zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&nc(this.value.arrayValue,t)}}class YN extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!nc(this.value.arrayValue,t)}}class qN extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>nc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,t=null,n=[],a=[],o=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=a,this.limit=o,this.startAt=c,this.endAt=f,this.Ie=null}}function Fw(r,e=null,t=[],n=[],a=null,o=null,c=null){return new GN(r,e,t,n,a,o,c)}function Ty(r){const e=Pe(r);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Og(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),_h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>ul(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>ul(n)).join(",")),e.Ie=t}return e.Ie}function Ey(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!VN(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!g1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Hw(r.startAt,e.startAt)&&Hw(r.endAt,e.endAt)}function Pg(r){return Ae.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t=null,n=[],a=[],o=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=a,this.limit=o,this.limitType=c,this.startAt=f,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function QN(r,e,t,n,a,o,c,f){return new _l(r,e,t,n,a,o,c,f)}function Sy(r){return new _l(r)}function Yw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _1(r){return r.collectionGroup!==null}function Gu(r){const e=Pe(r);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Kt(cn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new rc(o,n))}),t.has(cn.keyField().canonicalString())||e.Ee.push(new rc(cn.keyField(),n))}return e.Ee}function Gr(r){const e=Pe(r);return e.de||(e.de=KN(e,Gu(r))),e.de}function KN(r,e){if(r.limitType==="F")return Fw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new rc(a.field,o)});const t=r.endAt?new Wf(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Wf(r.startAt.position,r.startAt.inclusive):null;return Fw(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Lg(r,e){const t=r.filters.concat([e]);return new _l(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Vg(r,e,t){return new _l(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function wh(r,e){return Ey(Gr(r),Gr(e))&&r.limitType===e.limitType}function b1(r){return`${Ty(Gr(r))}|lt:${r.limitType}`}function zo(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(a=>y1(a)).join(", ")}]`),_h(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>ul(a)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>ul(a)).join(",")),`Target(${n})`}(Gr(r))}; limitType=${r.limitType})`}function Th(r,e){return e.isFoundDocument()&&function(n,a){const o=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ae.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(r,e)&&function(n,a){for(const o of Gu(n))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(r,e)&&function(n,a){for(const o of n.filters)if(!o.matches(a))return!1;return!0}(r,e)&&function(n,a){return!(n.startAt&&!function(c,f,p){const g=zw(c,f,p);return c.inclusive?g<=0:g<0}(n.startAt,Gu(n),a)||n.endAt&&!function(c,f,p){const g=zw(c,f,p);return c.inclusive?g>=0:g>0}(n.endAt,Gu(n),a))}(r,e)}function WN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function w1(r){return(e,t)=>{let n=!1;for(const a of Gu(r)){const o=XN(a,e,t);if(o!==0)return o;n=n||a.field.isKeyField()}return 0}}function XN(r,e,t){const n=r.field.isKeyField()?Ae.comparator(e.key,t.key):function(o,c,f){const p=c.data.field(o),g=f.data.field(o);return p!==null&&g!==null?ll(p,g):xe(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return xe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[a,o]of n)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[t]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,(t,n)=>{for(const[a,o]of n)e(a,o)})}isEmpty(){return i1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Et(Ae.comparator);function Pi(){return $N}const T1=new Et(Ae.comparator);function zu(...r){let e=T1;for(const t of r)e=e.insert(t.key,t);return e}function E1(r){let e=T1;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Rs(){return Qu()}function S1(){return Qu()}function Qu(){return new Fs(r=>r.toString(),(r,e)=>r.isEqual(e))}const ZN=new Et(Ae.comparator),JN=new Kt(Ae.comparator);function qe(...r){let e=JN;for(const t of r)e=e.add(t);return e}const eM=new Kt(Be);function tM(){return eM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gf(e)?"-0":e}}function D1(r){return{integerValue:""+r}}function nM(r,e){return xN(e)?D1(e):Dy(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this._=void 0}}function rM(r,e,t){return r instanceof ic?function(a,o){const c={fields:{[o1]:{stringValue:s1},[u1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&by(o)&&(o=bh(o)),o&&(c.fields[l1]=o),{mapValue:c}}(t,e):r instanceof ac?C1(r,e):r instanceof sc?R1(r,e):function(a,o){const c=A1(a,o),f=qw(c)+qw(a.Re);return Mg(c)&&Mg(a.Re)?D1(f):Dy(a.serializer,f)}(r,e)}function iM(r,e,t){return r instanceof ac?C1(r,e):r instanceof sc?R1(r,e):t}function A1(r,e){return r instanceof Xf?function(n){return Mg(n)||function(o){return!!o&&"doubleValue"in o}(n)}(e)?e:{integerValue:0}:null}class ic extends Eh{}class ac extends Eh{constructor(e){super(),this.elements=e}}function C1(r,e){const t=x1(e);for(const n of r.elements)t.some(a=>$r(a,n))||t.push(n);return{arrayValue:{values:t}}}class sc extends Eh{constructor(e){super(),this.elements=e}}function R1(r,e){let t=x1(e);for(const n of r.elements)t=t.filter(a=>!$r(a,n));return{arrayValue:{values:t}}}class Xf extends Eh{constructor(e,t){super(),this.serializer=e,this.Re=t}}function qw(r){return Nt(r.integerValue||r.doubleValue)}function x1(r){return wy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t){this.field=e,this.transform=t}}function sM(r,e){return r.field.isEqual(e.field)&&function(n,a){return n instanceof ac&&a instanceof ac||n instanceof sc&&a instanceof sc?ol(n.elements,a.elements,$r):n instanceof Xf&&a instanceof Xf?$r(n.Re,a.Re):n instanceof ic&&a instanceof ic}(r.transform,e.transform)}class oM{constructor(e,t){this.version=e,this.transformResults=t}}class Nn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Sh{}function k1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Dh(r.key,Nn.none()):new gc(r.key,r.data,Nn.none());{const t=r.data,n=In.empty();let a=new Kt(cn.comparator);for(let o of e.fields)if(!a.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?n.delete(o):n.set(o,c),a=a.add(o)}return new za(r.key,n,new Fn(a.toArray()),Nn.none())}}function lM(r,e,t){r instanceof gc?function(a,o,c){const f=a.value.clone(),p=Qw(a.fieldTransforms,o,c.transformResults);f.setAll(p),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,t):r instanceof za?function(a,o,c){if(!Tf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const f=Qw(a.fieldTransforms,o,c.transformResults),p=o.data;p.setAll(I1(a)),p.setAll(f),o.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(r,e,t):function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Ku(r,e,t,n){return r instanceof gc?function(o,c,f,p){if(!Tf(o.precondition,c))return f;const g=o.value.clone(),y=Kw(o.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(r,e,t,n):r instanceof za?function(o,c,f,p){if(!Tf(o.precondition,c))return f;const g=Kw(o.fieldTransforms,p,c),y=c.data;return y.setAll(I1(o)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(r,e,t,n):function(o,c,f){return Tf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(r,e,t)}function uM(r,e){let t=null;for(const n of r.fieldTransforms){const a=e.data.field(n.field),o=A1(n.transform,a||null);o!=null&&(t===null&&(t=In.empty()),t.set(n.field,o))}return t||null}function Gw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&ol(n,a,(o,c)=>sM(o,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class gc extends Sh{constructor(e,t,n,a=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class za extends Sh{constructor(e,t,n,a,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function I1(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Qw(r,e,t){const n=new Map;rt(r.length===t.length,32656,{Ve:t.length,me:r.length});for(let a=0;a<t.length;a++){const o=r[a],c=o.transform,f=e.data.field(o.field);n.set(o.field,iM(c,f,t[a]))}return n}function Kw(r,e,t){const n=new Map;for(const a of r){const o=a.transform,c=t.data.field(a.field);n.set(a.field,rM(o,c,e))}return n}class Dh extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cM extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,t,n,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&lM(o,e,n[a])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ku(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ku(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=S1();return this.mutations.forEach(a=>{const o=e.get(a.key),c=o.overlayedDocument;let f=this.applyToLocalView(c,o.mutatedFields);f=t.has(a.key)?null:f;const p=k1(c,f);p!==null&&n.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,(t,n)=>Gw(t,n))&&ol(this.baseMutations,e.baseMutations,(t,n)=>Gw(t,n))}}class Ay{constructor(e,t,n,a){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=a}static from(e,t,n){rt(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let a=function(){return ZN}();const o=e.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,n[c].version);return new Ay(e,t,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,We;function pM(r){switch(r){case ae.OK:return xe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function N1(r){if(r===void 0)return Oi("GRPC error has no .code"),ae.UNKNOWN;switch(r){case Bt.OK:return ae.OK;case Bt.CANCELLED:return ae.CANCELLED;case Bt.UNKNOWN:return ae.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ae.INTERNAL;case Bt.UNAVAILABLE:return ae.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ae.NOT_FOUND;case Bt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Bt.ABORTED:return ae.ABORTED;case Bt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Bt.DATA_LOSS:return ae.DATA_LOSS;default:return xe(39323,{code:r})}}(We=Bt||(Bt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new Ca([4294967295,4294967295],0);function Ww(r){const e=t1().encode(r),t=new QE;return t.update(e),new Uint8Array(t.digest())}function Xw(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ca([t,n],0),new Ca([a,o],0)]}class Cy{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Hu(`Invalid padding: ${t}`);if(n<0)throw new Hu(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Hu(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Hu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Ca.fromNumber(this.pe)}we(e,t,n){let a=e.add(t.multiply(Ca.fromNumber(n)));return a.compare(mM)===1&&(a=new Ca([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Ww(e),[n,a]=Xw(t);for(let o=0;o<this.hashCount;o++){const c=this.we(n,a,o);if(!this.Se(c))return!1}return!0}static create(e,t,n){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new Cy(o,a,t);return n.forEach(f=>c.insert(f)),c}insert(e){if(this.pe===0)return;const t=Ww(e),[n,a]=Xw(t);for(let o=0;o<this.hashCount;o++){const c=this.we(n,a,o);this.be(c)}}be(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t,n,a,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const a=new Map;return a.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ah(Oe.min(),a,new Et(Be),Pi(),qe())}}class yc{constructor(e,t,n,a,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new yc(n,t,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,t,n,a){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=a}}class M1{constructor(e,t){this.targetId=e,this.Ce=t}}class O1{constructor(e,t,n=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=a}}class $w{constructor(){this.Fe=0,this.Me=Zw(),this.xe=fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=qe(),t=qe(),n=qe();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:n=n.add(a);break;default:xe(38017,{changeType:o})}}),new yc(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Zw()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,rt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class gM{constructor(e){this.ze=e,this.je=new Map,this.He=Pi(),this.Je=lf(),this.Ye=lf(),this.Ze=new Et(Be)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:xe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((n,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,n=e.Ce.count,a=this._t(t);if(a){const o=a.target;if(Pg(o))if(n===0){const c=new Ae(o.path);this.tt(t,c,vn.newNoDocument(c,Oe.min()))}else rt(n===1,20013,{expectedCount:n});else{const c=this.ut(t);if(c!==n){const f=this.ct(e),p=f?this.lt(f,e,c):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:o=0}=t;let c,f;try{c=Pa(n).toUint8Array()}catch(p){if(p instanceof a1)return sl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Cy(c,a,o)}catch(p){return sl(p instanceof Hu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.pe===0?null:f}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let a=0;return n.forEach(o=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,o,null),a++)}),a}It(e){const t=new Map;this.je.forEach((o,c)=>{const f=this._t(c);if(f){if(o.current&&Pg(f.target)){const p=new Ae(f.target.path);this.Et(p).has(c)||this.dt(c,p)||this.tt(c,p,vn.newNoDocument(p,e))}o.Le&&(t.set(c,o.qe()),o.Qe())}});let n=qe();this.Ye.forEach((o,c)=>{let f=!0;c.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(n=n.add(o))}),this.He.forEach((o,c)=>c.setReadTime(e));const a=new Ah(e,t,this.Ze,this.He,n);return this.He=Pi(),this.Je=lf(),this.Ye=lf(),this.Ze=new Et(Be),a}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new $w,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Kt(Be),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Kt(Be),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new $w),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function lf(){return new Et(Ae.comparator)}function Zw(){return new Et(Ae.comparator)}const yM={asc:"ASCENDING",desc:"DESCENDING"},vM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_M={and:"AND",or:"OR"};class bM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ug(r,e){return r.useProto3Json||_h(e)?e:{value:e}}function $f(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wM(r,e){return $f(r,e.toTimestamp())}function Qr(r){return rt(!!r,49232),Oe.fromTimestamp(function(t){const n=Oa(t);return new Qt(n.seconds,n.nanos)}(r))}function Ry(r,e){return jg(r,e).canonicalString()}function jg(r,e){const t=function(a){return new yt(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function L1(r){const e=yt.fromString(r);return rt(z1(e),10190,{key:e.toString()}),e}function Bg(r,e){return Ry(r.databaseId,e.path)}function ug(r,e){const t=L1(e);if(t.get(1)!==r.databaseId.projectId)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ae(U1(t))}function V1(r,e){return Ry(r.databaseId,e)}function TM(r){const e=L1(r);return e.length===4?yt.emptyPath():U1(e)}function zg(r){return new yt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function U1(r){return rt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Jw(r,e,t){return{name:Bg(r,e),fields:t.value.mapValue.fields}}function EM(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(g,y){return g.useProto3Json?(rt(y===void 0||typeof y=="string",58123),fn.fromBase64String(y||"")):(rt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),fn.fromUint8Array(y||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const y=g.code===void 0?ae.UNKNOWN:N1(g.code);return new ve(y,g.message||"")}(c);t=new O1(n,a,o,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=ug(r,n.document.name),o=Qr(n.document.updateTime),c=n.document.createTime?Qr(n.document.createTime):Oe.min(),f=new In({mapValue:{fields:n.document.fields}}),p=vn.newFoundDocument(a,o,c,f),g=n.targetIds||[],y=n.removedTargetIds||[];t=new Ef(g,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=ug(r,n.document),o=n.readTime?Qr(n.readTime):Oe.min(),c=vn.newNoDocument(a,o),f=n.removedTargetIds||[];t=new Ef([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=ug(r,n.document),o=n.removedTargetIds||[];t=new Ef([],o,a,null)}else{if(!("filter"in e))return xe(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:o}=n,c=new hM(a,o),f=n.targetId;t=new M1(f,c)}}return t}function SM(r,e){let t;if(e instanceof gc)t={update:Jw(r,e.key,e.value)};else if(e instanceof Dh)t={delete:Bg(r,e.key)};else if(e instanceof za)t={update:Jw(r,e.key,e.data),updateMask:MM(e.fieldMask)};else{if(!(e instanceof cM))return xe(16599,{ft:e.type});t={verify:Bg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(o,c){const f=c.transform;if(f instanceof ic)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ac)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof sc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Xf)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw xe(20930,{transform:c.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:wM(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:xe(27497)}(r,e.precondition)),t}function DM(r,e){return r&&r.length>0?(rt(e!==void 0,14353),r.map(t=>function(a,o){let c=a.updateTime?Qr(a.updateTime):Qr(o);return c.isEqual(Oe.min())&&(c=Qr(o)),new oM(c,a.transformResults||[])}(t,e))):[]}function AM(r,e){return{documents:[V1(r,e.path)]}}function CM(r,e){const t={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=V1(r,a);const o=function(g){if(g.length!==0)return B1(br.create(g,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(g){if(g.length!==0)return g.map(y=>function(T){return{field:Ho(T.field),direction:kM(T.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Ug(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function RM(r){let e=TM(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let a=null;if(n>0){rt(n===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=function(_){const T=j1(_);return T instanceof br&&m1(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(_){return _.map(T=>function(C){return new rc(Fo(C.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(_){let T;return T=typeof _=="object"?_.value:_,_h(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(_){const T=!!_.before,A=_.values||[];return new Wf(A,T)}(t.startAt));let g=null;return t.endAt&&(g=function(_){const T=!_.before,A=_.values||[];return new Wf(A,T)}(t.endAt)),QN(e,a,c,o,f,"F",p,g)}function xM(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function j1(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Fo(t.unaryFilter.field);return zt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Fo(t.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fo(t.unaryFilter.field);return zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Fo(t.unaryFilter.field);return zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(r):r.fieldFilter!==void 0?function(t){return zt.create(Fo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return br.create(t.compositeFilter.filters.map(n=>j1(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(t.compositeFilter.op))}(r):xe(30097,{filter:r})}function kM(r){return yM[r]}function IM(r){return vM[r]}function NM(r){return _M[r]}function Ho(r){return{fieldPath:r.canonicalString()}}function Fo(r){return cn.fromServerFormat(r.fieldPath)}function B1(r){return r instanceof zt?function(t){if(t.op==="=="){if(Bw(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(jw(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Bw(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(jw(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:IM(t.op),value:t.value}}}(r):r instanceof br?function(t){const n=t.getFilters().map(a=>B1(a));return n.length===1?n[0]:{compositeFilter:{op:NM(t.op),filters:n}}}(r):xe(54877,{filter:r})}function MM(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function z1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t,n,a,o=Oe.min(),c=Oe.min(),f=fn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new wa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.wt=e}}function PM(r){const e=RM({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.Cn=new VM}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Ma.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Ma.min())}updateCollectionGroup(e,t,n){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class VM{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t]||new Kt(yt.comparator),o=!a.has(n);return this.index[t]=a.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t];return a&&a.has(n)}getEntries(e){return(this.index[e]||new Kt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H1=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(H1,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new cl(0)}static lr(){return new cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="LruGarbageCollector",UM=1048576;function nT([r,e],[t,n]){const a=Be(r,t);return a===0?Be(e,n):a}class jM{constructor(e){this.Er=e,this.buffer=new Kt(nT),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();nT(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BM{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ye(tT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vl(t)?ye(tT,"Ignoring IndexedDB error during garbage collection: ",t):await yl(t)}await this.mr(3e5)})}}class zM{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return se.resolve(vh.le);const n=new jM(t);return this.gr.forEachTarget(e,a=>n.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>n.Rr(a))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(eT)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eT):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,a,o,c,f,p,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a))).next(_=>(n=_,f=Date.now(),this.removeTargets(e,n,t))).next(_=>(o=_,p=Date.now(),this.removeOrphanedDocuments(e,n))).next(_=>(g=Date.now(),Bo()<=Ye.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${o} targets in `+(p-f)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_})))}}function HM(r,e){return new zM(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.changes=new Fs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?se.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,t,n,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(n!==null&&Ku(n.mutation,a,Fn.empty(),Qt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,qe()).next(()=>n))}getLocalViewOfDocuments(e,t,n=qe()){const a=Rs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,n).next(o=>{let c=zu();return o.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const n=Rs();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,qe()))}populateOverlays(e,t,n){const a=[];return n.forEach(o=>{t.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,n,a){let o=Pi();const c=Qu(),f=function(){return Qu()}();return t.forEach((p,g)=>{const y=n.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof za)?o=o.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Ku(y.mutation,g,y.mutation.getFieldMask(),Qt.now())):c.set(g.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(p=>(p.forEach((g,y)=>c.set(g,y)),t.forEach((g,y)=>{var _;return f.set(g,new YM(y,(_=c.get(g))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,t){const n=Qu();let a=new Et((c,f)=>c-f),o=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let y=n.get(p)||Fn.empty();y=f.applyToLocalView(g,y),n.set(p,y);const _=(a.get(f.batchId)||qe()).add(p);a=a.insert(f.batchId,_)})}).next(()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,y=p.value,_=S1();y.forEach(T=>{if(!o.has(T)){const A=k1(t.get(T),n.get(T));A!==null&&_.set(T,A),o=o.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return se.waitFor(c)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,a){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,a):this.getDocumentsMatchingCollectionQuery(e,t,n,a)}getNextDocuments(e,t,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,a).next(o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,a-o.size):se.resolve(Rs());let f=Ju,p=o;return c.next(g=>se.forEach(g,(y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),o.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{p=p.insert(y,T)}))).next(()=>this.populateOverlays(e,g,o)).next(()=>this.computeViews(e,p,g,qe())).next(y=>({batchId:f,changes:E1(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(n=>{let a=zu();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,n,a){const o=t.collectionGroup;let c=zu();return this.indexManager.getCollectionParents(e,o).next(f=>se.forEach(f,p=>{const g=function(_,T){return new _l(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,p.child(o));return this.getDocumentsMatchingCollectionQuery(e,g,n,a).next(y=>{y.forEach((_,T)=>{c=c.insert(_,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,n,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,a))).next(c=>{o.forEach((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,vn.newInvalidDocument(y)))});let f=zu();return c.forEach((p,g)=>{const y=o.get(p);y!==void 0&&Ku(y.mutation,g,Fn.empty(),Qt.now()),Th(t,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return se.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Qr(a.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:PM(a.bundledQuery),readTime:Qr(a.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.overlays=new Et(Ae.comparator),this.Qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Rs();return se.forEach(t,a=>this.getOverlay(e,a).next(o=>{o!==null&&n.set(a,o)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((a,o)=>{this.bt(e,t,o)}),se.resolve()}removeOverlaysForBatchId(e,t,n){const a=this.Qr.get(n);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(n)),se.resolve()}getOverlaysForCollection(e,t,n){const a=Rs(),o=t.length+1,c=new Ae(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===o&&p.largestBatchId>n&&a.set(p.getKey(),p)}return se.resolve(a)}getOverlaysForCollectionGroup(e,t,n,a){let o=new Et((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>n){let y=o.get(g.largestBatchId);y===null&&(y=Rs(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=Rs(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,y)=>f.set(g,y)),!(f.size()>=a)););return se.resolve(f)}bt(e,t,n){const a=this.overlays.get(n.key);if(a!==null){const c=this.Qr.get(a.largestBatchId).delete(n.key);this.Qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new fM(t,n));let o=this.Qr.get(t);o===void 0&&(o=qe(),this.Qr.set(t,o)),this.Qr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.$r=new Kt(en.Ur),this.Kr=new Kt(en.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new en(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.zr(new en(e,t))}jr(e,t){e.forEach(n=>this.removeReference(n,t))}Hr(e){const t=new Ae(new yt([])),n=new en(t,e),a=new en(t,e+1),o=[];return this.Kr.forEachInRange([n,a],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Ae(new yt([])),n=new en(t,e),a=new en(t,e+1);let o=qe();return this.Kr.forEachInRange([n,a],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new en(e,0),n=this.$r.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class en{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Ae.comparator(e.key,t.key)||Be(e.Zr,t.Zr)}static Wr(e,t){return Be(e.Zr,t.Zr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Kt(en.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,a){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new dM(o,t,n,a);this.mutationQueue.push(c);for(const f of a)this.Xr=this.Xr.add(new en(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=this.ti(n),o=a<0?0:a;return se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?_y:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new en(t,0),a=new en(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([n,a],c=>{const f=this.ei(c.Zr);o.push(f)}),se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Kt(Be);return t.forEach(a=>{const o=new en(a,0),c=new en(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],f=>{n=n.add(f.Zr)})}),se.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1;let o=n;Ae.isDocumentKey(o)||(o=o.child(""));const c=new en(new Ae(o),0);let f=new Kt(Be);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!n.isPrefixOf(g)&&(g.length===a&&(f=f.add(p.Zr)),!0)},c),se.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(n=>{const a=this.ei(n);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){rt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return se.forEach(t.mutations,a=>{const o=new en(a.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new en(t,0),a=this.Xr.firstAfterOrEqual(n);return se.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.ii=e,this.docs=function(){return new Et(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,a=this.docs.get(n),o=a?a.size:0,c=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return se.resolve(n?n.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let n=Pi();return t.forEach(a=>{const o=this.docs.get(a);n=n.insert(a,o?o.document.mutableCopy():vn.newInvalidDocument(a))}),se.resolve(n)}getDocumentsMatchingQuery(e,t,n,a){let o=Pi();const c=t.path,f=new Ae(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||DN(SN(y),n)<=0||(a.has(y.key)||Th(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return se.resolve(o)}getAllFromCollectionGroup(e,t,n,a){xe(9500)}si(e,t){return se.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new $M(this)}getSize(e){return se.resolve(this.size)}}class $M extends FM{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(n)}),se.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this.persistence=e,this.oi=new Fs(t=>Ty(t),Ey),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new xy,this.targetCount=0,this.ui=cl.cr()}forEachTarget(e,t){return this.oi.forEach((n,a)=>t(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),se.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new cl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Tr(t),se.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,n){let a=0;const o=[];return this.oi.forEach((c,f)=>{f.sequenceNumber<=t&&n.get(f.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),se.waitFor(o).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return se.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),se.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const a=this.persistence.referenceDelegate,o=[];return a&&t.forEach(c=>{o.push(a.markPotentiallyOrphaned(e,c))}),se.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return se.resolve(n)}containsKey(e,t){return se.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t){this.ci={},this.overlays={},this.li=new vh(0),this.hi=!1,this.hi=!0,this.Pi=new KM,this.referenceDelegate=e(this),this.Ti=new ZM(this),this.indexManager=new LM,this.remoteDocumentCache=function(a){return new XM(a)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new OM(t),this.Ei=new GM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new WM(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){ye("MemoryPersistence","Starting transaction:",e);const a=new JM(this.li.next());return this.referenceDelegate.di(),n(a).next(o=>this.referenceDelegate.Ai(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Ri(e,t){return se.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class JM extends CN{constructor(e){super(),this.currentSequenceNumber=e}}class ky{constructor(e){this.persistence=e,this.Vi=new xy,this.mi=null}static fi(e){return new ky(e)}get gi(){if(this.mi)return this.mi;throw xe(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),se.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(o=>this.gi.add(o.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,n=>{const a=Ae.fromPath(n);return this.pi(e,a).next(o=>{o||t.removeEntry(a,Oe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(n=>{n?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return se.or([()=>se.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Zf{constructor(e,t){this.persistence=e,this.yi=new Fs(n=>kN(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=HM(this,t)}static fi(e,t){return new Zf(e,t)}di(){}Ai(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(a=>n+a))}Sr(e){let t=0;return this.yr(e,n=>{t++}).next(()=>t)}yr(e,t){return se.forEach(this.yi,(n,a)=>this.Dr(e,n,a).next(o=>o?se.resolve():t(a)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.si(e,c=>this.Dr(e,c,t).next(f=>{f||(n++,o.removeEntry(c,Oe.min()))})).next(()=>o.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),se.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bf(e.data.value)),t}Dr(e,t,n){return se.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return se.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t,n,a){this.targetId=e,this.fromCache=t,this.ds=n,this.As=a}static Rs(e,t){let n=qe(),a=qe();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Iy(e,t.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Xk()?8:RN(bn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,a){const o={result:null};return this.ws(e,t).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Ss(e,t,a,n).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new eO;return this.bs(e,t,c).next(f=>{if(o.result=f,this.fs)return this.Ds(e,t,c,f.size)})}).next(()=>o.result)}Ds(e,t,n,a){return n.documentReadCount<this.gs?(Bo()<=Ye.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(Bo()<=Ye.DEBUG&&ye("QueryEngine","Query:",zo(t),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ps*a?(Bo()<=Ye.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gr(t))):se.resolve())}ws(e,t){if(Yw(t))return se.resolve(null);let n=Gr(t);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Vg(t,null,"F"),n=Gr(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(o=>{const c=qe(...o);return this.ys.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,n).next(p=>{const g=this.vs(t,f);return this.Cs(t,g,c,p.readTime)?this.ws(e,Vg(t,null,"F")):this.Fs(e,g,t,p)}))})))}Ss(e,t,n,a){return Yw(t)||a.isEqual(Oe.min())?se.resolve(null):this.ys.getDocuments(e,n).next(o=>{const c=this.vs(t,o);return this.Cs(t,c,n,a)?se.resolve(null):(Bo()<=Ye.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zo(t)),this.Fs(e,c,t,EN(a,Ju)).next(f=>f))})}vs(e,t){let n=new Kt(w1(e));return t.forEach((a,o)=>{Th(e,o)&&(n=n.add(o))}),n}Cs(e,t,n,a){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}bs(e,t,n){return Bo()<=Ye.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",zo(t)),this.ys.getDocumentsMatchingQuery(e,t,Ma.min(),n)}Fs(e,t,n,a){return this.ys.getDocumentsMatchingQuery(e,n,a).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="LocalStore",nO=3e8;class rO{constructor(e,t,n,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new Et(Be),this.Os=new Fs(o=>Ty(o),Ey),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qM(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function iO(r,e,t,n){return new rO(r,e,t,n)}async function Y1(r,e){const t=Pe(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let a;return t.mutationQueue.getAllMutationBatches(n).next(o=>(a=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(n))).next(o=>{const c=[],f=[];let p=qe();for(const g of a){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of o){f.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(n,p).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:f}))})})}function aO(r,e){const t=Pe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,p,g,y){const _=g.batch,T=_.keys();let A=se.resolve();return T.forEach(C=>{A=A.next(()=>y.getEntry(p,C)).next(V=>{const x=g.docVersions.get(C);rt(x!==null,48541),V.version.compareTo(x)<0&&(_.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),y.addEntry(V)))})}),A.next(()=>f.mutationQueue.removeMutationBatch(p,_))}(t,n,e,o).next(()=>o.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(f){let p=qe();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(n,a))})}function q1(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function sO(r,e){const t=Pe(r),n=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const f=[];e.targetChanges.forEach((y,_)=>{const T=a.get(_);if(!T)return;f.push(t.Ti.removeMatchingKeys(o,y.removedDocuments,_).next(()=>t.Ti.addMatchingKeys(o,y.addedDocuments,_)));let A=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken(fn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,n)),a=a.insert(_,A),function(V,x,z){return V.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=nO?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(T,A,y)&&f.push(t.Ti.updateTargetData(o,A))});let p=Pi(),g=qe();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),f.push(oO(o,c,e.documentUpdates).next(y=>{p=y.qs,g=y.Qs})),!n.isEqual(Oe.min())){const y=t.Ti.getLastRemoteSnapshotVersion(o).next(_=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,n));f.push(y)}return se.waitFor(f).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,p,g)).next(()=>p)}).then(o=>(t.xs=a,o))}function oO(r,e,t){let n=qe(),a=qe();return t.forEach(o=>n=n.add(o)),e.getEntries(r,n).next(o=>{let c=Pi();return t.forEach((f,p)=>{const g=o.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):ye(Ny,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{qs:c,Qs:a}})}function lO(r,e){const t=Pe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=_y),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function uO(r,e){const t=Pe(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return t.Ti.getTargetData(n,e).next(o=>o?(a=o,se.resolve(a)):t.Ti.allocateTargetId(n).next(c=>(a=new wa(e,c,"TargetPurposeListen",n.currentSequenceNumber),t.Ti.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=t.xs.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(n.targetId,n),t.Os.set(e,n.targetId)),n})}async function Hg(r,e,t){const n=Pe(r),a=n.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,c=>n.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!vl(c))throw c;ye(Ny,`Failed to update sequence numbers for target ${e}: ${c}`)}n.xs=n.xs.remove(e),n.Os.delete(a.target)}function rT(r,e,t){const n=Pe(r);let a=Oe.min(),o=qe();return n.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,y){const _=Pe(p),T=_.Os.get(y);return T!==void 0?se.resolve(_.xs.get(T)):_.Ti.getTargetData(g,y)}(n,c,Gr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,n.Ti.getMatchingKeysForTargetId(c,f.targetId).next(p=>{o=p})}).next(()=>n.Ms.getDocumentsMatchingQuery(c,e,t?a:Oe.min(),t?o:qe())).next(f=>(cO(n,WN(e),f),{documents:f,$s:o})))}function cO(r,e,t){let n=r.Ns.get(e)||Oe.min();t.forEach((a,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),r.Ns.set(e,n)}class iT{constructor(){this.activeTargetIds=tM()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dO{constructor(){this.xo=new iT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new iT,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="ConnectivityMonitor";class sT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ye(aT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ye(aT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf=null;function Fg(){return uf===null?uf=function(){return 268435456+Math.round(2147483648*Math.random())}():uf++,"0x"+uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="RestConnection",hO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${n}/databases/${a}`,this.Go=this.databaseId.database===Qf?`project_id=${n}`:`project_id=${n}&database_id=${a}`}zo(e,t,n,a,o){const c=Fg(),f=this.jo(e,t.toUriEncodedString());ye(cg,`Sending RPC '${e}' ${c}:`,f,n);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,a,o);const{host:g}=new URL(f),y=hc(g);return this.Jo(e,f,p,n,y).then(_=>(ye(cg,`Received RPC '${e}' ${c}: `,_),_),_=>{throw sl(cg,`RPC '${e}' ${c} failed with error: `,_,"url: ",f,"request:",n),_})}Yo(e,t,n,a,o,c){return this.zo(e,t,n,a,o)}Ho(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,o)=>e[o]=a),n&&n.headers.forEach((a,o)=>e[o]=a)}jo(e,t){const n=hO[e];return`${this.Ko}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class gO extends pO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,a,o){const c=Fg();return new Promise((f,p)=>{const g=new KE;g.setWithCredentials(!0),g.listenOnce(WE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case _f.NO_ERROR:const _=g.getResponseJson();ye(gn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),f(_);break;case _f.TIMEOUT:ye(gn,`RPC '${e}' ${c} timed out`),p(new ve(ae.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const T=g.getStatus();if(ye(gn,`RPC '${e}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const C=A==null?void 0:A.error;if(C&&C.status&&C.message){const V=function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf($)>=0?$:ae.UNKNOWN}(C.status);p(new ve(V,C.message))}else p(new ve(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(ae.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ye(gn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(a);ye(gn,`RPC '${e}' ${c} sending request:`,a),g.send(t,"POST",y,n,15)})}T_(e,t,n){const a=Fg(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=ZE(),f=$E(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const y=o.join("");ye(gn,`Creating RPC '${e}' stream ${a}: ${y}`,p);const _=c.createWebChannel(y,p);let T=!1,A=!1;const C=new mO({Zo:x=>{A?ye(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,x):(T||(ye(gn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),T=!0),ye(gn,`RPC '${e}' stream ${a} sending:`,x),_.send(x))},Xo:()=>_.close()}),V=(x,z,$)=>{x.listen(z,Y=>{try{$(Y)}catch(oe){setTimeout(()=>{throw oe},0)}})};return V(_,Bu.EventType.OPEN,()=>{A||(ye(gn,`RPC '${e}' stream ${a} transport opened.`),C.__())}),V(_,Bu.EventType.CLOSE,()=>{A||(A=!0,ye(gn,`RPC '${e}' stream ${a} transport closed`),C.u_())}),V(_,Bu.EventType.ERROR,x=>{A||(A=!0,sl(gn,`RPC '${e}' stream ${a} transport errored. Name:`,x.name,"Message:",x.message),C.u_(new ve(ae.UNAVAILABLE,"The operation could not be completed")))}),V(_,Bu.EventType.MESSAGE,x=>{var z;if(!A){const $=x.data[0];rt(!!$,16349);const Y=$,oe=(Y==null?void 0:Y.error)||((z=Y[0])===null||z===void 0?void 0:z.error);if(oe){ye(gn,`RPC '${e}' stream ${a} received error:`,oe);const le=oe.status;let he=function(R){const M=Bt[R];if(M!==void 0)return N1(M)}(le),N=oe.message;he===void 0&&(he=ae.INTERNAL,N="Unknown error status: "+le+" with message "+oe.message),A=!0,C.u_(new ve(he,N)),_.close()}else ye(gn,`RPC '${e}' stream ${a} received:`,$),C.c_($)}}),V(f,XE.STAT_EVENT,x=>{x.stat===kg.PROXY?ye(gn,`RPC '${e}' stream ${a} detected buffering proxy`):x.stat===kg.NOPROXY&&ye(gn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}}function dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(r){return new bM(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t,n=1e3,a=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=n,this.E_=a,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),a=Math.max(0,t-n);a>0&&ye("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="PersistentStream";class Q1{constructor(e,t,n,a,o,c,f,p){this.xi=e,this.y_=n,this.w_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new G1(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Oi(t.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.S_===t&&this.K_(n,a)},n=>{e(()=>{const a=new ve(ae.UNKNOWN,"Fetching auth token failed: "+n.message);return this.W_(a)})})}K_(e,t){const n=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{n(()=>this.W_(a))}),this.stream.onMessage(a=>{n(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ye(oT,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(ye(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yO extends Q1{constructor(e,t,n,a,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,a,c),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=EM(this.serializer,e),n=function(o){if(!("targetChange"in o))return Oe.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?Qr(c.readTime):Oe.min()}(e);return this.listener.j_(t,n)}H_(e){const t={};t.database=zg(this.serializer),t.addTarget=function(o,c){let f;const p=c.target;if(f=Pg(p)?{documents:AM(o,p)}:{query:CM(o,p).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=P1(o,c.resumeToken);const g=Ug(o,c.expectedCount);g!==null&&(f.expectedCount=g)}else if(c.snapshotVersion.compareTo(Oe.min())>0){f.readTime=$f(o,c.snapshotVersion.toTimestamp());const g=Ug(o,c.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const n=xM(this.serializer,e);n&&(t.labels=n),this.L_(t)}J_(e){const t={};t.database=zg(this.serializer),t.removeTarget=e,this.L_(t)}}class vO extends Q1{constructor(e,t,n,a,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,a,c),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=DM(e.writeResults,e.commitTime),n=Qr(e.commitTime);return this.listener.ea(n,t)}ta(){const e={};e.database=zg(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>SM(this.serializer,n))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{}class bO extends _O{constructor(e,t,n,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=a,this.na=!1}ra(){if(this.na)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(e,jg(t,n),a,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(ae.UNKNOWN,o.toString())})}Yo(e,t,n,a,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Yo(e,jg(t,n),a,c,f,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ae.UNKNOWN,c.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class wO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Oi(t),this.oa=!1):ye("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class TO{constructor(e,t,n,a,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(c=>{n.enqueueAndForget(async()=>{Ys(this)&&(ye(Bs,"Restarting streams for network reachability change."),await async function(p){const g=Pe(p);g.Ta.add(4),await vc(g),g.da.set("Unknown"),g.Ta.delete(4),await Rh(g)}(this))})}),this.da=new wO(n,a)}}async function Rh(r){if(Ys(r))for(const e of r.Ia)await e(!0)}async function vc(r){for(const e of r.Ia)await e(!1)}function K1(r,e){const t=Pe(r);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Ly(t)?Py(t):bl(t).M_()&&Oy(t,e))}function My(r,e){const t=Pe(r),n=bl(t);t.Pa.delete(e),n.M_()&&W1(t,e),t.Pa.size===0&&(n.M_()?n.N_():Ys(t)&&t.da.set("Unknown"))}function Oy(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bl(r).H_(e)}function W1(r,e){r.Aa.Ke(e),bl(r).J_(e)}function Py(r){r.Aa=new gM({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),bl(r).start(),r.da._a()}function Ly(r){return Ys(r)&&!bl(r).F_()&&r.Pa.size>0}function Ys(r){return Pe(r).Ta.size===0}function X1(r){r.Aa=void 0}async function EO(r){r.da.set("Online")}async function SO(r){r.Pa.forEach((e,t)=>{Oy(r,e)})}async function DO(r,e){X1(r),Ly(r)?(r.da.ca(e),Py(r)):r.da.set("Unknown")}async function AO(r,e,t){if(r.da.set("Online"),e instanceof O1&&e.state===2&&e.cause)try{await async function(a,o){const c=o.cause;for(const f of o.targetIds)a.Pa.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Pa.delete(f),a.Aa.removeTarget(f))}(r,e)}catch(n){ye(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Jf(r,n)}else if(e instanceof Ef?r.Aa.Xe(e):e instanceof M1?r.Aa.ot(e):r.Aa.nt(e),!t.isEqual(Oe.min()))try{const n=await q1(r.localStore);t.compareTo(n)>=0&&await function(o,c){const f=o.Aa.It(c);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=o.Pa.get(g);y&&o.Pa.set(g,y.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,g)=>{const y=o.Pa.get(p);if(!y)return;o.Pa.set(p,y.withResumeToken(fn.EMPTY_BYTE_STRING,y.snapshotVersion)),W1(o,p);const _=new wa(y.target,p,g,y.sequenceNumber);Oy(o,_)}),o.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(n){ye(Bs,"Failed to raise snapshot:",n),await Jf(r,n)}}async function Jf(r,e,t){if(!vl(e))throw e;r.Ta.add(1),await vc(r),r.da.set("Offline"),t||(t=()=>q1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ye(Bs,"Retrying IndexedDB access"),await t(),r.Ta.delete(1),await Rh(r)})}function $1(r,e){return e().catch(t=>Jf(r,t,e))}async function xh(r){const e=Pe(r),t=Va(e);let n=e.ha.length>0?e.ha[e.ha.length-1].batchId:_y;for(;CO(e);)try{const a=await lO(e.localStore,n);if(a===null){e.ha.length===0&&t.N_();break}n=a.batchId,RO(e,a)}catch(a){await Jf(e,a)}Z1(e)&&J1(e)}function CO(r){return Ys(r)&&r.ha.length<10}function RO(r,e){r.ha.push(e);const t=Va(r);t.M_()&&t.Y_&&t.Z_(e.mutations)}function Z1(r){return Ys(r)&&!Va(r).F_()&&r.ha.length>0}function J1(r){Va(r).start()}async function xO(r){Va(r).ta()}async function kO(r){const e=Va(r);for(const t of r.ha)e.Z_(t.mutations)}async function IO(r,e,t){const n=r.ha.shift(),a=Ay.from(n,e,t);await $1(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await xh(r)}async function NO(r,e){e&&Va(r).Y_&&await async function(n,a){if(function(c){return pM(c)&&c!==ae.ABORTED}(a.code)){const o=n.ha.shift();Va(n).O_(),await $1(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,a)),await xh(n)}}(r,e),Z1(r)&&J1(r)}async function lT(r,e){const t=Pe(r);t.asyncQueue.verifyOperationInProgress(),ye(Bs,"RemoteStore received new credentials");const n=Ys(t);t.Ta.add(3),await vc(t),n&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await Rh(t)}async function MO(r,e){const t=Pe(r);e?(t.Ta.delete(2),await Rh(t)):e||(t.Ta.add(2),await vc(t),t.da.set("Unknown"))}function bl(r){return r.Ra||(r.Ra=function(t,n,a){const o=Pe(t);return o.ra(),new yO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(r.datastore,r.asyncQueue,{e_:EO.bind(null,r),n_:SO.bind(null,r),i_:DO.bind(null,r),j_:AO.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),Ly(r)?Py(r):r.da.set("Unknown")):(await r.Ra.stop(),X1(r))})),r.Ra}function Va(r){return r.Va||(r.Va=function(t,n,a){const o=Pe(t);return o.ra(),new vO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:xO.bind(null,r),i_:NO.bind(null,r),X_:kO.bind(null,r),ea:IO.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await xh(r)):(await r.Va.stop(),r.ha.length>0&&(ye(Bs,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t,n,a,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=a,this.removalCallback=o,this.deferred=new Ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,a,o){const c=Date.now()+n,f=new Vy(e,t,c,a,o);return f.start(n),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(r,e){if(Oi("AsyncQueue",`${e}: ${r}`),vl(r))return new ve(ae.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ae.comparator(t.key,n.key):(t,n)=>Ae.comparator(t.key,n.key),this.keyedMap=zu(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,o=n.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Ko;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(){this.ma=new Et(Ae.comparator)}track(e){const t=e.doc.key,n=this.ma.get(t);n?e.type!==0&&n.type===3?this.ma=this.ma.insert(t,e):e.type===3&&n.type!==1?this.ma=this.ma.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ma=this.ma.remove(t):e.type===1&&n.type===2?this.ma=this.ma.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):xe(63341,{Vt:e,fa:n}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,n)=>{e.push(n)}),e}}class dl{constructor(e,t,n,a,o,c,f,p,g){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,n,a,o){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new dl(e,t,Ko.emptySet(t),c,n,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==n[a].type||!t[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class PO{constructor(){this.queries=cT(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,n){const a=Pe(t),o=a.queries;a.queries=cT(),o.forEach((c,f)=>{for(const p of f.ya)p.onError(n)})})(this,new ve(ae.ABORTED,"Firestore shutting down"))}}function cT(){return new Fs(r=>b1(r),wh)}async function eS(r,e){const t=Pe(r);let n=3;const a=e.query;let o=t.queries.get(a);o?!o.wa()&&e.Sa()&&(n=2):(o=new OO,n=e.Sa()?0:1);try{switch(n){case 0:o.pa=await t.onListen(a,!0);break;case 1:o.pa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=Uy(c,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&jy(t)}async function tS(r,e){const t=Pe(r),n=e.query;let a=3;const o=t.queries.get(n);if(o){const c=o.ya.indexOf(e);c>=0&&(o.ya.splice(c,1),o.ya.length===0?a=e.Sa()?0:1:!o.wa()&&e.Sa()&&(a=2))}switch(a){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function LO(r,e){const t=Pe(r);let n=!1;for(const a of e){const o=a.query,c=t.queries.get(o);if(c){for(const f of c.ya)f.va(a)&&(n=!0);c.pa=a}}n&&jy(t)}function VO(r,e,t){const n=Pe(r),a=n.queries.get(e);if(a)for(const o of a.ya)o.onError(t);n.queries.delete(e)}function jy(r){r.ba.forEach(e=>{e.next()})}var Yg,dT;(dT=Yg||(Yg={})).Ca="default",dT.Cache="cache";class nS{constructor(e,t,n){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=n||{}}va(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new dl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const n=t!=="Offline";return(!this.options.La||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e){this.key=e}}class iS{constructor(e){this.key=e}}class UO{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=qe(),this.mutatedKeys=qe(),this.Ha=w1(e),this.Ja=new Ko(this.Ha)}get Ya(){return this.Ga}Za(e,t){const n=t?t.Xa:new uT,a=t?t.Ja:this.Ja;let o=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,_)=>{const T=a.get(y),A=Th(this.query,_)?_:null,C=!!T&&this.mutatedKeys.has(T.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let x=!1;T&&A?T.data.isEqual(A.data)?C!==V&&(n.track({type:3,doc:A}),x=!0):this.eu(T,A)||(n.track({type:2,doc:A}),x=!0,(p&&this.Ha(A,p)>0||g&&this.Ha(A,g)<0)&&(f=!0)):!T&&A?(n.track({type:0,doc:A}),x=!0):T&&!A&&(n.track({type:1,doc:T}),x=!0,(p||g)&&(f=!0)),x&&(A?(c=c.add(A),o=V?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),n.track({type:1,doc:y})}return{Ja:c,Xa:n,Cs:f,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,a){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const c=e.Xa.ga();c.sort((y,_)=>function(A,C){const V=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Vt:x})}};return V(A)-V(C)}(y.type,_.type)||this.Ha(y.doc,_.doc)),this.tu(n),a=a!=null&&a;const f=t&&!a?this.nu():[],p=this.ja.size===0&&this.current&&!a?1:0,g=p!==this.za;return this.za=p,c.length!==0||g?{snapshot:new dl(this.query,e.Ja,o,c,e.mutatedKeys,p===0,g,!1,!!n&&n.resumeToken.approximateByteSize()>0),ru:f}:{ru:f}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new uT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=qe(),this.Ja.forEach(n=>{this.iu(n.key)&&(this.ja=this.ja.add(n.key))});const t=[];return e.forEach(n=>{this.ja.has(n)||t.push(new iS(n))}),this.ja.forEach(n=>{e.has(n)||t.push(new rS(n))}),t}su(e){this.Ga=e.$s,this.ja=qe();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return dl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const By="SyncEngine";class jO{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class BO{constructor(e){this.key=e,this._u=!1}}class zO{constructor(e,t,n,a,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.au={},this.uu=new Fs(f=>b1(f),wh),this.cu=new Map,this.lu=new Set,this.hu=new Et(Ae.comparator),this.Pu=new Map,this.Tu=new xy,this.Iu={},this.Eu=new Map,this.du=cl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function HO(r,e,t=!0){const n=cS(r);let a;const o=n.uu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.ou()):a=await aS(n,e,t,!0),a}async function FO(r,e){const t=cS(r);await aS(t,e,!0,!1)}async function aS(r,e,t,n){const a=await uO(r.localStore,Gr(e)),o=a.targetId,c=r.sharedClientState.addLocalQueryTarget(o,t);let f;return n&&(f=await YO(r,e,o,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&K1(r.remoteStore,a),f}async function YO(r,e,t,n,a){r.Ru=(_,T,A)=>async function(V,x,z,$){let Y=x.view.Za(z);Y.Cs&&(Y=await rT(V.localStore,x.query,!1).then(({documents:N})=>x.view.Za(N,Y)));const oe=$&&$.targetChanges.get(x.targetId),le=$&&$.targetMismatches.get(x.targetId)!=null,he=x.view.applyChanges(Y,V.isPrimaryClient,oe,le);return hT(V,x.targetId,he.ru),he.snapshot}(r,_,T,A);const o=await rT(r.localStore,e,!0),c=new UO(e,o.$s),f=c.Za(o.documents),p=yc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",a),g=c.applyChanges(f,r.isPrimaryClient,p);hT(r,t,g.ru);const y=new jO(e,t,c);return r.uu.set(e,y),r.cu.has(t)?r.cu.get(t).push(e):r.cu.set(t,[e]),g.snapshot}async function qO(r,e,t){const n=Pe(r),a=n.uu.get(e),o=n.cu.get(a.targetId);if(o.length>1)return n.cu.set(a.targetId,o.filter(c=>!wh(c,e))),void n.uu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Hg(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),t&&My(n.remoteStore,a.targetId),qg(n,a.targetId)}).catch(yl)):(qg(n,a.targetId),await Hg(n.localStore,a.targetId,!0))}async function GO(r,e){const t=Pe(r),n=t.uu.get(e),a=t.cu.get(n.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),My(t.remoteStore,n.targetId))}async function QO(r,e,t){const n=e4(r);try{const a=await function(c,f){const p=Pe(c),g=Qt.now(),y=f.reduce((A,C)=>A.add(C.key),qe());let _,T;return p.persistence.runTransaction("Locally write mutations","readwrite",A=>{let C=Pi(),V=qe();return p.Bs.getEntries(A,y).next(x=>{C=x,C.forEach((z,$)=>{$.isValidDocument()||(V=V.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(A,C)).next(x=>{_=x;const z=[];for(const $ of f){const Y=uM($,_.get($.key).overlayedDocument);Y!=null&&z.push(new za($.key,Y,f1(Y.value.mapValue),Nn.exists(!0)))}return p.mutationQueue.addMutationBatch(A,g,z,f)}).next(x=>{T=x;const z=x.applyToLocalDocumentSet(_,V);return p.documentOverlayCache.saveOverlays(A,x.batchId,z)})}).then(()=>({batchId:T.batchId,changes:E1(_)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(c,f,p){let g=c.Iu[c.currentUser.toKey()];g||(g=new Et(Be)),g=g.insert(f,p),c.Iu[c.currentUser.toKey()]=g}(n,a.batchId,t),await _c(n,a.changes),await xh(n.remoteStore)}catch(a){const o=Uy(a,"Failed to persist write");t.reject(o)}}async function sS(r,e){const t=Pe(r);try{const n=await sO(t.localStore,e);e.targetChanges.forEach((a,o)=>{const c=t.Pu.get(o);c&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c._u=!0:a.modifiedDocuments.size>0?rt(c._u,14607):a.removedDocuments.size>0&&(rt(c._u,42227),c._u=!1))}),await _c(t,n,e)}catch(n){await yl(n)}}function fT(r,e,t){const n=Pe(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const a=[];n.uu.forEach((o,c)=>{const f=c.view.Da(e);f.snapshot&&a.push(f.snapshot)}),function(c,f){const p=Pe(c);p.onlineState=f;let g=!1;p.queries.forEach((y,_)=>{for(const T of _.ya)T.Da(f)&&(g=!0)}),g&&jy(p)}(n.eventManager,e),a.length&&n.au.j_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function KO(r,e,t){const n=Pe(r);n.sharedClientState.updateQueryState(e,"rejected",t);const a=n.Pu.get(e),o=a&&a.key;if(o){let c=new Et(Ae.comparator);c=c.insert(o,vn.newNoDocument(o,Oe.min()));const f=qe().add(o),p=new Ah(Oe.min(),new Map,new Et(Be),c,f);await sS(n,p),n.hu=n.hu.remove(o),n.Pu.delete(e),zy(n)}else await Hg(n.localStore,e,!1).then(()=>qg(n,e,t)).catch(yl)}async function WO(r,e){const t=Pe(r),n=e.batch.batchId;try{const a=await aO(t.localStore,e);lS(t,n,null),oS(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await _c(t,a)}catch(a){await yl(a)}}async function XO(r,e,t){const n=Pe(r);try{const a=await function(c,f){const p=Pe(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return p.mutationQueue.lookupMutationBatch(g,f).next(_=>(rt(_!==null,37113),y=_.keys(),p.mutationQueue.removeMutationBatch(g,_))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>p.localDocuments.getDocuments(g,y))})}(n.localStore,e);lS(n,e,t),oS(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await _c(n,a)}catch(a){await yl(a)}}function oS(r,e){(r.Eu.get(e)||[]).forEach(t=>{t.resolve()}),r.Eu.delete(e)}function lS(r,e,t){const n=Pe(r);let a=n.Iu[n.currentUser.toKey()];if(a){const o=a.get(e);o&&(t?o.reject(t):o.resolve(),a=a.remove(e)),n.Iu[n.currentUser.toKey()]=a}}function qg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.cu.get(e))r.uu.delete(n),t&&r.au.Vu(n,t);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(n=>{r.Tu.containsKey(n)||uS(r,n)})}function uS(r,e){r.lu.delete(e.path.canonicalString());const t=r.hu.get(e);t!==null&&(My(r.remoteStore,t),r.hu=r.hu.remove(e),r.Pu.delete(t),zy(r))}function hT(r,e,t){for(const n of t)n instanceof rS?(r.Tu.addReference(n.key,e),$O(r,n)):n instanceof iS?(ye(By,"Document no longer in limbo: "+n.key),r.Tu.removeReference(n.key,e),r.Tu.containsKey(n.key)||uS(r,n.key)):xe(19791,{mu:n})}function $O(r,e){const t=e.key,n=t.path.canonicalString();r.hu.get(t)||r.lu.has(n)||(ye(By,"New document in limbo: "+t),r.lu.add(n),zy(r))}function zy(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const t=new Ae(yt.fromString(e)),n=r.du.next();r.Pu.set(n,new BO(t)),r.hu=r.hu.insert(t,n),K1(r.remoteStore,new wa(Gr(Sy(t.path)),n,"TargetPurposeLimboResolution",vh.le))}}async function _c(r,e,t){const n=Pe(r),a=[],o=[],c=[];n.uu.isEmpty()||(n.uu.forEach((f,p)=>{c.push(n.Ru(p,e,t).then(g=>{var y;if((g||t)&&n.isPrimaryClient){const _=g?!g.fromCache:(y=t==null?void 0:t.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;n.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){a.push(g);const _=Iy.Rs(p.targetId,g);o.push(_)}}))}),await Promise.all(c),n.au.j_(a),await async function(p,g){const y=Pe(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>se.forEach(g,T=>se.forEach(T.ds,A=>y.persistence.referenceDelegate.addReference(_,T.targetId,A)).next(()=>se.forEach(T.As,A=>y.persistence.referenceDelegate.removeReference(_,T.targetId,A)))))}catch(_){if(!vl(_))throw _;ye(Ny,"Failed to update sequence numbers: "+_)}for(const _ of g){const T=_.targetId;if(!_.fromCache){const A=y.xs.get(T),C=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(C);y.xs=y.xs.insert(T,V)}}}(n.localStore,o))}async function ZO(r,e){const t=Pe(r);if(!t.currentUser.isEqual(e)){ye(By,"User change. New user:",e.toKey());const n=await Y1(t.localStore,e);t.currentUser=e,function(o,c){o.Eu.forEach(f=>{f.forEach(p=>{p.reject(new ve(ae.CANCELLED,c))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await _c(t,n.ks)}}function JO(r,e){const t=Pe(r),n=t.Pu.get(e);if(n&&n._u)return qe().add(n.key);{let a=qe();const o=t.cu.get(e);if(!o)return a;for(const c of o){const f=t.uu.get(c);a=a.unionWith(f.view.Ya)}return a}}function cS(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=sS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KO.bind(null,e),e.au.j_=LO.bind(null,e.eventManager),e.au.Vu=VO.bind(null,e.eventManager),e}function e4(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XO.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return iO(this.persistence,new tO,e.initialUser,this.serializer)}yu(e){return new F1(ky.fi,this.serializer)}pu(e){return new dO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class t4 extends eh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){rt(this.persistence.referenceDelegate instanceof Zf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new BM(n,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new F1(n=>Zf.fi(n,t),this.serializer)}}class Gg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>fT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZO.bind(null,this.syncEngine),await MO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PO}()}createDatastore(e){const t=Ch(e.databaseInfo.databaseId),n=function(o){return new gO(o)}(e.databaseInfo);return function(o,c,f,p){return new bO(o,c,f,p)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,a,o,c,f){return new TO(n,a,o,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>fT(this.syncEngine,t,0),function(){return sT.C()?new sT:new fO}())}createSyncEngine(e,t){return function(a,o,c,f,p,g,y){const _=new zO(a,o,c,f,p,g);return y&&(_.Au=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const o=Pe(a);ye(Bs,"RemoteStore shutting down."),o.Ta.add(5),await vc(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Gg.provider={build:()=>new Gg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="FirestoreClient";class n4{constructor(e,t,n,a,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=a,this.user=yn.UNAUTHENTICATED,this.clientId=n1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,async c=>{ye(Ua,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(n,c=>(ye(Ua,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Uy(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function fg(r,e){r.asyncQueue.verifyOperationInProgress(),ye(Ua,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async a=>{n.isEqual(a)||(await Y1(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function pT(r,e){r.asyncQueue.verifyOperationInProgress();const t=await r4(r);ye(Ua,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>lT(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,a)=>lT(e.remoteStore,a)),r._onlineComponents=e}async function r4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ye(Ua,"Using user provided OfflineComponentProvider");try{await fg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;sl("Error using user provided cache. Falling back to memory cache: "+t),await fg(r,new eh)}}else ye(Ua,"Using default OfflineComponentProvider"),await fg(r,new t4(void 0));return r._offlineComponents}async function fS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ye(Ua,"Using user provided OnlineComponentProvider"),await pT(r,r._uninitializedComponentsProvider._online)):(ye(Ua,"Using default OnlineComponentProvider"),await pT(r,new Gg))),r._onlineComponents}function i4(r){return fS(r).then(e=>e.syncEngine)}async function Qg(r){const e=await fS(r),t=e.eventManager;return t.onListen=HO.bind(null,e.syncEngine),t.onUnlisten=qO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GO.bind(null,e.syncEngine),t}function a4(r,e,t={}){const n=new Ra;return r.asyncQueue.enqueueAndForget(async()=>function(o,c,f,p,g){const y=new dS({next:T=>{y.Cu(),c.enqueueAndForget(()=>tS(o,_)),T.fromCache&&p.source==="server"?g.reject(new ve(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),_=new nS(f,y,{includeMetadataChanges:!0,La:!0});return eS(o,_)}(await Qg(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(r,e,t){if(!t)throw new ve(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function s4(r,e,t,n){if(e===!0&&n===!0)throw new ve(ae.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function gT(r){if(!Ae.isDocumentKey(r))throw new ve(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yT(r){if(Ae.isDocumentKey(r))throw new ve(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function vr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kh(r);throw new ve(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="firestore.googleapis.com",vT=!0;class _T{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mS,this.ssl=vT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:vT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UM)throw new ve(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hS((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ih{constructor(e,t,n,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _T(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pN;switch(n.type){case"firstParty":return new vN(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ve(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=mT.get(t);n&&(ye("ComponentProvider","Removing Datastore"),mT.delete(t),n.terminate())}(this),Promise.resolve()}}function o4(r,e,t,n={}){var a;r=vr(r,Ih);const o=hc(e),c=r._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;o&&(jE(`https://${p}`),BE("Firestore",!0)),c.host!==mS&&c.host!==p&&sl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:p,ssl:o,emulatorOptions:n});if(!Vs(g,f)&&(r._setSettings(g),n.mockUserToken)){let y,_;if(typeof n.mockUserToken=="string")y=n.mockUserToken,_=yn.MOCK_USER;else{y=zk(n.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const T=n.mockUserToken.sub||n.mockUserToken.user_id;if(!T)throw new ve(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new yn(T)}r._authCredentials=new mN(new e1(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ha(this.firestore,e,this._query)}}class Mn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class xa extends Ha{constructor(e,t,n){super(e,t,Sy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Ae(e))}withConverter(e){return new xa(this.firestore,e,this._path)}}function Yn(r,e,...t){if(r=tn(r),pS("collection","path",e),r instanceof Ih){const n=yt.fromString(e,...t);return yT(n),new xa(r,null,n)}{if(!(r instanceof Mn||r instanceof xa))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(yt.fromString(e,...t));return yT(n),new xa(r.firestore,null,n)}}function Ii(r,e,...t){if(r=tn(r),arguments.length===1&&(e=n1.newId()),pS("doc","path",e),r instanceof Ih){const n=yt.fromString(e,...t);return gT(n),new Mn(r,null,new Ae(n))}{if(!(r instanceof Mn||r instanceof xa))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(yt.fromString(e,...t));return gT(n),new Mn(r.firestore,r instanceof xa?r.converter:null,new Ae(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="AsyncQueue";class wT{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new G1(this,"async_queue_retry"),this.ec=()=>{const n=dg();n&&ye(bT,"Visibility state changed to "+n.visibilityState),this.C_.p_()},this.tc=e;const t=dg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=dg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Ra;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!vl(e))throw e;ye(bT,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(n=>{throw this.Ju=n,this.Yu=!1,Oi("INTERNAL UNHANDLED ERROR: ",TT(n)),n}).then(n=>(this.Yu=!1,n))));return this.tc=t,t}enqueueAfterDelay(e,t,n){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const a=Vy.createAndSchedule(this,e,t,n,o=>this.oc(o));return this.Hu.push(a),a}nc(){this.Ju&&xe(47125,{_c:TT(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function TT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const a=t;for(const o of n)if(o in a&&typeof a[o]=="function")return!0;return!1}(r,["next","error","complete"])}class ja extends Ih{constructor(e,t,n,a){super(e,t,n,a),this.type="firestore",this._queue=new wT,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wT(e),this._firestoreClient=void 0,await e}}}function l4(r,e){const t=typeof r=="object"?r:YE(),n=typeof r=="string"?r:Qf,a=yy(t,"firestore").getImmediate({identifier:n});if(!a._initialized){const o=jk("firestore");o&&o4(a,...o)}return a}function Nh(r){if(r._terminated)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||u4(r),r._firestoreClient}function u4(r){var e,t,n;const a=r._freezeSettings(),o=function(f,p,g,y){return new MN(f,p,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,hS(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new n4(r._authCredentials,r._appCheckCredentials,r._queue,o,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fl(fn.fromBase64String(e))}catch(t){throw new ve(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new fl(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=/^__.*__$/;class d4{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new za(e,this.data,this.fieldMask,t,this.fieldTransforms):new gc(e,this.data,t,this.fieldTransforms)}}class gS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new za(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{hc:r})}}class Yy{constructor(e,t,n,a,o,c){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=a,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new Yy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Tc({path:n,Ec:!1});return a.dc(e),a}Ac(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Tc({path:n,Ec:!1});return a.Pc(),a}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return th(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(yS(this.hc)&&c4.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class f4{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Ch(e)}gc(e,t,n,a=!1){return new Yy({hc:e,methodName:t,fc:n,path:cn.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Oh(r){const e=r._freezeSettings(),t=Ch(r._databaseId);return new f4(r._databaseId,!!e.ignoreUndefinedProperties,t)}function vS(r,e,t,n,a,o={}){const c=r.gc(o.merge||o.mergeFields?2:0,e,t,a);Gy("Data must be an object, but it was:",c,n);const f=wS(n,c);let p,g;if(o.merge)p=new Fn(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const T=Kg(e,_,t);if(!c.contains(T))throw new ve(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);ES(y,T)||y.push(T)}p=new Fn(y),g=c.fieldTransforms.filter(_=>p.covers(_.field))}else p=null,g=c.fieldTransforms;return new d4(new In(f),p,g)}class Ph extends Mh{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}class qy extends Mh{_toFieldTransform(e){return new aM(e.path,new ic)}isEqual(e){return e instanceof qy}}function _S(r,e,t,n){const a=r.gc(1,e,t);Gy("Data must be an object, but it was:",a,n);const o=[],c=In.empty();Ba(n,(p,g)=>{const y=Qy(e,p,t);g=tn(g);const _=a.Ac(y);if(g instanceof Ph)o.push(y);else{const T=wc(g,_);T!=null&&(o.push(y),c.set(y,T))}});const f=new Fn(o);return new gS(c,f,a.fieldTransforms)}function bS(r,e,t,n,a,o){const c=r.gc(1,e,t),f=[Kg(e,n,t)],p=[a];if(o.length%2!=0)throw new ve(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)f.push(Kg(e,o[T])),p.push(o[T+1]);const g=[],y=In.empty();for(let T=f.length-1;T>=0;--T)if(!ES(g,f[T])){const A=f[T];let C=p[T];C=tn(C);const V=c.Ac(A);if(C instanceof Ph)g.push(A);else{const x=wc(C,V);x!=null&&(g.push(A),y.set(A,x))}}const _=new Fn(g);return new gS(y,_,c.fieldTransforms)}function h4(r,e,t,n=!1){return wc(t,r.gc(n?4:3,e))}function wc(r,e){if(TS(r=tn(r)))return Gy("Unsupported field value:",e,r),wS(r,e);if(r instanceof Mh)return function(n,a){if(!yS(a.hc))throw a.Vc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,a){const o=[];let c=0;for(const f of n){let p=wc(f,a.Rc(c));p==null&&(p={nullValue:"NULL_VALUE"}),o.push(p),c++}return{arrayValue:{values:o}}}(r,e)}return function(n,a){if((n=tn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return nM(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=Qt.fromDate(n);return{timestampValue:$f(a.serializer,o)}}if(n instanceof Qt){const o=new Qt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:$f(a.serializer,o)}}if(n instanceof Hy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof fl)return{bytesValue:P1(a.serializer,n._byteString)};if(n instanceof Mn){const o=a.databaseId,c=n.firestore._databaseId;if(!c.isEqual(o))throw a.Vc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ry(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Fy)return function(c,f){return{mapValue:{fields:{[c1]:{stringValue:d1},[Kf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw f.Vc("VectorValues must only contain numeric values.");return Dy(f.serializer,g)})}}}}}}(n,a);throw a.Vc(`Unsupported field value: ${kh(n)}`)}(r,e)}function wS(r,e){const t={};return i1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(r,(n,a)=>{const o=wc(a,e.Ic(n));o!=null&&(t[n]=o)}),{mapValue:{fields:t}}}function TS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Qt||r instanceof Hy||r instanceof fl||r instanceof Mn||r instanceof Mh||r instanceof Fy)}function Gy(r,e,t){if(!TS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const n=kh(t);throw n==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+n)}}function Kg(r,e,t){if((e=tn(e))instanceof bc)return e._internalPath;if(typeof e=="string")return Qy(r,e);throw th("Field path arguments must be of type string or ",r,!1,void 0,t)}const p4=new RegExp("[~\\*/\\[\\]]");function Qy(r,e,t){if(e.search(p4)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new bc(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function th(r,e,t,n,a){const o=n&&!n.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(o||c)&&(p+=" (found",o&&(p+=` in field ${n}`),c&&(p+=` in document ${a}`),p+=")"),new ve(ae.INVALID_ARGUMENT,f+r+p)}function ES(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,n,a,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Lh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class m4 extends SS{data(){return super.data()}}function Lh(r,e){return typeof e=="string"?Qy(r,e):e instanceof bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ky{}class AS extends Ky{}function ka(r,e,...t){let n=[];e instanceof Ky&&n.push(e),n=n.concat(t),function(o){const c=o.filter(p=>p instanceof Wy).length,f=o.filter(p=>p instanceof Vh).length;if(c>1||c>0&&f>0)throw new ve(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)r=a._apply(r);return r}class Vh extends AS{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Vh(e,t,n)}_apply(e){const t=this._parse(e);return CS(e._query,t),new Ha(e.firestore,e.converter,Lg(e._query,t))}_parse(e){const t=Oh(e.firestore);return function(o,c,f,p,g,y,_){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ve(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){DT(_,y);const C=[];for(const V of _)C.push(ST(p,o,V));T={arrayValue:{values:C}}}else T=ST(p,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||DT(_,y),T=h4(f,c,_,y==="in"||y==="not-in");return zt.create(g,y,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Wg(r,e,t){const n=e,a=Lh("where",r);return Vh._create(a,n,t)}class Wy extends Ky{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wy(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:br.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,o){let c=a;const f=o.getFlattenedFilters();for(const p of f)CS(c,p),c=Lg(c,p)}(e._query,t),new Ha(e.firestore,e.converter,Lg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xy extends AS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xy(e,t)}_apply(e){const t=function(a,o,c){if(a.startAt!==null)throw new ve(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ve(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(o,c)}(e._query,this._field,this._direction);return new Ha(e.firestore,e.converter,function(a,o){const c=a.explicitOrderBy.concat([o]);return new _l(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function Ns(r,e="asc"){const t=e,n=Lh("orderBy",r);return Xy._create(n,t)}function ST(r,e,t){if(typeof(t=tn(t))=="string"){if(t==="")throw new ve(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_1(e)&&t.indexOf("/")!==-1)throw new ve(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(yt.fromString(t));if(!Ae.isDocumentKey(n))throw new ve(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Uw(r,new Ae(n))}if(t instanceof Mn)return Uw(r,t._key);throw new ve(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(t)}.`)}function DT(r,e){if(!Array.isArray(r)||r.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CS(r,e){const t=function(a,o){for(const c of a)for(const f of c.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class g4{convertValue(e,t="none"){switch(La(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Ba(e,(a,o)=>{n[a]=this.convertValue(o,t)}),n}convertVectorValue(e){var t,n,a;const o=(a=(n=(t=e.fields)===null||t===void 0?void 0:t[Kf].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(c=>Nt(c.doubleValue));return new Fy(o)}convertGeoPoint(e){return new Hy(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=bh(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const t=Oa(e);return new Qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yt.fromString(e);rt(z1(n),9688,{name:e});const a=new tc(n.get(1),n.get(3)),o=new Ae(n.popFirst(5));return a.isEqual(t)||Oi(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xS extends SS{constructor(e,t,n,a,o,c){super(e,t,n,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Lh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Sf extends xS{data(e={}){return super.data(e)}}class kS{constructor(e,t,n,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Fu(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Sf(this._firestore,this._userDataWriter,n.key,n,new Fu(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(f=>{const p=new Sf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Fu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const p=new Sf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Fu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return f.type!==0&&(g=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:y4(f.type),doc:p,oldIndex:g,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function y4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:r})}}class $y extends g4{constructor(e){super(),this.firestore=e}convertBytes(e){return new fl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}function Xg(r){r=vr(r,Ha);const e=vr(r.firestore,ja),t=Nh(e),n=new $y(e);return DS(r._query),a4(t,r._query).then(a=>new kS(e,n,r,a))}function Zy(r,e,t,...n){r=vr(r,Mn);const a=vr(r.firestore,ja),o=Oh(a);let c;return c=typeof(e=tn(e))=="string"||e instanceof bc?bS(o,"updateDoc",r._key,e,t,n):_S(o,"updateDoc",r._key,e),jh(a,[c.toMutation(r._key,Nn.exists(!0))])}function Uh(r){return jh(vr(r.firestore,ja),[new Dh(r._key,Nn.none())])}function Tc(r,e){const t=vr(r.firestore,ja),n=Ii(r),a=RS(r.converter,e);return jh(t,[vS(Oh(r.firestore),"addDoc",n._key,a,r.converter!==null,{}).toMutation(n._key,Nn.exists(!1))]).then(()=>n)}function Ec(r,...e){var t,n,a;r=tn(r);let o={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||ET(e[c])||(o=e[c],c++);const f={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(ET(e[c])){const _=e[c];e[c]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[c+1]=(n=_.error)===null||n===void 0?void 0:n.bind(_),e[c+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let p,g,y;if(r instanceof Mn)g=vr(r.firestore,ja),y=Sy(r._key.path),p={next:_=>{e[c]&&e[c](v4(g,r,_))},error:e[c+1],complete:e[c+2]};else{const _=vr(r,Ha);g=vr(_.firestore,ja),y=_._query;const T=new $y(g);p={next:A=>{e[c]&&e[c](new kS(g,T,_,A))},error:e[c+1],complete:e[c+2]},DS(r._query)}return function(T,A,C,V){const x=new dS(V),z=new nS(A,x,C);return T.asyncQueue.enqueueAndForget(async()=>eS(await Qg(T),z)),()=>{x.Cu(),T.asyncQueue.enqueueAndForget(async()=>tS(await Qg(T),z))}}(Nh(g),y,f,p)}function jh(r,e){return function(n,a){const o=new Ra;return n.asyncQueue.enqueueAndForget(async()=>QO(await i4(n),a,o)),o.promise}(Nh(r),e)}function v4(r,e,t){const n=t.docs.get(e._key),a=new $y(r);return new xS(r,a,e._key,n,new Fu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Oh(e)}set(e,t,n){this._verifyNotCommitted();const a=hg(e,this._firestore),o=RS(a.converter,t,n),c=vS(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,n);return this._mutations.push(c.toMutation(a._key,Nn.none())),this}update(e,t,n,...a){this._verifyNotCommitted();const o=hg(e,this._firestore);let c;return c=typeof(t=tn(t))=="string"||t instanceof bc?bS(this._dataReader,"WriteBatch.update",o._key,t,n,a):_S(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Nn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=hg(e,this._firestore);return this._mutations=this._mutations.concat(new Dh(t._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hg(r,e){if((r=tn(r)).firestore!==e)throw new ve(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Gn(){return new qy("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(r){return Nh(r=vr(r,ja)),new _4(r,e=>jh(r,e))}(function(e,t=!0){(function(a){gl=a})(ml),al(new Us("firestore",(n,{instanceIdentifier:a,options:o})=>{const c=n.getProvider("app").getImmediate(),f=new ja(new gN(n.getProvider("auth-internal")),new _N(c,n.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(g.options.projectId,y)}(c,a),c);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),Aa(Aw,Cw,e),Aa(Aw,Cw,"esm2017")})();var w4="firebase",T4="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Aa(w4,T4,"app");function Jy(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function IS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E4=IS,NS=new pc("auth","Firebase",IS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new my("@firebase/auth");function S4(r,...e){nh.logLevel<=Ye.WARN&&nh.warn(`Auth (${ml}): ${r}`,...e)}function Df(r,...e){nh.logLevel<=Ye.ERROR&&nh.error(`Auth (${ml}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(r,...e){throw ev(r,...e)}function Kr(r,...e){return ev(r,...e)}function MS(r,e,t){const n=Object.assign(Object.assign({},E4()),{[e]:t});return new pc("auth","Firebase",n).create(e,{appName:r.name})}function Ms(r){return MS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ev(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return NS.create(r,...e)}function Ne(r,e,...t){if(!r)throw ev(e,...t)}function Si(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Df(e),new Error(e)}function Vi(r,e){r||Si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function D4(){return AT()==="http:"||AT()==="https:"}function AT(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D4()||Qk()||"connection"in navigator)?navigator.onLine:!0}function C4(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vi(t>e,"Short delay should be less than long delay!"),this.isMobile=Yk()||Kk()}get(){return A4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(r,e){Vi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k4=new Sc(3e4,6e4);function nv(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function wl(r,e,t,n,a={}){return PS(r,a,async()=>{let o={},c={};n&&(e==="GET"?c=n:o={body:JSON.stringify(n)});const f=mc(Object.assign({key:r.config.apiKey},c)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},o);return Gk()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&hc(r.emulatorConfig.host)&&(g.credentials="include"),OS.fetch()(await LS(r,r.config.apiHost,t,f),g)})}async function PS(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},R4),e);try{const a=new N4(r),o=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw cf(r,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const f=o.ok?c.errorMessage:c.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw cf(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw cf(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw cf(r,"user-disabled",c);const y=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw MS(r,y,g);Li(r,y)}}catch(a){if(a instanceof ji)throw a;Li(r,"network-request-failed",{message:String(a)})}}async function I4(r,e,t,n,a={}){const o=await wl(r,e,t,n,a);return"mfaPendingCredential"in o&&Li(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function LS(r,e,t,n){const a=`${e}${t}?${n}`,o=r,c=o.config.emulator?tv(r.config,a):`${r.config.apiScheme}://${a}`;return x4.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}class N4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Kr(this.auth,"network-request-failed")),k4.get())})}}function cf(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const a=Kr(r,e,n);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(r,e){return wl(r,"POST","/v1/accounts:delete",e)}async function rh(r,e){return wl(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O4(r,e=!1){const t=tn(r),n=await t.getIdToken(e),a=rv(n);Ne(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:a,token:n,authTime:Wu(pg(a.auth_time)),issuedAtTime:Wu(pg(a.iat)),expirationTime:Wu(pg(a.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function pg(r){return Number(r)*1e3}function rv(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const a=PE(t);return a?JSON.parse(a):(Df("Failed to decode base64 JWT payload"),null)}catch(a){return Df("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function CT(r){const e=rv(r);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof ji&&P4(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function P4({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(r){var e;const t=r.auth,n=await r.getIdToken(),a=await oc(r,rh(t,{idToken:n}));Ne(a==null?void 0:a.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?VS(o.providerUserInfo):[],f=U4(r.providerData,c),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),y=p?g:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Zg(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,_)}async function V4(r){const e=tn(r);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U4(r,e){return[...r.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function VS(r){return r.map(e=>{var{providerId:t}=e,n=Jy(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(r,e){const t=await PS(r,{},async()=>{const n=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=r.config,c=await LS(r,a,"/v1/token",`key=${o}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",OS.fetch()(c,{method:"POST",headers:f,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function B4(r,e){return wl(r,"POST","/v2/accounts:revokeToken",nv(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=CT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:a,expiresIn:o}=await j4(e,t);this.updateTokensAndExpiration(n,a,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:a,expirationTime:o}=t,c=new Wo;return n&&(Ne(typeof n=="string","internal-error",{appName:e}),c.refreshToken=n),a&&(Ne(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),o&&(Ne(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wo,this.toJSON())}_performRefresh(){return Si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(r,e){Ne(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class gr{constructor(e){var{uid:t,auth:n,stsTokenManager:a}=e,o=Jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new L4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await oc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return O4(this,e)}reload(){return V4(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ih(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fr(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await oc(this,M4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,a,o,c,f,p,g,y;const _=(n=t.displayName)!==null&&n!==void 0?n:void 0,T=(a=t.email)!==null&&a!==void 0?a:void 0,A=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,V=(f=t.tenantId)!==null&&f!==void 0?f:void 0,x=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,z=(g=t.createdAt)!==null&&g!==void 0?g:void 0,$=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:Y,emailVerified:oe,isAnonymous:le,providerData:he,stsTokenManager:N}=t;Ne(Y&&N,e,"internal-error");const D=Wo.fromJSON(this.name,N);Ne(typeof Y=="string",e,"internal-error"),ma(_,e.name),ma(T,e.name),Ne(typeof oe=="boolean",e,"internal-error"),Ne(typeof le=="boolean",e,"internal-error"),ma(A,e.name),ma(C,e.name),ma(V,e.name),ma(x,e.name),ma(z,e.name),ma($,e.name);const R=new gr({uid:Y,auth:e,email:T,emailVerified:oe,displayName:_,isAnonymous:le,photoURL:C,phoneNumber:A,tenantId:V,stsTokenManager:D,createdAt:z,lastLoginAt:$});return he&&Array.isArray(he)&&(R.providerData=he.map(M=>Object.assign({},M))),x&&(R._redirectEventId=x),R}static async _fromIdTokenResponse(e,t,n=!1){const a=new Wo;a.updateFromServerResponse(t);const o=new gr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await ih(o),o}static async _fromGetAccountInfoResponse(e,t,n){const a=t.users[0];Ne(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?VS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),f=new Wo;f.updateFromIdToken(n);const p=new gr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Zg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;function Di(r){Vi(r instanceof Function,"Expected a class definition");let e=RT.get(r);return e?(Vi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,RT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}US.type="NONE";const xT=US;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(r,e,t){return`firebase:${r}:${e}:${t}`}class Xo{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:a,name:o}=this.auth;this.fullUserKey=Af(this.userKey,a.apiKey,o),this.fullPersistenceKey=Af("persistence",a.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rh(this.auth,{idToken:e}).catch(()=>{});return t?gr._fromGetAccountInfoResponse(this.auth,t,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Xo(Di(xT),e,n);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||Di(xT);const c=Af(n,e.config.apiKey,e.name);let f=null;for(const g of t)try{const y=await g._get(c);if(y){let _;if(typeof y=="string"){const T=await rh(e,{idToken:y}).catch(()=>{});if(!T)break;_=await gr._fromGetAccountInfoResponse(e,T,y)}else _=gr._fromJSON(e,y);g!==o&&(f=_),o=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!p.length?new Xo(o,e,n):(o=p[0],f&&await o._set(c,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new Xo(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(HS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YS(e))return"Blackberry";if(qS(e))return"Webos";if(BS(e))return"Safari";if((e.includes("chrome/")||zS(e))&&!e.includes("edge/"))return"Chrome";if(FS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function jS(r=bn()){return/firefox\//i.test(r)}function BS(r=bn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zS(r=bn()){return/crios\//i.test(r)}function HS(r=bn()){return/iemobile/i.test(r)}function FS(r=bn()){return/android/i.test(r)}function YS(r=bn()){return/blackberry/i.test(r)}function qS(r=bn()){return/webos/i.test(r)}function iv(r=bn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function z4(r=bn()){var e;return iv(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function H4(){return Wk()&&document.documentMode===10}function GS(r=bn()){return iv(r)||FS(r)||qS(r)||YS(r)||/windows phone/i.test(r)||HS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(r,e=[]){let t;switch(r){case"Browser":t=kT(bn());break;case"Worker":t=`${kT(bn())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ml}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((c,f)=>{try{const p=e(o);c(p)}catch(p){f(p)}});n.onAbort=t,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(r,e={}){return wl(r,"GET","/v2/passwordPolicy",nv(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=6;class G4{constructor(e){var t,n,a,o;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:q4,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,a,o,c,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(n=p.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsUppercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t,n,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IT(this),this.idTokenSubscription=new IT(this),this.beforeStateQueue=new F4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{var n,a,o;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rh(this,{idToken:e}),n=await gr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&(p!=null&&p.user)&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fr(this.app))return Promise.reject(Ms(this));const t=e?tn(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fr(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fr(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y4(this),t=new G4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await B4(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,a){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(f,this,"internal-error"),f.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&S4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function av(r){return tn(r)}class IT{constructor(e){this.auth=e,this.observer=null,this.addObserver=rI(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function K4(r){sv=r}function W4(r){return sv.loadJS(r)}function X4(){return sv.gapiScript}function $4(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(r,e){const t=yy(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),o=t.getOptions();if(Vs(o,e??{}))return a;Li(a,"already-initialized")}return t.initialize({options:e})}function J4(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Di);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function eP(r,e,t){const n=av(r);Ne(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,o=KS(e),{host:c,port:f}=tP(e),p=f===null?"":`:${f}`,g={url:`${o}//${c}${p}/`},y=Object.freeze({host:c,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){Ne(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ne(Vs(g,n.config.emulator)&&Vs(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=g,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,hc(c)?(jE(`${o}//${c}${p}`),BE("Auth",!0)):nP()}function KS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function tP(r){const e=KS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const o=a[1];return{host:o,port:NT(n.substr(o.length+1))}}else{const[o,c]=n.split(":");return{host:o,port:NT(c)}}}function NT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function nP(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,t){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(r,e){return I4(r,"POST","/v1/accounts:signInWithIdp",nv(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="http://localhost";class zs extends WS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=t,o=Jy(t,["providerId","signInMethod"]);if(!n||!a)return null;const c=new zs(n,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return $o(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$o(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}buildRequest(){const e={requestUri:rP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends XS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends Dc{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ga.credential(e.oauthAccessToken)}catch{return null}}}ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zs._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ya.credential(t,n)}catch{return null}}}ya.GOOGLE_SIGN_IN_METHOD="google.com";ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends Dc{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.GITHUB_SIGN_IN_METHOD="github.com";va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Dc{constructor(){super("twitter.com")}static credential(e,t){return zs._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return _a.credential(t,n)}catch{return null}}}_a.TWITTER_SIGN_IN_METHOD="twitter.com";_a.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,a=!1){const o=await gr._fromIdTokenResponse(e,n,a),c=MT(n);return new hl({user:o,providerId:c,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const a=MT(n);return new hl({user:e,providerId:a,_tokenResponse:n,operationType:t})}}function MT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends ji{constructor(e,t,n,a){var o;super(t.code,t.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,a){return new ah(e,t,n,a)}}function $S(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(r,o,e,n):o})}async function iP(r,e,t=!1){const n=await oc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return hl._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP(r,e,t=!1){const{auth:n}=r;if(Fr(n.app))return Promise.reject(Ms(n));const a="reauthenticate";try{const o=await oc(r,$S(n,a,e,r),t);Ne(o.idToken,n,"internal-error");const c=rv(o.idToken);Ne(c,n,"internal-error");const{sub:f}=c;return Ne(r.uid===f,n,"user-mismatch"),hl._forOperation(r,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Li(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sP(r,e,t=!1){if(Fr(r.app))return Promise.reject(Ms(r));const n="signIn",a=await $S(r,n,e),o=await hl._fromIdTokenResponse(r,n,a);return t||await r._updateCurrentUser(o.user),o}function oP(r,e,t,n){return tn(r).onIdTokenChanged(e,t,n)}function lP(r,e,t){return tn(r).beforeAuthStateChanged(e,t)}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=1e3,cP=10;class JS extends ZS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),a=this.localCache[t];n!==a&&e(t,a,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,p)=>{this.notifyListeners(c,p)});return}const n=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(n);!t&&this.localCache[n]===c||this.notifyListeners(n,c)},o=this.storage.getItem(n);H4()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,cP):a()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}JS.type="LOCAL";const dP=JS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD extends ZS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eD.type="SESSION";const tD=eD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const n=new Bh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:a,data:o}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const f=Array.from(c).map(async g=>g(t.origin,o)),p=await fP(f);t.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((f,p)=>{const g=ov("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},n);c={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(T.data.response);break;default:clearTimeout(y),clearTimeout(o),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function pP(r){Wr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function mP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gP(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function yP(){return nD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firebaseLocalStorageDb",vP=1,oh="firebaseLocalStorage",iD="fbase_key";class Ac{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zh(r,e){return r.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function _P(){const r=indexedDB.deleteDatabase(rD);return new Ac(r).toPromise()}function Jg(){const r=indexedDB.open(rD,vP);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(oh,{keyPath:iD})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(oh)?e(n):(n.close(),await _P(),e(await Jg()))})})}async function OT(r,e,t){const n=zh(r,!0).put({[iD]:e,value:t});return new Ac(n).toPromise()}async function bP(r,e){const t=zh(r,!1).get(e),n=await new Ac(t).toPromise();return n===void 0?null:n.value}function PT(r,e){const t=zh(r,!0).delete(e);return new Ac(t).toPromise()}const wP=800,TP=3;class aD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>TP)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(yP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await mP(),!this.activeServiceWorker)return;this.sender=new hP(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await OT(e,sh,"1"),await PT(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>OT(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>bP(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>PT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=zh(a,!1).getAll();return new Ac(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aD.type="LOCAL";const EP=aD;new Sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(r,e){return e?Di(e):(Ne(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv extends WS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function DP(r){return sP(r.auth,new lv(r),r.bypassAuthState)}function AP(r){const{auth:e,user:t}=r;return Ne(t,e,"internal-error"),aP(t,new lv(r),r.bypassAuthState)}async function CP(r){const{auth:e,user:t}=r;return Ne(t,e,"internal-error"),iP(t,new lv(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t,n,a,o=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:a,tenantId:o,error:c,type:f}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DP;case"linkViaPopup":case"linkViaRedirect":return CP;case"reauthViaPopup":case"reauthViaRedirect":return AP;default:Li(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new Sc(2e3,1e4);class Yo extends sD{constructor(e,t,n,a,o){super(e,t,a,o),this.provider=n,this.authWindow=null,this.pollId=null,Yo.currentPopupAction&&Yo.currentPopupAction.cancel(),Yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RP.get())};e()}}Yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="pendingRedirect",Cf=new Map;class kP extends sD{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const n=await IP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IP(r,e){const t=OP(e),n=MP(r);if(!await n._isAvailable())return!1;const a=await n._get(t)==="true";return await n._remove(t),a}function NP(r,e){Cf.set(r._key(),e)}function MP(r){return Di(r._redirectPersistence)}function OP(r){return Af(xP,r.config.apiKey,r.name)}async function PP(r,e,t=!1){if(Fr(r.app))return Promise.reject(Ms(r));const n=av(r),a=SP(n,e),c=await new kP(n,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=10*60*1e3;class VP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!oD(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(Kr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LP&&this.cachedEventUids.clear(),this.cachedEventUids.has(LT(e))}saveEventToCache(e){this.cachedEventUids.add(LT(e)),this.lastProcessedEventTime=Date.now()}}function LT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function oD({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UP(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oD(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(r,e={}){return wl(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zP=/^https?/;async function HP(r){if(r.config.emulator)return;const{authorizedDomains:e}=await jP(r);for(const t of e)try{if(FP(t))return}catch{}Li(r,"unauthorized-domain")}function FP(r){const e=$g(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===n}if(!zP.test(t))return!1;if(BP.test(r))return n===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new Sc(3e4,6e4);function VT(){const r=Wr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function qP(r){return new Promise((e,t)=>{var n,a,o;function c(){VT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VT(),t(Kr(r,"network-request-failed"))},timeout:YP.get()})}if(!((a=(n=Wr().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Wr().gapi)===null||o===void 0)&&o.load)c();else{const f=$4("iframefcb");return Wr()[f]=()=>{gapi.load?c():t(Kr(r,"network-request-failed"))},W4(`${X4()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function GP(r){return Rf=Rf||qP(r),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP=new Sc(5e3,15e3),KP="__/auth/iframe",WP="emulator/auth/iframe",XP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$P=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZP(r){const e=r.config;Ne(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?tv(e,WP):`https://${r.config.authDomain}/${KP}`,n={apiKey:e.apiKey,appName:r.name,v:ml},a=$P.get(r.config.apiHost);a&&(n.eid=a);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${mc(n).slice(1)}`}async function JP(r){const e=await GP(r),t=Wr().gapi;return Ne(t,r,"internal-error"),e.open({where:document.body,url:ZP(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XP,dontclear:!0},n=>new Promise(async(a,o)=>{await n.restyle({setHideOnLeave:!1});const c=Kr(r,"network-request-failed"),f=Wr().setTimeout(()=>{o(c)},QP.get());function p(){Wr().clearTimeout(f),a(n)}n.ping(p).then(p,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t3=500,n3=600,r3="_blank",i3="http://localhost";class UT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a3(r,e,t,n=t3,a=n3){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let f="";const p=Object.assign(Object.assign({},e3),{width:n.toString(),height:a.toString(),top:o,left:c}),g=bn().toLowerCase();t&&(f=zS(g)?r3:t),jS(g)&&(e=e||i3,p.scrollbars="yes");const y=Object.entries(p).reduce((T,[A,C])=>`${T}${A}=${C},`,"");if(z4(g)&&f!=="_self")return s3(e||"",f),new UT(null);const _=window.open(e||"",f,y);Ne(_,r,"popup-blocked");try{_.focus()}catch{}return new UT(_)}function s3(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="__/auth/handler",l3="emulator/auth/handler",u3=encodeURIComponent("fac");async function jT(r,e,t,n,a,o){Ne(r.config.authDomain,r,"auth-domain-config-required"),Ne(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:ml,eventId:a};if(e instanceof XS){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",nI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(e instanceof Dc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}r.tenantId&&(c.tid=r.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const p=await r._getAppCheckToken(),g=p?`#${u3}=${encodeURIComponent(p)}`:"";return`${c3(r)}?${mc(f).slice(1)}${g}`}function c3({config:r}){return r.emulator?tv(r,l3):`https://${r.authDomain}/${o3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="webStorageSupport";class d3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tD,this._completeRedirectFn=PP,this._overrideRedirectResult=NP}async _openPopup(e,t,n,a){var o;Vi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await jT(e,t,n,$g(),a);return a3(e,c,ov())}async _openRedirect(e,t,n,a){await this._originValidation(e);const o=await jT(e,t,n,$g(),a);return pP(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:o}=this.eventManagers[t];return a?Promise.resolve(a):(Vi(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await JP(e),n=new VP(e);return t.register("authEvent",a=>(Ne(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mg,{type:mg},a=>{var o;const c=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[mg];c!==void 0&&t(!!c),Li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=HP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GS()||BS()||iv()}}const f3=d3;var BT="@firebase/auth",zT="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m3(r){al(new Us("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=n.options;Ne(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:c,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QS(r)},g=new Q4(n,a,o,p);return J4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),al(new Us("auth-internal",e=>{const t=av(e.getProvider("auth").getImmediate());return(n=>new h3(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Aa(BT,zT,p3(r)),Aa(BT,zT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=5*60,y3=UE("authIdTokenMaxAge")||g3;let HT=null;const v3=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>y3)return;const a=t==null?void 0:t.token;HT!==a&&(HT=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function _3(r=YE()){const e=yy(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Z4(r,{popupRedirectResolver:f3,persistence:[EP,dP,tD]}),n=UE("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const c=v3(o.toString());lP(t,c,()=>c(t.currentUser)),oP(t,f=>c(f))}}const a=LE("auth");return a&&eP(t,`http://${a}`),t}function b3(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}K4({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=a=>{const o=Kr("internal-error");o.customData=a,t(o)},n.type="text/javascript",n.charset="UTF-8",b3().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m3("Browser");const w3={apiKey:"AIzaSyCZZk7eZIza2pD4D3Tt-QMZWmUGZGmnV08",authDomain:"retro-app-2025.firebaseapp.com",projectId:"retro-app-2025",storageBucket:"retro-app-2025.firebasestorage.app",messagingSenderId:"358273281250",appId:"1:358273281250:web:1e07cd7bdb5817dbae42bb"},lD=FE(w3),Ct=l4(lD);_3(lD);const Mt={TASKS:"tasks",CLIENTS:"clients",USERS:"users",PROJECTS:"projects",TASK_TEMPLATES:"taskTemplates",SUBTASK_TEMPLATES:"subtaskTemplates"};class Lu{static subscribeToTasks(e){const t=ka(Yn(Ct,Mt.TASKS),Ns("createdAt","desc"));return Ec(t,n=>{const a=[];n.forEach(o=>{var c,f;a.push({id:o.id,...o.data(),createdAt:(c=o.data().createdAt)==null?void 0:c.toDate(),updatedAt:(f=o.data().updatedAt)==null?void 0:f.toDate(),dueDate:o.data().dueDate||null})}),e(a)})}static async addTask(e){try{return(await Tc(Yn(Ct,Mt.TASKS),{...e,createdAt:Gn(),updatedAt:Gn()})).id}catch(t){throw console.error("Error adding task:",t),t}}static async updateTask(e,t){try{const n=Ii(Ct,Mt.TASKS,e);await Zy(n,{...t,updatedAt:Gn()})}catch(n){throw console.error("Error updating task:",n),n}}static async deleteTask(e){try{await Uh(Ii(Ct,Mt.TASKS,e))}catch(t){throw console.error("Error deleting task:",t),t}}static async deleteTasks(e){try{const t=b4(Ct);e.forEach(n=>{const a=Ii(Ct,Mt.TASKS,n);t.delete(a)}),await t.commit()}catch(t){throw console.error("Error bulk deleting tasks:",t),t}}static async getTasksByStatus(e){try{const t=ka(Yn(Ct,Mt.TASKS),Wg("status","==",e),Ns("createdAt","desc")),n=await Xg(t),a=[];return n.forEach(o=>{a.push({id:o.id,...o.data()})}),a}catch(t){throw console.error("Error getting tasks by status:",t),t}}static async getTasksByClient(e){try{const t=ka(Yn(Ct,Mt.TASKS),Wg("client","==",e),Ns("createdAt","desc")),n=await Xg(t),a=[];return n.forEach(o=>{a.push({id:o.id,...o.data()})}),a}catch(t){throw console.error("Error getting tasks by client:",t),t}}}class gg{static subscribeToClients(e){const t=ka(Yn(Ct,Mt.CLIENTS),Ns("name","asc"));return Ec(t,n=>{const a=[];n.forEach(o=>{var c,f;a.push({id:o.id,...o.data(),createdAt:(c=o.data().createdAt)==null?void 0:c.toDate(),updatedAt:(f=o.data().updatedAt)==null?void 0:f.toDate()})}),e(a)})}static async addClient(e){try{return(await Tc(Yn(Ct,Mt.CLIENTS),{...e,createdAt:Gn(),updatedAt:Gn()})).id}catch(t){throw console.error("Error adding client:",t),t}}static async updateClient(e,t){try{const n=Ii(Ct,Mt.CLIENTS,e);await Zy(n,{...t,updatedAt:Gn()})}catch(n){throw console.error("Error updating client:",n),n}}}class Vu{static subscribeToUsers(e){const t=ka(Yn(Ct,Mt.USERS),Ns("name","asc"));return Ec(t,n=>{const a=[];n.forEach(o=>{var c,f;a.push({id:o.id,...o.data(),createdAt:(c=o.data().createdAt)==null?void 0:c.toDate(),updatedAt:(f=o.data().updatedAt)==null?void 0:f.toDate()})}),e(a)})}static async addUser(e){try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))throw new Error("Invalid email format");if(!/^\d{10}$/.test(e.phone))throw new Error("Phone number must be exactly 10 digits");const a=ka(Yn(Ct,Mt.USERS),Wg("email","==",e.email));if(!(await Xg(a)).empty)throw new Error("User with this email already exists");return(await Tc(Yn(Ct,Mt.USERS),{name:e.name.trim(),email:e.email.toLowerCase().trim(),phone:e.phone.trim(),createdAt:Gn(),updatedAt:Gn()})).id}catch(t){throw console.error("Error adding user:",t),t}}static async updateUser(e,t){try{if(t.email){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))throw new Error("Invalid email format");t.email=t.email.toLowerCase().trim()}if(t.phone&&!/^\d{10}$/.test(t.phone))throw new Error("Phone number must be exactly 10 digits");const n=Ii(Ct,Mt.USERS,e);await Zy(n,{...t,updatedAt:Gn()})}catch(n){throw console.error("Error updating user:",n),n}}static async deleteUser(e){try{await Uh(Ii(Ct,Mt.USERS,e))}catch(t){throw console.error("Error deleting user:",t),t}}static searchUsers(e,t){if(!t)return e;const n=t.toLowerCase();return e.filter(a=>a.name.toLowerCase().includes(n)||a.email.toLowerCase().includes(n))}}class df{static subscribeToTaskTemplates(e){const t=ka(Yn(Ct,Mt.TASK_TEMPLATES),Ns("name","asc"));return Ec(t,n=>{const a=[];n.forEach(o=>{var c,f;a.push({id:o.id,...o.data(),createdAt:(c=o.data().createdAt)==null?void 0:c.toDate(),updatedAt:(f=o.data().updatedAt)==null?void 0:f.toDate()})}),e(a)})}static async addTaskTemplate(e){try{return(await Tc(Yn(Ct,Mt.TASK_TEMPLATES),{name:e.name.trim(),createdAt:Gn(),updatedAt:Gn()})).id}catch(t){throw console.error("Error adding task template:",t),t}}static async deleteTaskTemplate(e){try{await Uh(Ii(Ct,Mt.TASK_TEMPLATES,e))}catch(t){throw console.error("Error deleting task template:",t),t}}static searchTaskTemplates(e,t){if(!t)return e;const n=t.toLowerCase();return e.filter(a=>a.name.toLowerCase().includes(n))}}class ff{static subscribeToSubTaskTemplates(e){const t=ka(Yn(Ct,Mt.SUBTASK_TEMPLATES),Ns("name","asc"));return Ec(t,n=>{const a=[];n.forEach(o=>{var c,f;a.push({id:o.id,...o.data(),createdAt:(c=o.data().createdAt)==null?void 0:c.toDate(),updatedAt:(f=o.data().updatedAt)==null?void 0:f.toDate()})}),e(a)})}static async addSubTaskTemplate(e){try{return(await Tc(Yn(Ct,Mt.SUBTASK_TEMPLATES),{name:e.name.trim(),createdAt:Gn(),updatedAt:Gn()})).id}catch(t){throw console.error("Error adding subtask template:",t),t}}static async deleteSubTaskTemplate(e){try{await Uh(Ii(Ct,Mt.SUBTASK_TEMPLATES,e))}catch(t){throw console.error("Error deleting subtask template:",t),t}}static searchSubTaskTemplates(e,t){if(!t)return e;const n=t.toLowerCase();return e.filter(a=>a.name.toLowerCase().includes(n))}}const T3=()=>{const[r,e]=Q.useState({tasks:[],clients:[],users:[],taskTemplates:[],subtaskTemplates:[]}),[t,n]=Q.useState({tasks:!0,clients:!0,users:!0,taskTemplates:!0,subtaskTemplates:!0}),[a,o]=Q.useState(null),[c,f]=Q.useState({});Q.useEffect(()=>((async()=>{try{const z={};z.tasks=Lu.subscribeToTasks($=>{e(Y=>({...Y,tasks:$})),n(Y=>({...Y,tasks:!1}))}),z.clients=gg.subscribeToClients($=>{e(Y=>({...Y,clients:$})),n(Y=>({...Y,clients:!1}))}),z.users=Vu.subscribeToUsers($=>{e(Y=>({...Y,users:$})),n(Y=>({...Y,users:!1}))}),z.taskTemplates=df.subscribeToTaskTemplates($=>{e(Y=>({...Y,taskTemplates:$})),n(Y=>({...Y,taskTemplates:!1}))}),z.subtaskTemplates=ff.subscribeToSubTaskTemplates($=>{e(Y=>({...Y,subtaskTemplates:$})),n(Y=>({...Y,subtaskTemplates:!1}))}),f(z)}catch(z){console.error("Error initializing data:",z),o(z.message),n({tasks:!1,clients:!1,users:!1,taskTemplates:!1,subtaskTemplates:!1})}})(),()=>{Object.values(c).forEach(z=>{z&&z()})}),[]);const p={add:Q.useCallback(async x=>await Lu.addTask(x),[]),update:Q.useCallback(async(x,z)=>await Lu.updateTask(x,z),[]),delete:Q.useCallback(async x=>await Lu.deleteTask(x),[]),bulkDelete:Q.useCallback(async x=>await Lu.deleteTasks(x),[])},g={add:Q.useCallback(async x=>await Vu.addUser(x),[]),update:Q.useCallback(async(x,z)=>await Vu.updateUser(x,z),[]),delete:Q.useCallback(async x=>await Vu.deleteUser(x),[]),search:Q.useCallback(x=>Vu.searchUsers(r.users,x),[r.users])},y={add:Q.useCallback(async x=>await gg.addClient(x),[]),update:Q.useCallback(async(x,z)=>await gg.updateClient(x,z),[])},_={add:Q.useCallback(async x=>await df.addTaskTemplate(x),[]),delete:Q.useCallback(async x=>await df.deleteTaskTemplate(x),[]),search:Q.useCallback(x=>df.searchTaskTemplates(r.taskTemplates,x),[r.taskTemplates])},T={add:Q.useCallback(async x=>await ff.addSubTaskTemplate(x),[]),delete:Q.useCallback(async x=>await ff.deleteSubTaskTemplate(x),[]),search:Q.useCallback(x=>ff.searchSubTaskTemplates(r.subtaskTemplates,x),[r.subtaskTemplates])},A=Q.useCallback(x=>{c[x]&&n(z=>({...z,[x]:!0}))},[c]),C=Object.values(t).some(Boolean),V=Q.useCallback(x=>{switch(x){case"users":return r.users.map(z=>({id:z.id,label:z.name,value:z.name,email:z.email,phone:z.phone}));case"clients":return r.clients.map(z=>({id:z.id,label:z.name,value:z.name}));case"taskTemplates":return r.taskTemplates.map(z=>({id:z.id,label:z.name,value:z.name}));case"subtaskTemplates":return r.subtaskTemplates.map(z=>({id:z.id,label:z.name,value:z.name}));case"priority":return[{id:"low",label:"Low",value:"Low"},{id:"medium",label:"Medium",value:"Medium"},{id:"high",label:"High",value:"High"},{id:"critical",label:"Critical",value:"Critical"}];case"status":return[{id:"todo",label:"Todo",value:"Todo"},{id:"inprogress",label:"In Progress",value:"In Progress"},{id:"completed",label:"Completed",value:"Completed"},{id:"archived",label:"Archived",value:"Archived"}];default:return[]}},[r]);return{data:r,loading:t,error:a,isLoading:C,taskOperations:p,userOperations:g,clientOperations:y,taskTemplateOperations:_,subtaskTemplateOperations:T,refresh:A,getDropdownData:V}};function E3(){const[r,e]=Q.useState([]),[t,n]=Q.useState(null),a=T3(),o=Q.useCallback(async()=>{try{const y={client:"",task:"",subTask:"",estimatedTime:0,allottedTo:"",teamLeader:"",priority:"Medium",dueDate:"",frequency:"None",comment:"",status:"Todo",timeTaken:0};await a.taskOperations.add(y)}catch(y){console.error("Error adding new task:",y),alert("Failed to add task. Please try again.")}},[a]);Q.useEffect(()=>{const _=setTimeout(async()=>{if(a&&!a.isLoading&&a.data.tasks.length===0)try{await o()}catch(T){console.error("Error adding sample data:",T)}},2e3);return()=>clearTimeout(_)},[a,o]);const c=Q.useCallback(async()=>{if(r.length>0)try{await a.taskOperations.bulkDelete(r),e([])}catch(y){console.error("Error deleting tasks:",y),alert("Failed to delete tasks. Please try again.")}},[r,a]),f=Q.useCallback(()=>{},[]),p=Q.useCallback(async(y,_,T)=>{try{await a.taskOperations.update(y,{[_]:T})}catch(A){console.error("Error updating task:",A),alert("Failed to update task. Please try again.")}},[a]),g=Q.useCallback((y,_)=>{y==="add"?["client","allottedTo","teamLeader"].includes(_)?n("addUser"):_==="task"?n("addTask"):_==="subTask"&&n("addSubTask"):y==="refresh"?a!=null&&a.refresh&&(["client","allottedTo","teamLeader"].includes(_)?a.refresh("users"):_==="task"?a.refresh("taskTemplates"):_==="subTask"&&a.refresh("subtaskTemplates")):y==="delete"&&(r.length>0?c():alert("Please select items to delete"))},[a,r,c]);return kk({"ctrl+n":()=>o(),delete:()=>c(),"ctrl+s":()=>f()}),a.isLoading?I.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:I.jsxs("div",{className:"text-center",children:[I.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),I.jsx("p",{className:"text-gray-600",children:"Loading Task Management System..."})]})}):a.error?I.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:I.jsx("div",{className:"text-center",children:I.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[I.jsxs("p",{children:["Error: ",a.error]}),I.jsx("p",{className:"text-sm mt-2",children:"Please refresh the page or try again later."})]})})}):I.jsxs("div",{className:"min-h-screen bg-gray-100 app-container",children:[I.jsx("div",{className:"bg-white shadow-sm border-b",children:I.jsx("div",{className:"w-full px-5 py-3",children:I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsxs("div",{className:"flex items-center space-x-4",children:[I.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Jayesh"}),I.jsx("span",{className:"text-sm text-gray-500",children:"Jayesh2401@gmail.com"})]}),I.jsxs("div",{className:"flex items-center space-x-4",children:[I.jsxs("button",{className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium flex items-center space-x-2 transition-colors",children:[I.jsx("span",{className:"w-2 h-2 bg-white rounded-full"}),I.jsx("span",{children:"30 Days"})]}),I.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-800 rounded-md hover:bg-gray-100 transition-colors",children:I.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:I.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})})}),I.jsxs("div",{className:"w-full px-5 py-6",children:[I.jsx(qA,{tasks:a.data.tasks}),I.jsx(xk,{tasks:a.data.tasks,dataManager:a,selectedRows:r,setSelectedRows:e,updateTask:p,addNewTask:o,deleteSelectedTasks:c,onColumnAction:g})]}),t==="addUser"&&a&&I.jsx(NE,{isOpen:!0,onClose:()=>n(null),onAdd:async y=>{try{await a.userOperations.add(y),n(null)}catch(_){console.error("Error adding user:",_),alert("Failed to add user. Please try again.")}}}),t==="addTask"&&a&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[I.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Task Template"}),I.jsx("input",{type:"text",placeholder:"Enter task name",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-4",onKeyDown:y=>{y.key==="Enter"&&y.target.value.trim()&&(a.taskTemplateOperations.add({name:y.target.value.trim()}),n(null))},autoFocus:!0}),I.jsx("div",{className:"flex justify-end space-x-2",children:I.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})})]})}),t==="addSubTask"&&a&&I.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:I.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[I.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add SubTask Template"}),I.jsx("input",{type:"text",placeholder:"Enter subtask name",className:"w-full px-3 py-2 border border-gray-300 rounded-md mb-4",onKeyDown:y=>{y.key==="Enter"&&y.target.value.trim()&&(a.subtaskTemplateOperations.add({name:y.target.value.trim()}),n(null))},autoFocus:!0}),I.jsx("div",{className:"flex justify-end space-x-2",children:I.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"})})]})})]})}YA.createRoot(document.getElementById("root")).render(I.jsx(Q.StrictMode,{children:I.jsx(E3,{})}));
